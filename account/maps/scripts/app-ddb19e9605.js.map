{"version":3,"sources":["scripts/app.js"],"names":["config","$translatePartialLoaderProvider","msApiProvider","addPart","register","$inject","angular","module","ChatTabController","msApi","$timeout","toggleChat","contact","vm","chatActive","replyMessage","chat","scrollToBottomOfChat","reply","dialog","push","who","message","time","speed","chatDialog","element","animate","scrollTop","scrollHeight","this","request","response","contacts","data","controller","MsWidgetController","$scope","$element","flip","isFlippable","flipped","toggleClass","isDefined","flippable","msWidgetDirective","restrict","scope","transclude","compile","tElement","addClass","iElement","iAttrs","MsWidgetCtrl","transcludeFn","clone","empty","append","msWidgetFrontDirective","require","flipWidget","msWidgetBackDirective","directive","MsTimelineController","setScrollEl","scrollEl","getScrollEl","undefined","msTimelineDirective","msTimeline","loadMore","MsTimelineCtrl","onScroll","height","threshold","loadMoreEl","position","top","unregisterOnScroll","then","removeClass","registerOnScroll","remove","on","off","extend","$on","msTimelineItemDirective","$q","init","find","event","args","cardEl","testForImage","itemLoaded","testForVisibility","deferred","defer","imgEl","length","resolve","promise","itemInViewport","itemReadyWatcher","$watch","current","old","equals","MsStepperController","setOrientation","orientation","registerMainForm","form","mainForm","registerStep","step","stepNumber","steps","stepTitle","sort","a","b","setupSteps","setCurrentStep","currentStepNumber","resetForm","x","$setPristine","$setUntouched","gotoFirstStep","isStepNumberValid","i","hide","show","j","gotoStep","isStepHidden","gotoPreviousStep","s","gotoNextStep","gotoLastStep","isFirstStep","isLastStep","isStepCurrent","isStepDisabled","disabled","isStepValid","isStepOptional","optionalStep","hideStep","filterHiddenStep","$valid","isUndefined","isFormValid","currentStep","msHorizontalStepperDirective","priority","bindToController","model","templateUrl","ctrls","FormCtrl","MsStepperCtrl","msHorizontalStepperStepDirective","msVerticalStepperDirective","msVerticalStepperStepDirective","stepInfo","MsStepper","msSplashScreenDirective","$animate","link","splashScreenRemoveEvent","leave","msSidenavHelperDirective","MdSidenavCtrl","isOpen","isLockedOpen","parent","MsShortcutsController","$cookies","$document","msNavigationService","loadShortcuts","shortcuts","results","resultsLoading","populateResults","flatNavigation","getFlatNavigation","uisref","query","filter","item","lowercase","title","search","hasShortcut","y","_id","selectedResultIndex","fromJson","get","icon","state","weight","children","_path","put","toJson","saveShortcuts","success","addShortcut","removeShortcut","splice","handleResultClick","absorbEvent","preventDefault","handleKeydown","keyCode","keys","indexOf","ensureSelectedResultIsVisible","handleMouseenter","index","ignoreMouseEvents","temporarilyIgnoreMouseEvents","cancel","mouseEventIgnoreTimeout","resultsEl","selectedItemEl","bottom","outerHeight","toggleMobileBar","mobileBarActive","queryOptions","debounce","sortableOptions","ghostClass","forceFallback","fallbackClass","onSort","msShortcutsDirective","MsSearchBarController","collapsed","onSearchEvaluated","$parent","$eval","onSearch","isArray","isPromise","isNull","expand","onExpand","isFunction","collapse","onCollapse","onResultClick","msSearchBarDirective","inputEl","bodyEl","focus","msScrollConfigProvider","configuration","defaultConfiguration","wheelSpeed","wheelPropagation","swipePropagation","minScrollbarLength","maxScrollbarLength","useBothWheelAxes","useKeyboard","suppressScrollX","suppressScrollY","scrollXMarginOffset","scrollYMarginOffset","stopPropagationOnClick","$get","getConfig","service","msScrollDirective","msScrollConfig","msUtils","fuseConfig","isMobile","updateScrollbar","PerfectScrollbar","update","options","msScroll","initialize","prop","destroy","provider","msResponsiveTableDirective","wrapper","after","msRandomClassDirective","msRandomClass","randomClass","Math","floor","random","msNavigationServiceProvider","saveItem","path","isString","$log","error","parts","split","id","_findOrCreateParent","updateItem","_getUiSref","isNumber","deleteItem","navigation","p","sortByWeight","_byWeight","pop","createParent","join","parseInt","stateParams","isObject","injector","clearNavigation","navigationScope","setActiveItem","node","activeItem","getActiveItem","getNavigation","root","_flattenNavigation","setNavigationScope","setFolded","status","folded","getFolded","setFoldedOpen","foldedOpen","getFoldedOpen","toggleFolded","flatNav","navToPush","copy","concat","MsNavigationController","toggleHorizontalMobileMenu","msNavigationDirective","$rootScope","$mdSidenav","$broadcast","setFoldExpander","$emit","removeFoldCollapser","foldExpanderEl","onFoldExpanderHover","setFoldCollapser","foldCollapserEl","onFoldCollapserHover","sidenav","close","MsNavigationNodeController","$state","hasChildren","group","collapsable","name","includes","params","$evalAsync","givenPathParts","activePathParts","toggleCollapsed","collapseEl","offsetHeight","display","animateHeightClass","css","expandEl","visibility","getClass","isHidden","hidden","msNavigationNodeDirective","MsNavigationNodeCtrl","msNavigationItemDirective","msNavigationHorizontalDirective","MsNavigationHorizontalNodeController","isActive","msNavigationHorizontalNodeDirective","MsNavigationHorizontalNodeCtrl","msNavigationHorizontalItemDirective","$mdMedia","onClick","msNavFoldService","setFoldable","foldable","isNavFoldedOpen","toggleFold","openFolded","closeFolded","msNavIsFoldedDirective","isFoldedOpen","isFolded","fold","unfold","body","sidenavEl","openOverlay","closeOverlay","msNavIsFolded","MsNavController","isDisabled","disable","enable","setToggleItem","toggleItems","getLockedItems","lockedItems","setLockedItem","clearLockedItems","msNavDirective","$mdComponentRegistry","stateChangeSuccessEvent","when","msNavTitleDirective","msNavButtonDirective","msNavToggleDirective","tAttrs","attr","MsNavCtrl","toggle","isCollapsed","isExpanded","reject","elementToExpand","classes","expandAnimation","expanded","elementToCollapse","collapseAnimation","links","states","regExp","forEach","replace","locked","lockedItem","currentState","shouldExpand","factory","msMaterialColorPickerController","$mdColorPalette","$mdMenu","fuseGenerator","activateHueSelection","palette","hues","selectedPalette","selectedHues","selectColor","hue","updateSelectedColor","updateModel","removeColor","selectedColor","class","setSelectedColor","modelCtrl","$viewValue","msModelType","color","bgColorValue","rgba","palettes","value","fgColorValue","contrast","$selectedColor","$setViewValue","msMaterialColorPicker","ngModel","attrs","controllers","ctrl","el","nodeType","replaceWith","msMasonryController","$window","defaultOpts","watchContainerResize","waitImagesLoaded","callback","imagesLoaded","imgLoad","container","width","newValue","oldValue","reLayout","start","containerPos","getBoundingClientRect","updateColumnOptions","items","referenceArr","Array","apply","columnCount","map","xPos","yPos","column","refTop","columnWidth","respectItemOrder","min","round","transform","reLayoutTimeout","reLayoutDebounce","responsive","md","sm","xs","msMasonry","attributes","pre","post","msMasonryItem","newVal","oldVal","msInfoBarDirective","removeInfoBar","bodyClass","$destroy","MsFormWizardController","registerForm","forms","previousStep","selectedIndex","nextStep","firstStep","lastStep","totalSteps","currentStepInvalid","$invalid","previousStepInvalid","formsIncomplete","msFormWizardDirective","msFormWizardFormDirective","formCtrl","MsFormWizardCtrl","msDatepickerFixConfigProvider","formatter","val","Date","parser","offset","moment","utcOffset","date","add","msDatepickerFix","msDatepickerFixConfig","elem","$formatters","unshift","$parsers","msCardDirective","templatePath","card","template","cardTemplateLoaded","$stateProvider","url","views","main@","content@app.statement","StatementController","api","Clique","$location","$cookieStore","$http","$stateParams","$mdDialog","InvoiceModel","$filter","getInvoices","GetInvoiceDetails","invoice","ChargeAmount","statuscode","InvoiceData","countColor","key","amountToPaid","Balance","colorCode","customerName","CustomerRef","customerID","customerEmail","console","log","TotalAmount","contentPage","$","document","ready","click","showToast","statusmessage","showPrerenderedDialog","contentElement","clickOutsideToClose","showCCDiv","showACHDiv","ccinfo","type","isValidate","IsSubmit","isAchEnable","showstep2","showstep1","cardlogos","src","token","app_id","authorization","appId","defaults","headers","common","localStorage","setItem","checkAchEnable","getItem","submit","ButtonDisable","showProgress","cardconnectError","cardconnectSuccess","cardholder","creditCardNumber","cardnumber","expMonth","months","expYears","years","cc2","Balamount","streetaddress","zipcode","parseFloat","toFixed","Line","docnumber","invoiceCount","amountToCharge","LineItem","Amount","LinkedTxn","TxnId","Id","TxnLineId","TxnType","DocNumber","paymentObj","querySelector","TotalAmt","TransType","CardHolder","CreditCardNumber","Month","Exp","CCV2","CustomerEmail","Type","CardConnectPaymentPartially","cardconnectMsg","feedbackEnable","checkoutForm","submitACH","account","bankaba","ACHForm","calculateTotalAmount","changePaymentMode","year","getFullYear","range","month","rating","feedback","showcommentbox","showbox","submitfeedback","showfeedbackProgress","feedbackcomment","feedbackObj","feedbackinfo","rate","comment","invoice_id","paymentprocessor","paymntprocessor","customer_id","customerFeedback","step1","step2","copyToClipboard","$temp","text","select","execCommand","invoicePreview","ev","locals","Invoice_id","InvoicePreviewController","signup","go","showPreviewProgress","showPreview","GetInvoiceTemplate","html","decimalCases","whatToSet","str","Number","whatToShow","num","bind","$modelValue","elm","test","$setValidity","content@app","Invoice","InvoiceController","$sce","isBase64","decodedString","JSON","parse","atob","template_color","template_id","getTotalAmount","sessionStorage","InvoiceId","GetInvoiceTemplateBase64","GetInvoiceDetailBase64","GetInvoiceDetailsBase64","invoiceLength","company","paymentConfiguration","payment","paymentconfiguration","companyInfo","hasOwnProperty","supported_methods","ach","stringify","showContent","ventivTranURL","sessionId","ventivURL","ventiv_form","mode","paypalURL","trustAsResourceUrl","paypalCustomVariable","customer_name","paypalMerchantId","merchant_id","paypal_form","env","recentUrl","is_already_customer","window","location","TxnTaxDetail","invoiceTxt","TotalTax","isNotBase64","GetInvoiceDetail","href","item_amount","total","paymentProcessing","URL","w","h","left","screen","open","appConfig","configApp","appName","appLogo","e","SuccessController","logo","Range","Trie","l","trie","prototype","char","len","obj","ref","toString","trie1","constructor","Error","rangeWithString","ranges","k","n","r","ref1","match","number","jQuery","fn","validateCreditCard","card_type","card_types","get_card_type","is_valid_length","is_valid_luhn","normalize","validate","validate_number","valid_length","accept","call","len1","digit","sum","reverse","length_valid","luhn_valid","valid","_this","content@app.cardconnect","CheckOutController","displayHTML","displayPDF","getServiceUrl","responseType","Uint8Array","IsDefaultTemplate","is_default_template","convenience_fee","is_active","conEnabled","ConCheck","amount","convenience_feetype","transamount","isAch","is_ach","checkIsAchEnable","erpType","erptype","erpTypeMain","isenable","feedbackType","feedbackURL","docId","DocId","BillEmail","Address","err","CPappLogo","showInvoice","showPrint","IsPaidInvoice","IsGreater","hideForm","authResponse","paymentMethodValue","selectedMode","selectedDirection","keyPressed","keyEvent","currentAmount","invoiceAmount","amounterror","clearinputfiel","checkForBase64","showAdvanced","DialogController","closeDialog","targetEvent","paymentinfo","Streetaddress","Zipcode","ErpType","Cardinfo","Cardholder","Year","CardType","Custom","Name","Email","CardConnectPayment","transactionAmount","totalAmount","Achinfo","HelperService","format","plainNumber","content@app.signup","content@app.login","toolbar@app.invoices","navigation@app.invoices","content@app.invoices","toolbar@app.invoice-payment","navigation@app.invoice-payment","content@app.invoice-payment","toolbar@app.invoice-detail","navigation@app.invoice-detail","content@app.invoice-detail","toolbar@app.profile","navigation@app.profile","content@app.profile","content@app.forgot-password","toolbar@app.receipts","navigation@app.receipts","content@app.receipts","SignupController","getRandomInt","max","randomNumber","templates","bgImg","bgImg1","bgImg2","backGroundImage","testDrive","billCustomer","invoicingApp","Params","username","password","email","ref_id","confirm_password","passwordConfirm","Signup","InvoiceDetail","LoginController","getPaymentMethods","GetPaymentMethods","paymentMethods","is_default","isCustomer","loginObj","Login","is_customer","isShowWizard","show_wizard","accounting_software","refapp_id","customerref","new_url","ForgotPasswordController","ForgetPassword","CustomerInvoicesController","toolBarProcess","selectedInvoiceData","selectedCustomer","invoiceSelection","filteredInvoice","showInvoiceToolBar","IsPaid","showInvoicePaymentButton","paymentInvoice","dataObj","searchInvoice","from","from_date","to","to_date","customer","selectedCustomerID","device_type","searchingstatus","showProgressbar","GetAllInvoice","invoices","searchAdvance","enableAdvanceSearch","paid","statistics","due","overdue","openInvoiceDetail","invoice_status","invoice_details","triggerHandler","firstDay","getMonth","sendmessage","controllerAs","currentCustomerInfo","limit","order","page","selected","InvoicesPaymentController","ReceiptsController","searchTransactions","amount_from","searching","amount_to","searchTransaction","transSelection","GetTransactions","printTransaction","transDetails","payment_data","trans_type","transactionType","trans_timestamp","timeConverter","trans_amount","invoice_no","last4digit","cardtype","cardholder_name","retref","authcode","popupWin","printContent","address1","city","phone","write","moveTo","resizeTo","print","downloadReport","selectedTransId","trans_id","t_ids","serviceurl","endPoint","method","blob","Blob","fileURL","createObjectURL","createElement","target","download","appendChild","UNIX_timestamp","getDate","hour","getHours","getMinutes","ampm","sec","getSeconds","invoiceSelectAction","userName","InvoicesDetailController","$httpParamSerializer","getSettings","GetSettings","settings","displayTemplate","getProfileList","ProfileGet","customerId","con","showCCField","showACHField","ccprofile","achprofile","usedCardProfile","isCCRequired","isACHRequired","isProfile","ProfileId","ACHProfileId","AchtransType","buttonDisable","checkoutFormCustomer","invoice_detail","invoiceBalance","invoiceTemplateWidth","isSaveProfile","cardType","CreateCardProfile","payform","UpdateCCFields","address","postal","profile_id","UpdateACHFields","ProfileController","showProfiletable","foldedLeftPannel","showProfileBar","showDropDown","acctid","profile","first_character","profile_selection_type","editProfile","last_digits","profileid","selectedProfileType","editSaveProfile","profileObj","Profile_Id","Acct_Id","expmonth","expyear","ProfileAdd","profileForm","reload","editACHProfile","ACHProfileForm","deleteProfile","ProfileDelete","showlist","showProfileEdit","getSelectedText","openCustomerProfileTransactionModel","customerdetail","$event","CustomerProfileTransactionController","profileID","last4gigits","CustomerTransactionGet","transactionData","ComposeController","hiddenCC","hiddenBCC","messageObj","cc","subject","charAt","toLowerCase","cardImage","isSatisfied","criteria","strength","pattrColor","minlength","special","viewValue","patt","RegExp","patternValidator","isValid","fuseThemingService","$mdTheming","getRegisteredPalettes","PALETTES","getRegisteredThemes","THEMES","setActiveTheme","themeName","themes","list","warn","active","theme","setThemesList","themeList","$mdThemingProvider","fusePalettes","fuseThemes","invoke","_$cookies","customTheme","getObject","alwaysWatchTheme","definePalette","primaryPalette","primary","accentPalette","accent","warnPalette","backgroundPalette","background","default","hue-1","hue-2","hue-3","pinkTheme","tealTheme","constant","50","100","200","300","400","500","600","700","800","900","A100","A200","A400","A700","contrastDefaultColor","contrastDarkColors","contrastStrongLightColors","fuseGeneratorService","fuseTheming","generate","registeredThemes","registeredPalettes","registeredTheme","colors","colorType","colorTypeName","levels","contrast1","contrast2","contrast3","contrast4","hue1","hue2","hue3","processAndStoreThemes","styleVars","colorTypes","colorLevelName","colorName","ucfirst","render","_themes","selectedTheme","cssTemplate","regex","Object","matched","headEl","styleEl","_contrastLevel","contrastLevel","applyContrast","contrastLevels","white","1","2","3","4","black","string","toUpperCase","slice","MsThemeOptionsController","getActiveTheme","updateLayoutMode","layoutMode","updateLayoutStyle","layoutStyle","layoutModes","label","layoutStyles","figure","msThemeOptions","toggleOptionsSidenav","exists","detectBrowser","searchString","dataString","dataProp","versionSearchString","versionSearch","identity","subString","searchVersion","substring","browserInfo","browserData","navigator","userAgent","vendor","opera","osData","platform","browser","version","appVersion","os","guidGenerator","S4","mobileDetect","mobile","toggleInArray","array","MobileDetect","setBaseUrl","baseUrl","getBaseUrl","getApiObject","resource","paramDefaults","actions","$resource","action","parameters","actionParts","apiObject","resourceObject","apiResolverService","resourceParts","filterByTags","tags","filtered","every","tag","tagExists","itemTag","filterSingleByTags","itemTags","filterByPropIds","parameter","ids","filterByIds","toTrustedFilter","trustAsHtml","htmlToPlainTextFilter","String","nospaceFilter","humanizeDocFilter","doc","$1","altDate","diff","now","fromNow","calendar","hljsDirective","$interpolate","code","contents","codeElement","lines","line","trim","firstLineWhitespace","startingWhitespaceRegex","highlightedCode","hljs","highlight","language","lang","shouldInterpolate","contentParent","define","amd","exports","CountUp","startVal","endVal","decimals","duration","lastTime","vendors","requestAnimationFrame","cancelAnimationFrame","currTime","getTime","timeToCall","setTimeout","clearTimeout","useEasing","useGrouping","separator","decimal","postFormatter","prefix","suffix","d","getElementById","countDown","frameVal","dec","pow","self","printValue","result","isNaN","formatNumber","innerHTML","easeOutExpo","t","c","count","timestamp","datetime","startTime","progress","remaining","rAF","pauseResume","paused","reset","newEndVal","nStr","x1","x2","rgx","countupto","numAnim","option","fuseConfigProvider","fuseConfiguration","disableCustomScrollbars","disableMdInkRippleOnMobile","disableCustomScrollbarsOnMobile","configName","setConfig","configValue","ToolbarController","$translate","$mdToast","selectCompany","companyName","company_name","userStatus","userStatusOptions","selectedLanguage","languages","preferredLanguage","TopMenu","menu","removeItem","assign","toggleSidenav","sidenavId","setUserStatus","logout","changeLanguage","hideDelay","use","toggleMsNavigationFolded","searchResultClick","global","customerInfo","en","translation","flag","es","tr","customMenu","user_name","getUserName","topMenuList","topMenus","QuickPanelController","notify","cloud","retro","activities","events","notes","NavigationController","msScrollOptions","MainController","targetScope","$id","alert","callService","handleSuccess","handleError","temp_id","inv_color","qs","ProfileEdit","AllTransaction","downloadReceipt","res","runBlock","htmlClass","run","$ariaProvider","$logProvider","$translateProvider","debugEnabled","useLoader","urlTemplate","useSanitizeValueStrategy","tabindex","stateChangeStartEvent","loadingProgress","routeConfig","$urlRouterProvider","$locationProvider","html5Mode","otherwise","layouts","verticalNavigation","main","toolbar","verticalNavigationFullwidthToolbar","verticalNavigationFullwidthToolbar2","horizontalNavigation","contentOnly","contentWithToolbar","abstract","toolbar@app","navigation@app","quickPanel@app","IndexController","apiService","$templateCache"],"mappings":"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","file":"scripts/app-ddb19e9605.js","sourcesContent":["(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.quick-panel', [])\r\n        .config(config);\r\n\r\n    /** @ngInject */\r\n    function config($translatePartialLoaderProvider, msApiProvider)\r\n    {\r\n        // Translation\r\n        $translatePartialLoaderProvider.addPart('app/quick-panel');\r\n\r\n        // Api\r\n        msApiProvider.register('quickPanel.activities', ['app/data/quick-panel/activities.json']);\r\n        msApiProvider.register('quickPanel.contacts', ['app/data/quick-panel/contacts.json']);\r\n        msApiProvider.register('quickPanel.events', ['app/data/quick-panel/events.json']);\r\n        msApiProvider.register('quickPanel.notes', ['app/data/quick-panel/notes.json']);\r\n    }\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.quick-panel')\r\n        .controller('ChatTabController', ChatTabController);\r\n\r\n    /** @ngInject */\r\n    function ChatTabController(msApi, $timeout)\r\n    {\r\n        var vm = this;\r\n\r\n        // Data\r\n        vm.chat = {};\r\n        vm.chatActive = false;\r\n        vm.replyMessage = '';\r\n\r\n        msApi.request('quickPanel.contacts@get', {},\r\n            // Success\r\n            function (response)\r\n            {\r\n                vm.contacts = response.data;\r\n            }\r\n        );\r\n\r\n        // Methods\r\n        vm.toggleChat = toggleChat;\r\n        vm.reply = reply;\r\n\r\n        //////////\r\n\r\n        function toggleChat(contact)\r\n        {\r\n            vm.chatActive = !vm.chatActive;\r\n\r\n            if ( vm.chatActive )\r\n            {\r\n                vm.replyMessage = '';\r\n                vm.chat.contact = contact;\r\n                scrollToBottomOfChat(0);\r\n            }\r\n        }\r\n\r\n        function reply()\r\n        {\r\n            if ( vm.replyMessage === '' )\r\n            {\r\n                return;\r\n            }\r\n\r\n            if ( !vm.chat.contact.dialog )\r\n            {\r\n                vm.chat.contact.dialog = [];\r\n            }\r\n\r\n            vm.chat.contact.dialog.push({\r\n                who    : 'user',\r\n                message: vm.replyMessage,\r\n                time   : 'Just now'\r\n            });\r\n\r\n            vm.replyMessage = '';\r\n\r\n            scrollToBottomOfChat(400);\r\n        }\r\n\r\n        function scrollToBottomOfChat(speed)\r\n        {\r\n            var chatDialog = angular.element('#chat-dialog');\r\n\r\n            $timeout(function ()\r\n            {\r\n                chatDialog.animate({\r\n                    scrollTop: chatDialog[0].scrollHeight\r\n                }, speed);\r\n            }, 0);\r\n\r\n        }\r\n    }\r\n\r\n})();\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.core',\r\n      [\r\n        'ngAnimate',\r\n        'ngAria',\r\n        'ngCookies',\r\n        'ngMessages',\r\n        'ngResource',\r\n        'ngSanitize',\r\n        'ngMaterial',\r\n        'pascalprecht.translate',\r\n        'ui.router',\r\n        'pdfjsViewer',\r\n\r\n      ]);\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .controller('MsWidgetController', MsWidgetController)\r\n        .directive('msWidget', msWidgetDirective)\r\n        .directive('msWidgetFront', msWidgetFrontDirective)\r\n        .directive('msWidgetBack', msWidgetBackDirective);\r\n\r\n    /** @ngInject */\r\n    function MsWidgetController($scope, $element)\r\n    {\r\n        var vm = this;\r\n\r\n        // Data\r\n        vm.flipped = false;\r\n\r\n        // Methods\r\n        vm.flip = flip;\r\n\r\n        //////////\r\n\r\n        /**\r\n         * Flip the widget\r\n         */\r\n        function flip()\r\n        {\r\n            if ( !isFlippable() )\r\n            {\r\n                return;\r\n            }\r\n\r\n            // Toggle flipped status\r\n            vm.flipped = !vm.flipped;\r\n\r\n            // Toggle the 'flipped' class\r\n            $element.toggleClass('flipped', vm.flipped);\r\n        }\r\n\r\n        /**\r\n         * Check if widget is flippable\r\n         *\r\n         * @returns {boolean}\r\n         */\r\n        function isFlippable()\r\n        {\r\n            return (angular.isDefined($scope.flippable) && $scope.flippable === true);\r\n        }\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msWidgetDirective()\r\n    {\r\n        return {\r\n            restrict  : 'E',\r\n            scope     : {\r\n                flippable: '=?'\r\n            },\r\n            controller: 'MsWidgetController',\r\n            transclude: true,\r\n            compile   : function (tElement)\r\n            {\r\n                tElement.addClass('ms-widget');\r\n\r\n                return function postLink(scope, iElement, iAttrs, MsWidgetCtrl, transcludeFn)\r\n                {\r\n                    // Custom transclusion\r\n                    transcludeFn(function (clone)\r\n                    {\r\n                        iElement.empty();\r\n                        iElement.append(clone);\r\n                    });\r\n\r\n                    //////////\r\n                };\r\n            }\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msWidgetFrontDirective()\r\n    {\r\n        return {\r\n            restrict  : 'E',\r\n            require   : '^msWidget',\r\n            transclude: true,\r\n            compile   : function (tElement)\r\n            {\r\n                tElement.addClass('ms-widget-front');\r\n\r\n                return function postLink(scope, iElement, iAttrs, MsWidgetCtrl, transcludeFn)\r\n                {\r\n                    // Custom transclusion\r\n                    transcludeFn(function (clone)\r\n                    {\r\n                        iElement.empty();\r\n                        iElement.append(clone);\r\n                    });\r\n\r\n                    // Methods\r\n                    scope.flipWidget = MsWidgetCtrl.flip;\r\n                };\r\n            }\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msWidgetBackDirective()\r\n    {\r\n        return {\r\n            restrict  : 'E',\r\n            require   : '^msWidget',\r\n            transclude: true,\r\n            compile   : function (tElement)\r\n            {\r\n                tElement.addClass('ms-widget-back');\r\n\r\n                return function postLink(scope, iElement, iAttrs, MsWidgetCtrl, transcludeFn)\r\n                {\r\n                    // Custom transclusion\r\n                    transcludeFn(function (clone)\r\n                    {\r\n                        iElement.empty();\r\n                        iElement.append(clone);\r\n                    });\r\n\r\n                    // Methods\r\n                    scope.flipWidget = MsWidgetCtrl.flip;\r\n                };\r\n            }\r\n        };\r\n    }\r\n\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .controller('MsTimelineController', MsTimelineController)\r\n        .directive('msTimeline', msTimelineDirective)\r\n        .directive('msTimelineItem', msTimelineItemDirective);\r\n\r\n    /** @ngInject */\r\n    function MsTimelineController()\r\n    {\r\n        var vm = this;\r\n\r\n        // Data\r\n        vm.scrollEl = undefined;\r\n\r\n        // Methods\r\n        vm.setScrollEl = setScrollEl;\r\n        vm.getScrollEl = getScrollEl;\r\n\r\n        //////////\r\n\r\n        /**\r\n         * Set scroll element\r\n         *\r\n         * @param scrollEl\r\n         */\r\n        function setScrollEl(scrollEl)\r\n        {\r\n            vm.scrollEl = scrollEl;\r\n        }\r\n\r\n        /**\r\n         * Get scroll element\r\n         *\r\n         * @returns {undefined|*}\r\n         */\r\n        function getScrollEl()\r\n        {\r\n            return vm.scrollEl;\r\n        }\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msTimelineDirective()\r\n    {\r\n        return {\r\n            scope     : {\r\n                msTimeline: '=?',\r\n                loadMore  : '&?msTimelineLoadMore'\r\n            },\r\n            controller: 'MsTimelineController',\r\n            compile   : function (tElement)\r\n            {\r\n                tElement.addClass('ms-timeline');\r\n\r\n                return function postLink(scope, iElement, iAttrs, MsTimelineCtrl)\r\n                {\r\n                    // Create an element for triggering the load more action and append it\r\n                    var loadMoreEl = angular.element('<div class=\"ms-timeline-loader md-accent-bg md-whiteframe-4dp\"><span class=\"spinner animate-rotate\"></span></div>');\r\n                    iElement.append(loadMoreEl);\r\n\r\n                    // Default config\r\n                    var config = {\r\n                        scrollEl: '#content'\r\n                    };\r\n\r\n                    // Extend the configuration\r\n                    config = angular.extend(config, scope.msTimeline, {});\r\n                    \r\n                    // Grab the scrollable element and store it in the controller for general use\r\n                    var scrollEl = angular.element(config.scrollEl);\r\n                    MsTimelineCtrl.setScrollEl(scrollEl);\r\n\r\n                    // Threshold\r\n                    var threshold = 144;\r\n\r\n                    // Register onScroll event for the first time\r\n                    registerOnScroll();\r\n\r\n                    /**\r\n                     * onScroll Event\r\n                     */\r\n                    function onScroll()\r\n                    {\r\n                        if ( scrollEl.scrollTop() + scrollEl.height() + threshold > loadMoreEl.position().top )\r\n                        {\r\n                            // Show the loader\r\n                            loadMoreEl.addClass('show');\r\n\r\n                            // Unregister scroll event to prevent triggering the function over and over again\r\n                            unregisterOnScroll();\r\n\r\n                            // Trigger load more event\r\n                            scope.loadMore().then(\r\n                                // Success\r\n                                function ()\r\n                                {\r\n                                    // Hide the loader\r\n                                    loadMoreEl.removeClass('show');\r\n\r\n                                    // Register the onScroll event again\r\n                                    registerOnScroll();\r\n                                },\r\n\r\n                                // Error\r\n                                function ()\r\n                                {\r\n                                    // Remove the loader completely\r\n                                    loadMoreEl.remove();\r\n                                }\r\n                            );\r\n                        }\r\n                    }\r\n\r\n                    /**\r\n                     * onScroll event registerer\r\n                     */\r\n                    function registerOnScroll()\r\n                    {\r\n                        scrollEl.on('scroll', onScroll);\r\n                    }\r\n\r\n                    /**\r\n                     * onScroll event unregisterer\r\n                     */\r\n                    function unregisterOnScroll()\r\n                    {\r\n                        scrollEl.off('scroll', onScroll);\r\n                    }\r\n\r\n                    // Cleanup\r\n                    scope.$on('$destroy', function ()\r\n                    {\r\n                        unregisterOnScroll();\r\n                    });\r\n                };\r\n            }\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msTimelineItemDirective($timeout, $q)\r\n    {\r\n        return {\r\n            scope  : true,\r\n            require: '^msTimeline',\r\n            compile: function (tElement)\r\n            {\r\n                tElement.addClass('ms-timeline-item').addClass('hidden');\r\n\r\n                return function postLink(scope, iElement, iAttrs, MsTimelineCtrl)\r\n                {\r\n                    var threshold = 72,\r\n                        itemLoaded = false,\r\n                        itemInViewport = false,\r\n                        scrollEl = MsTimelineCtrl.getScrollEl();\r\n\r\n                    //////////\r\n\r\n                    init();\r\n\r\n                    /**\r\n                     * Initialize\r\n                     */\r\n                    function init()\r\n                    {\r\n                        // Check if the timeline item has ms-card\r\n                        if ( iElement.find('ms-card') )\r\n                        {\r\n                            // If the ms-card template loaded...\r\n                            scope.$on('msCard::cardTemplateLoaded', function (event, args)\r\n                            {\r\n                                var cardEl = angular.element(args[0]);\r\n\r\n                                // Test the card to see if there is any image on it\r\n                                testForImage(cardEl).then(function ()\r\n                                {\r\n                                    $timeout(function ()\r\n                                    {\r\n                                        itemLoaded = true;\r\n                                    });\r\n                                });\r\n                            });\r\n                        }\r\n                        else\r\n                        {\r\n                            // Test the element to see if there is any image on it\r\n                            testForImage(iElement).then(function ()\r\n                            {\r\n                                $timeout(function ()\r\n                                {\r\n                                    itemLoaded = true;\r\n                                });\r\n                            });\r\n                        }\r\n\r\n                        // Check if the loaded element also in the viewport\r\n                        scrollEl.on('scroll', testForVisibility);\r\n\r\n                        // Test for visibility for the first time without waiting for the scroll event\r\n                        testForVisibility();\r\n                    }\r\n\r\n                    // Item ready watcher\r\n                    var itemReadyWatcher = scope.$watch(\r\n                        function ()\r\n                        {\r\n                            return itemLoaded && itemInViewport;\r\n                        },\r\n                        function (current, old)\r\n                        {\r\n                            if ( angular.equals(current, old) )\r\n                            {\r\n                                return;\r\n                            }\r\n\r\n                            if ( current )\r\n                            {\r\n                                iElement.removeClass('hidden').addClass('animate');\r\n\r\n                                // Unbind itemReadyWatcher\r\n                                itemReadyWatcher();\r\n                            }\r\n                        }, true);\r\n\r\n                    /**\r\n                     * Test the given element for image\r\n                     *\r\n                     * @param element\r\n                     * @returns promise\r\n                     */\r\n                    function testForImage(element)\r\n                    {\r\n                        var deferred = $q.defer(),\r\n                            imgEl = element.find('img');\r\n\r\n                        if ( imgEl.length > 0 )\r\n                        {\r\n                            imgEl.on('load', function ()\r\n                            {\r\n                                deferred.resolve('Image is loaded');\r\n                            });\r\n                        }\r\n                        else\r\n                        {\r\n                            deferred.resolve('No images');\r\n                        }\r\n\r\n                        return deferred.promise;\r\n                    }\r\n\r\n                    /**\r\n                     * Test the element for visibility\r\n                     */\r\n                    function testForVisibility()\r\n                    {\r\n                        if ( scrollEl.scrollTop() + scrollEl.height() > iElement.position().top + threshold )\r\n                        {\r\n                            $timeout(function ()\r\n                            {\r\n                                itemInViewport = true;\r\n                            });\r\n\r\n                            // Unbind the scroll event\r\n                            scrollEl.off('scroll', testForVisibility);\r\n                        }\r\n                    }\r\n                };\r\n            }\r\n        };\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .controller('MsStepperController', MsStepperController)\r\n        .directive('msHorizontalStepper', msHorizontalStepperDirective)\r\n        .directive('msHorizontalStepperStep', msHorizontalStepperStepDirective)\r\n        .directive('msVerticalStepper', msVerticalStepperDirective)\r\n        .directive('msVerticalStepperStep', msVerticalStepperStepDirective);\r\n\r\n    /** @ngInject */\r\n    function MsStepperController($timeout)\r\n    {\r\n        var vm = this;\r\n\r\n        // Data\r\n        vm.mainForm = undefined;\r\n\r\n        vm.orientation = 'horizontal';\r\n        vm.steps = [];\r\n        vm.currentStep = undefined;\r\n        vm.currentStepNumber = 1;\r\n\r\n        // Methods\r\n        vm.setOrientation = setOrientation;\r\n        vm.registerMainForm = registerMainForm;\r\n        vm.registerStep = registerStep;\r\n        vm.setupSteps = setupSteps;\r\n        vm.resetForm = resetForm;\r\n\r\n        vm.setCurrentStep = setCurrentStep;\r\n\r\n        vm.gotoStep = gotoStep;\r\n        vm.gotoPreviousStep = gotoPreviousStep;\r\n        vm.gotoNextStep = gotoNextStep;\r\n        vm.gotoFirstStep = gotoFirstStep;\r\n        vm.gotoLastStep = gotoLastStep;\r\n\r\n        vm.isFirstStep = isFirstStep;\r\n        vm.isLastStep = isLastStep;\r\n\r\n        vm.isStepCurrent = isStepCurrent;\r\n        vm.isStepDisabled = isStepDisabled;\r\n        vm.isStepOptional = isStepOptional;\r\n        vm.isStepHidden = isStepHidden;\r\n        vm.filterHiddenStep = filterHiddenStep;\r\n        vm.isStepValid = isStepValid;\r\n        vm.isStepNumberValid = isStepNumberValid;\r\n\r\n        vm.isFormValid = isFormValid;\r\n\r\n        //////////\r\n\r\n        /**\r\n         * Set the orientation of the stepper\r\n         *\r\n         * @param orientation\r\n         */\r\n        function setOrientation(orientation)\r\n        {\r\n            vm.orientation = orientation || 'horizontal';\r\n        }\r\n\r\n        /**\r\n         * Register the main form\r\n         *\r\n         * @param form\r\n         */\r\n        function registerMainForm(form)\r\n        {\r\n            vm.mainForm = form;\r\n        }\r\n\r\n        /**\r\n         * Register a step\r\n         *\r\n         * @param element\r\n         * @param scope\r\n         * @param form\r\n         */\r\n        function registerStep(element, scope, form)\r\n        {\r\n            var step = {\r\n                element   : element,\r\n                scope     : scope,\r\n                form      : form,\r\n                stepNumber: scope.step || (vm.steps.length + 1),\r\n                stepTitle : scope.stepTitle\r\n            };\r\n\r\n            // Push the step into steps array\r\n            vm.steps.push(step);\r\n\r\n            // Sort steps by stepNumber\r\n            vm.steps.sort(function (a, b)\r\n            {\r\n                return a.stepNumber - b.stepNumber;\r\n            });\r\n            \r\n            return step;\r\n        }\r\n\r\n        /**\r\n         * Setup steps for the first time\r\n         */\r\n        function setupSteps()\r\n        {\r\n            vm.setCurrentStep(vm.currentStepNumber);\r\n        }\r\n\r\n        /**\r\n         * Reset steps and the main form\r\n         */\r\n        function resetForm()\r\n        {\r\n            // Timeout is required here because we need to\r\n            // let form model to reset before setting the\r\n            // statuses\r\n            $timeout(function ()\r\n            {\r\n                // Reset all the steps\r\n                for ( var x = 0; x < vm.steps.length; x++ )\r\n                {\r\n                    vm.steps[x].form.$setPristine();\r\n                    vm.steps[x].form.$setUntouched();\r\n                }\r\n\r\n                // Reset the main form\r\n                vm.mainForm.$setPristine();\r\n                vm.mainForm.$setUntouched();\r\n\r\n                // Go to first step\r\n                gotoFirstStep();\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Set current step\r\n         *\r\n         * @param stepNumber\r\n         */\r\n        function setCurrentStep(stepNumber)\r\n        {\r\n            // If the stepNumber is not a valid step number, bail...\r\n            if ( !isStepNumberValid(stepNumber) )\r\n            {\r\n                return;\r\n            }\r\n\r\n            // Update the current step number\r\n            vm.currentStepNumber = stepNumber;\r\n\r\n            if ( vm.orientation === 'horizontal' )\r\n            {\r\n                // Hide all steps\r\n                for ( var i = 0; i < vm.steps.length; i++ )\r\n                {\r\n                    vm.steps[i].element.hide();\r\n                }\r\n\r\n                // Show the current step\r\n                vm.steps[vm.currentStepNumber - 1].element.show();\r\n            }\r\n            else if ( vm.orientation === 'vertical' )\r\n            {\r\n                // Hide all step content\r\n                for ( var j = 0; j < vm.steps.length; j++ )\r\n                {\r\n                    vm.steps[j].element.find('.ms-stepper-step-content').hide();\r\n                }\r\n\r\n                // Show the current step content\r\n                vm.steps[vm.currentStepNumber - 1].element.find('.ms-stepper-step-content').show();\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Go to a step\r\n         *\r\n         * @param stepNumber\r\n         */\r\n        function gotoStep(stepNumber)\r\n        {\r\n            // If the step we are about to go\r\n            // is hidden, bail...\r\n            if ( isStepHidden(stepNumber) )\r\n            {\r\n                return;\r\n            }\r\n\r\n            vm.setCurrentStep(stepNumber);\r\n        }\r\n\r\n        /**\r\n         * Go to the previous step\r\n         */\r\n        function gotoPreviousStep()\r\n        {\r\n            var stepNumber = vm.currentStepNumber - 1;\r\n\r\n            // Test the previous steps and make sure we\r\n            // will land to the one that is not hidden\r\n            for ( var s = stepNumber; s >= 1; s-- )\r\n            {\r\n                if ( !isStepHidden(s) )\r\n                {\r\n                    stepNumber = s;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            vm.setCurrentStep(stepNumber);\r\n        }\r\n\r\n        /**\r\n         * Go to the next step\r\n         */\r\n        function gotoNextStep()\r\n        {\r\n            var stepNumber = vm.currentStepNumber + 1;\r\n\r\n            // Test the following steps and make sure we\r\n            // will land to the one that is not hidden\r\n            for ( var s = stepNumber; s <= vm.steps.length; s++ )\r\n            {\r\n                if ( !isStepHidden(s) )\r\n                {\r\n                    stepNumber = s;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            vm.setCurrentStep(stepNumber);\r\n        }\r\n\r\n        /**\r\n         * Go to the first step\r\n         */\r\n        function gotoFirstStep()\r\n        {\r\n            vm.setCurrentStep(1);\r\n        }\r\n\r\n        /**\r\n         * Go to the last step\r\n         */\r\n        function gotoLastStep()\r\n        {\r\n            vm.setCurrentStep(vm.steps.length);\r\n        }\r\n\r\n        /**\r\n         * Check if the current step is the first step\r\n         *\r\n         * @returns {boolean}\r\n         */\r\n        function isFirstStep()\r\n        {\r\n            return vm.currentStepNumber === 1;\r\n        }\r\n\r\n        /**\r\n         * Check if the current step is the last step\r\n         *\r\n         * @returns {boolean}\r\n         */\r\n        function isLastStep()\r\n        {\r\n            return vm.currentStepNumber === vm.steps.length;\r\n        }\r\n\r\n        /**\r\n         * Check if the given step is the current one\r\n         *\r\n         * @param stepNumber\r\n         * @returns {null|boolean}\r\n         */\r\n        function isStepCurrent(stepNumber)\r\n        {\r\n            // If the stepNumber is not a valid step number, bail...\r\n            if ( !isStepNumberValid(stepNumber) )\r\n            {\r\n                return null;\r\n            }\r\n\r\n            return vm.currentStepNumber === stepNumber;\r\n        }\r\n\r\n        /**\r\n         * Check if the given step should be disabled\r\n         *\r\n         * @param stepNumber\r\n         * @returns {null|boolean}\r\n         */\r\n        function isStepDisabled(stepNumber)\r\n        {\r\n            // If the stepNumber is not a valid step number, bail...\r\n            if ( !isStepNumberValid(stepNumber) )\r\n            {\r\n                return null;\r\n            }\r\n\r\n            var disabled = false;\r\n\r\n            for ( var i = 1; i < stepNumber; i++ )\r\n            {\r\n                if ( !isStepValid(i) )\r\n                {\r\n                    disabled = true;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            return disabled;\r\n        }\r\n\r\n        /**\r\n         * Check if the given step is optional\r\n         *\r\n         * @param stepNumber\r\n         * @returns {null|boolean}\r\n         */\r\n        function isStepOptional(stepNumber)\r\n        {\r\n            // If the stepNumber is not a valid step number, bail...\r\n            if ( !isStepNumberValid(stepNumber) )\r\n            {\r\n                return null;\r\n            }\r\n\r\n            return vm.steps[stepNumber - 1].scope.optionalStep;\r\n        }\r\n\r\n        /**\r\n         * Check if the given step is hidden\r\n         *\r\n         * @param stepNumber\r\n         * @returns {null|boolean}\r\n         */\r\n        function isStepHidden(stepNumber)\r\n        {\r\n            // If the stepNumber is not a valid step number, bail...\r\n            if ( !isStepNumberValid(stepNumber) )\r\n            {\r\n                return null;\r\n            }\r\n\r\n            return !!vm.steps[stepNumber - 1].scope.hideStep;\r\n        }\r\n\r\n        /**\r\n         * Check if the given step is hidden as a filter\r\n         *\r\n         * @param step\r\n         * @returns {boolean}\r\n         */\r\n        function filterHiddenStep(step)\r\n        {\r\n            return !isStepHidden(step.stepNumber);\r\n        }\r\n\r\n        /**\r\n         * Check if the given step is valid\r\n         *\r\n         * @param stepNumber\r\n         * @returns {null|boolean}\r\n         */\r\n        function isStepValid(stepNumber)\r\n        {\r\n            // If the stepNumber is not a valid step number, bail...\r\n            if ( !isStepNumberValid(stepNumber) )\r\n            {\r\n                return null;\r\n            }\r\n\r\n            // If the step is optional, always return true\r\n            if ( isStepOptional(stepNumber) )\r\n            {\r\n                return true;\r\n            }\r\n\r\n            return vm.steps[stepNumber - 1].form.$valid;\r\n        }\r\n\r\n        /**\r\n         * Check if the given step number is a valid step number\r\n         *\r\n         * @param stepNumber\r\n         * @returns {boolean}\r\n         */\r\n        function isStepNumberValid(stepNumber)\r\n        {\r\n            return !(angular.isUndefined(stepNumber) || stepNumber < 1 || stepNumber > vm.steps.length);\r\n        }\r\n\r\n        /**\r\n         * Check if the entire form is valid\r\n         *\r\n         * @returns {boolean}\r\n         */\r\n        function isFormValid()\r\n        {\r\n            return vm.mainForm.$valid;\r\n        }\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msHorizontalStepperDirective()\r\n    {\r\n        return {\r\n            restrict        : 'A',\r\n            scope           : {},\r\n            require         : ['form', 'msHorizontalStepper'],\r\n            priority        : 1001,\r\n            controller      : 'MsStepperController as MsStepper',\r\n            bindToController: {\r\n                model: '=ngModel'\r\n            },\r\n            transclude      : true,\r\n            templateUrl     : 'app/core/directives/ms-stepper/templates/horizontal/horizontal.html',\r\n            compile         : function (tElement)\r\n            {\r\n                tElement.addClass('ms-stepper');\r\n\r\n                return function postLink(scope, iElement, iAttrs, ctrls)\r\n                {\r\n                    var FormCtrl = ctrls[0],\r\n                        MsStepperCtrl = ctrls[1];\r\n\r\n                    // Register the main form and setup\r\n                    // the steps for the first time\r\n                    MsStepperCtrl.setOrientation('horizontal');\r\n                    MsStepperCtrl.registerMainForm(FormCtrl);\r\n                    MsStepperCtrl.setupSteps();\r\n                };\r\n            }\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msHorizontalStepperStepDirective()\r\n    {\r\n        return {\r\n            restrict: 'E',\r\n            require : ['form', '^msHorizontalStepper'],\r\n            priority: 1000,\r\n            scope   : {\r\n                step        : '=?',\r\n                stepTitle   : '=?',\r\n                optionalStep: '=?',\r\n                hideStep    : '=?'\r\n            },\r\n            compile : function (tElement)\r\n            {\r\n                tElement.addClass('ms-stepper-step');\r\n\r\n                return function postLink(scope, iElement, iAttrs, ctrls)\r\n                {\r\n                    var FormCtrl = ctrls[0],\r\n                        MsStepperCtrl = ctrls[1];\r\n\r\n                    // Is it an optional step?\r\n                    scope.optionalStep = angular.isDefined(iAttrs.optionalStep);\r\n\r\n                    // Register the step\r\n                    MsStepperCtrl.registerStep(iElement, scope, FormCtrl);\r\n\r\n                    // Hide the step by default\r\n                    iElement.hide();\r\n                };\r\n            }\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msVerticalStepperDirective($timeout)\r\n    {\r\n        return {\r\n            restrict        : 'A',\r\n            scope           : {},\r\n            require         : ['form', 'msVerticalStepper'],\r\n            priority        : 1001,\r\n            controller      : 'MsStepperController as MsStepper',\r\n            bindToController: {\r\n                model: '=ngModel'\r\n            },\r\n            transclude      : true,\r\n            templateUrl     : 'app/core/directives/ms-stepper/templates/vertical/vertical.html',\r\n            compile         : function (tElement)\r\n            {\r\n                tElement.addClass('ms-stepper');\r\n\r\n                return function postLink(scope, iElement, iAttrs, ctrls)\r\n                {\r\n                    var FormCtrl = ctrls[0],\r\n                        MsStepperCtrl = ctrls[1];\r\n\r\n                    // Register the main form and setup\r\n                    // the steps for the first time\r\n\r\n                    // Timeout is required in vertical stepper\r\n                    // as we are using transclusion in steps.\r\n                    // We have to wait for them to be transcluded\r\n                    // and registered to the controller\r\n                    $timeout(function ()\r\n                    {\r\n                        MsStepperCtrl.setOrientation('vertical');\r\n                        MsStepperCtrl.registerMainForm(FormCtrl);\r\n                        MsStepperCtrl.setupSteps();\r\n                    });\r\n                };\r\n            }\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msVerticalStepperStepDirective()\r\n    {\r\n        return {\r\n            restrict   : 'E',\r\n            require    : ['form', '^msVerticalStepper'],\r\n            priority   : 1000,\r\n            scope      : {\r\n                step        : '=?',\r\n                stepTitle   : '=?',\r\n                optionalStep: '=?',\r\n                hideStep    : '=?'\r\n            },\r\n            transclude : true,\r\n            templateUrl: 'app/core/directives/ms-stepper/templates/vertical/step/vertical-step.html',\r\n            compile    : function (tElement)\r\n            {\r\n                tElement.addClass('ms-stepper-step');\r\n\r\n                return function postLink(scope, iElement, iAttrs, ctrls)\r\n                {\r\n                    var FormCtrl = ctrls[0],\r\n                        MsStepperCtrl = ctrls[1];\r\n\r\n                    // Is it an optional step?\r\n                    scope.optionalStep = angular.isDefined(iAttrs.optionalStep);\r\n                    \r\n                    // Register the step\r\n                    scope.stepInfo = MsStepperCtrl.registerStep(iElement, scope, FormCtrl);\r\n\r\n                    // Expose the controller to the scope\r\n                    scope.MsStepper = MsStepperCtrl;\r\n\r\n                    // Hide the step content by default\r\n                    iElement.find('.ms-stepper-step-content').hide();\r\n                };\r\n            }\r\n        };\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .directive('msSplashScreen', msSplashScreenDirective);\r\n\r\n    /** @ngInject */\r\n    function msSplashScreenDirective($animate)\r\n    {\r\n        return {\r\n            restrict: 'E',\r\n            link    : function (scope, iElement)\r\n            {\r\n                var splashScreenRemoveEvent = scope.$on('msSplashScreen::remove', function ()\r\n                {\r\n                    $animate.leave(iElement).then(function ()\r\n                    {\r\n                        // De-register scope event\r\n                        splashScreenRemoveEvent();\r\n\r\n                        // Null-ify everything else\r\n                        scope = iElement = null;\r\n                    });\r\n                });\r\n            }\r\n        };\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .directive('msSidenavHelper', msSidenavHelperDirective);\r\n\r\n    /** @ngInject */\r\n    function msSidenavHelperDirective()\r\n    {\r\n        return {\r\n            restrict: 'A',\r\n            require : '^mdSidenav',\r\n            link    : function (scope, iElement, iAttrs, MdSidenavCtrl)\r\n            {\r\n                // Watch md-sidenav open & locked open statuses\r\n                // and add class to the \".page-layout\" if only\r\n                // the sidenav open and NOT locked open\r\n                scope.$watch(function ()\r\n                {\r\n                    return MdSidenavCtrl.isOpen() && !MdSidenavCtrl.isLockedOpen();\r\n                }, function (current)\r\n                {\r\n                    if ( angular.isUndefined(current) )\r\n                    {\r\n                        return;\r\n                    }\r\n\r\n                    iElement.parent().toggleClass('full-height', current);\r\n                    angular.element('html').toggleClass('sidenav-open', current);\r\n                });\r\n            }\r\n        };\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .controller('MsShortcutsController', MsShortcutsController)\r\n        .directive('msShortcuts', msShortcutsDirective);\r\n\r\n    /** @ngInject */\r\n    function MsShortcutsController($scope, $cookies, $document, $timeout, $q, msNavigationService)\r\n    {\r\n        var vm = this;\r\n\r\n        // Data\r\n        vm.query = '';\r\n        vm.queryOptions = {\r\n            debounce: 300\r\n        };\r\n        vm.resultsLoading = false;\r\n        vm.selectedResultIndex = 0;\r\n        vm.ignoreMouseEvents = false;\r\n        vm.mobileBarActive = false;\r\n\r\n        vm.results = null;\r\n        vm.shortcuts = [];\r\n\r\n        vm.sortableOptions = {\r\n            ghostClass   : 'ghost',\r\n            forceFallback: true,\r\n            fallbackClass: 'dragging',\r\n            onSort       : function ()\r\n            {\r\n                vm.saveShortcuts();\r\n            }\r\n        };\r\n\r\n        // Methods\r\n        vm.populateResults = populateResults;\r\n        vm.loadShortcuts = loadShortcuts;\r\n        vm.saveShortcuts = saveShortcuts;\r\n        vm.addShortcut = addShortcut;\r\n        vm.removeShortcut = removeShortcut;\r\n        vm.handleResultClick = handleResultClick;\r\n\r\n        vm.absorbEvent = absorbEvent;\r\n        vm.handleKeydown = handleKeydown;\r\n        vm.handleMouseenter = handleMouseenter;\r\n        vm.temporarilyIgnoreMouseEvents = temporarilyIgnoreMouseEvents;\r\n        vm.ensureSelectedResultIsVisible = ensureSelectedResultIsVisible;\r\n        vm.toggleMobileBar = toggleMobileBar;\r\n\r\n        //////////\r\n\r\n        init();\r\n\r\n        function init()\r\n        {\r\n            // Load the shortcuts\r\n            vm.loadShortcuts().then(\r\n                // Success\r\n                function (response)\r\n                {\r\n                    vm.shortcuts = response;\r\n\r\n                    // Add shortcuts as results by default\r\n                    if ( vm.shortcuts.length > 0 )\r\n                    {\r\n                        vm.results = response;\r\n                    }\r\n                }\r\n            );\r\n\r\n            // Watch the model changes to trigger the search\r\n            $scope.$watch('MsShortcuts.query', function (current, old)\r\n            {\r\n                if ( angular.isUndefined(current) )\r\n                {\r\n                    return;\r\n                }\r\n\r\n                if ( angular.equals(current, old) )\r\n                {\r\n                    return;\r\n                }\r\n\r\n                // Show the loader\r\n                vm.resultsLoading = true;\r\n\r\n                // Populate the results\r\n                vm.populateResults().then(\r\n                    // Success\r\n                    function (response)\r\n                    {\r\n                        vm.results = response;\r\n                    },\r\n                    // Error\r\n                    function ()\r\n                    {\r\n                        vm.results = [];\r\n                    }\r\n                ).finally(\r\n                    function ()\r\n                    {\r\n                        // Hide the loader\r\n                        vm.resultsLoading = false;\r\n                    }\r\n                );\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Populate the results\r\n         */\r\n        function populateResults()\r\n        {\r\n            var results = [],\r\n                flatNavigation = msNavigationService.getFlatNavigation(),\r\n                deferred = $q.defer();\r\n\r\n            // Iterate through the navigation array and\r\n            // make sure it doesn't have any groups or\r\n            // none ui-sref items\r\n            for ( var x = 0; x < flatNavigation.length; x++ )\r\n            {\r\n                if ( flatNavigation[x].uisref )\r\n                {\r\n                    results.push(flatNavigation[x]);\r\n                }\r\n            }\r\n\r\n            // If there is a query, filter the results\r\n            if ( vm.query )\r\n            {\r\n                results = results.filter(function (item)\r\n                {\r\n                    if ( angular.lowercase(item.title).search(angular.lowercase(vm.query)) > -1 )\r\n                    {\r\n                        return true;\r\n                    }\r\n                });\r\n\r\n                // Iterate through one last time and\r\n                // add required properties to items\r\n                for ( var i = 0; i < results.length; i++ )\r\n                {\r\n                    // Add false to hasShortcut by default\r\n                    results[i].hasShortcut = false;\r\n\r\n                    // Test if the item is in the shortcuts list\r\n                    for ( var y = 0; y < vm.shortcuts.length; y++ )\r\n                    {\r\n                        if ( vm.shortcuts[y]._id === results[i]._id )\r\n                        {\r\n                            results[i].hasShortcut = true;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            else\r\n            {\r\n                // If the query is empty, that means\r\n                // there is nothing to search for so\r\n                // we will populate the results with\r\n                // current shortcuts if there is any\r\n                if ( vm.shortcuts.length > 0 )\r\n                {\r\n                    results = vm.shortcuts;\r\n                }\r\n            }\r\n\r\n            // Reset the selected result\r\n            vm.selectedResultIndex = 0;\r\n\r\n            // Fake the service delay\r\n            $timeout(function ()\r\n            {\r\n                // Resolve the promise\r\n                deferred.resolve(results);\r\n            }, 250);\r\n\r\n            // Return a promise\r\n            return deferred.promise;\r\n        }\r\n\r\n        /**\r\n         * Load shortcuts\r\n         */\r\n        function loadShortcuts()\r\n        {\r\n            var deferred = $q.defer();\r\n\r\n            // For the demo purposes, we will\r\n            // load the shortcuts from the cookies.\r\n            // But here you can make an API call\r\n            // to load them from the DB.\r\n            var shortcuts = angular.fromJson($cookies.get('FUSE.shortcuts'));\r\n\r\n            // No cookie available. Generate one\r\n            // for the demo purposes...\r\n            if ( angular.isUndefined(shortcuts) )\r\n            {\r\n                shortcuts = [\r\n                    {\r\n                        'title'      : 'Sample',\r\n                        'icon'       : 'icon-tile-four',\r\n                        'state'      : 'app.sample',\r\n                        'weight'     : 1,\r\n                        'children'   : [],\r\n                        '_id'        : 'sample',\r\n                        '_path'      : 'apps.sample',\r\n                        'uisref'     : 'app.sample',\r\n                        'hasShortcut': true\r\n                    }\r\n                ];\r\n\r\n                $cookies.put('FUSE.shortcuts', angular.toJson(shortcuts));\r\n            }\r\n\r\n            // Resolve the promise\r\n            deferred.resolve(shortcuts);\r\n\r\n            return deferred.promise;\r\n        }\r\n\r\n        /**\r\n         * Save the shortcuts\r\n         */\r\n        function saveShortcuts()\r\n        {\r\n            var deferred = $q.defer();\r\n\r\n            // For the demo purposes, we will\r\n            // keep the shortcuts in the cookies.\r\n            // But here you can make an API call\r\n            // to save them to the DB.\r\n            $cookies.put('FUSE.shortcuts', angular.toJson(vm.shortcuts));\r\n\r\n            // Fake the service delay\r\n            $timeout(function ()\r\n            {\r\n                deferred.resolve({'success': true});\r\n            }, 250);\r\n\r\n            return deferred.promise;\r\n        }\r\n\r\n        /**\r\n         * Add item as shortcut\r\n         *\r\n         * @param item\r\n         */\r\n        function addShortcut(item)\r\n        {\r\n            // Update the hasShortcut status\r\n            item.hasShortcut = true;\r\n\r\n            // Add as a shortcut\r\n            vm.shortcuts.push(item);\r\n\r\n            // Save the shortcuts\r\n            vm.saveShortcuts();\r\n        }\r\n\r\n        /**\r\n         * Remove item from shortcuts\r\n         *\r\n         * @param item\r\n         */\r\n        function removeShortcut(item)\r\n        {\r\n            // Update the hasShortcut status\r\n            item.hasShortcut = false;\r\n\r\n            // Remove the shortcut\r\n            for ( var x = 0; x < vm.shortcuts.length; x++ )\r\n            {\r\n                if ( vm.shortcuts[x]._id === item._id )\r\n                {\r\n                    // Remove the x-th item from the array\r\n                    vm.shortcuts.splice(x, 1);\r\n\r\n                    // If we aren't searching for anything...\r\n                    if ( !vm.query )\r\n                    {\r\n                        // If all the shortcuts have been removed,\r\n                        // null-ify the results\r\n                        if ( vm.shortcuts.length === 0 )\r\n                        {\r\n                            vm.results = null;\r\n                        }\r\n                        // Otherwise update the selected index\r\n                        else\r\n                        {\r\n                            if ( x >= vm.shortcuts.length )\r\n                            {\r\n                                vm.selectedResultIndex = vm.shortcuts.length - 1;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Save the shortcuts\r\n            vm.saveShortcuts();\r\n        }\r\n\r\n        /**\r\n         * Handle the result click\r\n         *\r\n         * @param item\r\n         */\r\n        function handleResultClick(item)\r\n        {\r\n            // Add or remove the shortcut\r\n            if ( item.hasShortcut )\r\n            {\r\n                vm.removeShortcut(item);\r\n            }\r\n            else\r\n            {\r\n                vm.addShortcut(item);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Absorb the given event\r\n         *\r\n         * @param event\r\n         */\r\n        function absorbEvent(event)\r\n        {\r\n            event.preventDefault();\r\n        }\r\n\r\n        /**\r\n         * Handle keydown\r\n         *\r\n         * @param event\r\n         */\r\n        function handleKeydown(event)\r\n        {\r\n            var keyCode = event.keyCode,\r\n                keys = [38, 40];\r\n\r\n            // Prevent the default action if\r\n            // one of the keys are pressed that\r\n            // we are listening\r\n            if ( keys.indexOf(keyCode) > -1 )\r\n            {\r\n                event.preventDefault();\r\n            }\r\n\r\n            switch ( keyCode )\r\n            {\r\n                // Enter\r\n                case 13:\r\n\r\n                    // Trigger result click\r\n                    vm.handleResultClick(vm.results[vm.selectedResultIndex]);\r\n\r\n                    break;\r\n\r\n                // Up Arrow\r\n                case 38:\r\n\r\n                    // Decrease the selected result index\r\n                    if ( vm.selectedResultIndex - 1 >= 0 )\r\n                    {\r\n                        // Decrease the selected index\r\n                        vm.selectedResultIndex--;\r\n\r\n                        // Make sure the selected result is in the view\r\n                        vm.ensureSelectedResultIsVisible();\r\n                    }\r\n\r\n                    break;\r\n\r\n                // Down Arrow\r\n                case 40:\r\n\r\n                    // Increase the selected result index\r\n                    if ( vm.selectedResultIndex + 1 < vm.results.length )\r\n                    {\r\n                        // Increase the selected index\r\n                        vm.selectedResultIndex++;\r\n\r\n                        // Make sure the selected result is in the view\r\n                        vm.ensureSelectedResultIsVisible();\r\n                    }\r\n\r\n                    break;\r\n\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Handle mouseenter\r\n         *\r\n         * @param index\r\n         */\r\n        function handleMouseenter(index)\r\n        {\r\n            if ( vm.ignoreMouseEvents )\r\n            {\r\n                return;\r\n            }\r\n\r\n            // Update the selected result index\r\n            // with the given index\r\n            vm.selectedResultIndex = index;\r\n        }\r\n\r\n        /**\r\n         * Set a variable for a limited time\r\n         * to make other functions to ignore\r\n         * the mouse events\r\n         */\r\n        function temporarilyIgnoreMouseEvents()\r\n        {\r\n            // Set the variable\r\n            vm.ignoreMouseEvents = true;\r\n\r\n            // Cancel the previous timeout\r\n            $timeout.cancel(vm.mouseEventIgnoreTimeout);\r\n\r\n            // Set the timeout\r\n            vm.mouseEventIgnoreTimeout = $timeout(function ()\r\n            {\r\n                vm.ignoreMouseEvents = false;\r\n            }, 250);\r\n        }\r\n\r\n        /**\r\n         * Ensure the selected result will\r\n         * always be visible on the results\r\n         * area\r\n         */\r\n        function ensureSelectedResultIsVisible()\r\n        {\r\n            var resultsEl = $document.find('#ms-shortcut-add-menu').find('.results'),\r\n                selectedItemEl = angular.element(resultsEl.find('.result')[vm.selectedResultIndex]);\r\n\r\n            if ( resultsEl && selectedItemEl )\r\n            {\r\n                var top = selectedItemEl.position().top - 8,\r\n                    bottom = selectedItemEl.position().top + selectedItemEl.outerHeight() + 8;\r\n\r\n                // Start ignoring mouse events\r\n                vm.temporarilyIgnoreMouseEvents();\r\n\r\n                if ( resultsEl.scrollTop() > top )\r\n                {\r\n                    resultsEl.scrollTop(top);\r\n                }\r\n\r\n                if ( bottom > (resultsEl.height() + resultsEl.scrollTop()) )\r\n                {\r\n                    resultsEl.scrollTop(bottom - resultsEl.height());\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Toggle mobile bar\r\n         */\r\n        function toggleMobileBar()\r\n        {\r\n            vm.mobileBarActive = !vm.mobileBarActive;\r\n        }\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msShortcutsDirective()\r\n    {\r\n        return {\r\n            restrict        : 'E',\r\n            scope           : {},\r\n            require         : 'msShortcuts',\r\n            controller      : 'MsShortcutsController as MsShortcuts',\r\n            bindToController: {},\r\n            templateUrl     : 'app/core/directives/ms-shortcuts/ms-shortcuts.html',\r\n            compile         : function (tElement)\r\n            {\r\n                // Add class\r\n                tElement.addClass('ms-shortcuts');\r\n\r\n                return function postLink(scope, iElement)\r\n                {\r\n                    // Data\r\n\r\n                };\r\n            }\r\n        };\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .controller('MsSearchBarController', MsSearchBarController)\r\n        .directive('msSearchBar', msSearchBarDirective);\r\n\r\n    /** @ngInject */\r\n    function MsSearchBarController($scope, $element, $timeout)\r\n    {\r\n        var vm = this;\r\n\r\n        // Data\r\n        vm.collapsed = true;\r\n        vm.query = '';\r\n        vm.queryOptions = {\r\n            debounce: vm.debounce || 0\r\n        };\r\n        vm.resultsLoading = false;\r\n        vm.results = null;\r\n        vm.selectedResultIndex = 0;\r\n        vm.ignoreMouseEvents = false;\r\n\r\n        // Methods\r\n        vm.populateResults = populateResults;\r\n\r\n        vm.expand = expand;\r\n        vm.collapse = collapse;\r\n\r\n        vm.absorbEvent = absorbEvent;\r\n        vm.handleKeydown = handleKeydown;\r\n        vm.handleMouseenter = handleMouseenter;\r\n        vm.temporarilyIgnoreMouseEvents = temporarilyIgnoreMouseEvents;\r\n        vm.handleResultClick = handleResultClick;\r\n        vm.ensureSelectedResultIsVisible = ensureSelectedResultIsVisible;\r\n\r\n        //////////\r\n\r\n        init();\r\n\r\n        function init()\r\n        {\r\n            // Watch the model changes to trigger the search\r\n            $scope.$watch('MsSearchBar.query', function (current, old)\r\n            {\r\n                if ( angular.isUndefined(current) )\r\n                {\r\n                    return;\r\n                }\r\n\r\n                if ( angular.equals(current, old) )\r\n                {\r\n                    return;\r\n                }\r\n\r\n                if ( vm.collapsed )\r\n                {\r\n                    return;\r\n                }\r\n\r\n                // Evaluate the onSearch function to access the\r\n                // function itself\r\n                var onSearchEvaluated = $scope.$parent.$eval(vm.onSearch, {query: current}),\r\n                    isArray = angular.isArray(onSearchEvaluated),\r\n                    isPromise = (onSearchEvaluated && !!onSearchEvaluated.then);\r\n\r\n                if ( isArray )\r\n                {\r\n                    // Populate the results\r\n                    vm.populateResults(onSearchEvaluated);\r\n                }\r\n\r\n                if ( isPromise )\r\n                {\r\n                    // Show the loader\r\n                    vm.resultsLoading = true;\r\n\r\n                    onSearchEvaluated.then(\r\n                        // Success\r\n                        function (response)\r\n                        {\r\n                            // Populate the results\r\n                            vm.populateResults(response);\r\n                        },\r\n                        // Error\r\n                        function ()\r\n                        {\r\n                            // Assign an empty array to show\r\n                            // the no-results screen\r\n                            vm.populateResults([]);\r\n                        }\r\n                    ).finally(function ()\r\n                        {\r\n                            // Hide the loader\r\n                            vm.resultsLoading = false;\r\n                        }\r\n                    );\r\n                }\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Populate the results\r\n         *\r\n         * @param results\r\n         */\r\n        function populateResults(results)\r\n        {\r\n            // Before doing anything,\r\n            // make sure the search bar is expanded\r\n            if ( vm.collapsed )\r\n            {\r\n                return;\r\n            }\r\n\r\n            var isArray = angular.isArray(results),\r\n                isNull = results === null;\r\n\r\n            // Only accept arrays and null values\r\n            if ( !isArray && !isNull )\r\n            {\r\n                return;\r\n            }\r\n\r\n            // Reset the selected result\r\n            vm.selectedResultIndex = 0;\r\n\r\n            // Populate the results\r\n            vm.results = results;\r\n        }\r\n\r\n        /**\r\n         * Expand\r\n         */\r\n        function expand()\r\n        {\r\n            // Set collapsed status\r\n            vm.collapsed = false;\r\n\r\n            // Call expand on scope\r\n            $scope.expand();\r\n\r\n            // Callback\r\n            if ( vm.onExpand && angular.isFunction(vm.onExpand) )\r\n            {\r\n                vm.onExpand();\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Collapse\r\n         */\r\n        function collapse()\r\n        {\r\n            // Empty the query\r\n            vm.query = '';\r\n\r\n            // Empty results to hide the results view\r\n            vm.populateResults(null);\r\n\r\n            // Set collapsed status\r\n            vm.collapsed = true;\r\n\r\n            // Call collapse on scope\r\n            $scope.collapse();\r\n\r\n            // Callback\r\n            if ( vm.onCollapse && angular.isFunction(vm.onCollapse) )\r\n            {\r\n                vm.onCollapse();\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Absorb the given event\r\n         *\r\n         * @param event\r\n         */\r\n        function absorbEvent(event)\r\n        {\r\n            event.preventDefault();\r\n        }\r\n\r\n        /**\r\n         * Handle keydown\r\n         *\r\n         * @param event\r\n         */\r\n        function handleKeydown(event)\r\n        {\r\n            var keyCode = event.keyCode,\r\n                keys = [27, 38, 40];\r\n\r\n            // Prevent the default action if\r\n            // one of the keys are pressed that\r\n            // we are listening\r\n            if ( keys.indexOf(keyCode) > -1 )\r\n            {\r\n                event.preventDefault();\r\n            }\r\n\r\n            switch ( keyCode )\r\n            {\r\n                // Enter\r\n                case 13:\r\n\r\n                    // Trigger result click\r\n                    vm.handleResultClick(vm.results[vm.selectedResultIndex]);\r\n\r\n                    break;\r\n\r\n                // Escape\r\n                case 27:\r\n\r\n                    // Collapse the search bar\r\n                    vm.collapse();\r\n\r\n                    break;\r\n\r\n                // Up Arrow\r\n                case 38:\r\n\r\n                    // Decrease the selected result index\r\n                    if ( vm.selectedResultIndex - 1 >= 0 )\r\n                    {\r\n                        // Decrease the selected index\r\n                        vm.selectedResultIndex--;\r\n\r\n                        // Make sure the selected result is in the view\r\n                        vm.ensureSelectedResultIsVisible();\r\n                    }\r\n\r\n                    break;\r\n\r\n                // Down Arrow\r\n                case 40:\r\n\r\n                    if ( !vm.results )\r\n                    {\r\n                        return;\r\n                    }\r\n\r\n                    // Increase the selected result index\r\n                    if ( vm.selectedResultIndex + 1 < vm.results.length )\r\n                    {\r\n                        // Increase the selected index\r\n                        vm.selectedResultIndex++;\r\n\r\n                        // Make sure the selected result is in the view\r\n                        vm.ensureSelectedResultIsVisible();\r\n                    }\r\n\r\n                    break;\r\n\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Handle mouseenter\r\n         *\r\n         * @param index\r\n         */\r\n        function handleMouseenter(index)\r\n        {\r\n            if ( vm.ignoreMouseEvents )\r\n            {\r\n                return;\r\n            }\r\n\r\n            // Update the selected result index\r\n            // with the given index\r\n            vm.selectedResultIndex = index;\r\n        }\r\n\r\n        /**\r\n         * Set a variable for a limited time\r\n         * to make other functions to ignore\r\n         * the mouse events\r\n         */\r\n        function temporarilyIgnoreMouseEvents()\r\n        {\r\n            // Set the variable\r\n            vm.ignoreMouseEvents = true;\r\n\r\n            // Cancel the previous timeout\r\n            $timeout.cancel(vm.mouseEventIgnoreTimeout);\r\n\r\n            // Set the timeout\r\n            vm.mouseEventIgnoreTimeout = $timeout(function ()\r\n            {\r\n                vm.ignoreMouseEvents = false;\r\n            }, 250);\r\n        }\r\n\r\n        /**\r\n         * Handle the result click\r\n         *\r\n         * @param item\r\n         */\r\n        function handleResultClick(item)\r\n        {\r\n            if ( vm.onResultClick )\r\n            {\r\n                vm.onResultClick({item: item});\r\n            }\r\n\r\n            // Collapse the search bar\r\n            vm.collapse();\r\n        }\r\n\r\n        /**\r\n         * Ensure the selected result will\r\n         * always be visible on the results\r\n         * area\r\n         */\r\n        function ensureSelectedResultIsVisible()\r\n        {\r\n            var resultsEl = $element.find('.ms-search-bar-results'),\r\n                selectedItemEl = angular.element(resultsEl.find('.result')[vm.selectedResultIndex]);\r\n\r\n            if ( resultsEl && selectedItemEl )\r\n            {\r\n                var top = selectedItemEl.position().top - 8,\r\n                    bottom = selectedItemEl.position().top + selectedItemEl.outerHeight() + 8;\r\n\r\n                // Start ignoring mouse events\r\n                vm.temporarilyIgnoreMouseEvents();\r\n\r\n                if ( resultsEl.scrollTop() > top )\r\n                {\r\n                    resultsEl.scrollTop(top);\r\n                }\r\n\r\n                if ( bottom > (resultsEl.height() + resultsEl.scrollTop()) )\r\n                {\r\n                    resultsEl.scrollTop(bottom - resultsEl.height());\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msSearchBarDirective($document)\r\n    {\r\n        return {\r\n            restrict        : 'E',\r\n            scope           : {},\r\n            require         : 'msSearchBar',\r\n            controller      : 'MsSearchBarController as MsSearchBar',\r\n            bindToController: {\r\n                debounce     : '=?',\r\n                onSearch     : '@',\r\n                onResultClick: '&?',\r\n                onExpand     : '&?',\r\n                onCollapse   : '&?'\r\n            },\r\n            templateUrl     : 'app/core/directives/ms-search-bar/ms-search-bar.html',\r\n            compile         : function (tElement)\r\n            {\r\n                // Add class\r\n                tElement.addClass('ms-search-bar');\r\n\r\n                return function postLink(scope, iElement)\r\n                {\r\n                    // Data\r\n                    var inputEl,\r\n                        bodyEl = $document.find('body');\r\n\r\n                    // Methods\r\n                    scope.collapse = collapse;\r\n                    scope.expand = expand;\r\n\r\n                    //////////\r\n\r\n                    // Initialize\r\n                    init();\r\n\r\n                    /**\r\n                     * Initialize\r\n                     */\r\n                    function init()\r\n                    {\r\n                        // Grab the input element\r\n                        inputEl = iElement.find('#ms-search-bar-input');\r\n                    }\r\n\r\n                    /**\r\n                     * Expand action\r\n                     */\r\n                    function expand()\r\n                    {\r\n                        // Add expanded class\r\n                        iElement.addClass('expanded');\r\n\r\n                        // Add helper class to the body\r\n                        bodyEl.addClass('ms-search-bar-expanded');\r\n\r\n                        // Focus on the input\r\n                        inputEl.focus();\r\n                    }\r\n\r\n                    /**\r\n                     * Collapse action\r\n                     */\r\n                    function collapse()\r\n                    {\r\n                        // Remove expanded class\r\n                        iElement.removeClass('expanded');\r\n\r\n                        // Remove helper class from the body\r\n                        bodyEl.removeClass('ms-search-bar-expanded');\r\n                    }\r\n                };\r\n            }\r\n        };\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .provider('msScrollConfig', msScrollConfigProvider)\r\n        .directive('msScroll', msScrollDirective);\r\n\r\n    /** @ngInject */\r\n    function msScrollConfigProvider()\r\n    {\r\n        // Default configuration\r\n        var defaultConfiguration = {\r\n            wheelSpeed            : 1,\r\n            wheelPropagation      : false,\r\n            swipePropagation      : true,\r\n            minScrollbarLength    : null,\r\n            maxScrollbarLength    : null,\r\n            useBothWheelAxes      : false,\r\n            useKeyboard           : true,\r\n            suppressScrollX       : false,\r\n            suppressScrollY       : false,\r\n            scrollXMarginOffset   : 0,\r\n            scrollYMarginOffset   : 0,\r\n            stopPropagationOnClick: true\r\n        };\r\n\r\n        // Methods\r\n        this.config = config;\r\n\r\n        //////////\r\n\r\n        /**\r\n         * Extend default configuration with the given one\r\n         *\r\n         * @param configuration\r\n         */\r\n        function config(configuration)\r\n        {\r\n            defaultConfiguration = angular.extend({}, defaultConfiguration, configuration);\r\n        }\r\n\r\n        /**\r\n         * Service\r\n         */\r\n        this.$get = function ()\r\n        {\r\n            var service = {\r\n                getConfig: getConfig\r\n            };\r\n\r\n            return service;\r\n\r\n            //////////\r\n\r\n            /**\r\n             * Return the config\r\n             */\r\n            function getConfig()\r\n            {\r\n                return defaultConfiguration;\r\n            }\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msScrollDirective($timeout, msScrollConfig, msUtils, fuseConfig)\r\n    {\r\n        return {\r\n            restrict: 'AE',\r\n            compile : function (tElement)\r\n            {\r\n                // Do not replace scrollbars if\r\n                // 'disableCustomScrollbars' config enabled\r\n                if ( fuseConfig.getConfig('disableCustomScrollbars') )\r\n                {\r\n                    return;\r\n                }\r\n\r\n                // Do not replace scrollbars on mobile devices\r\n                // if 'disableCustomScrollbarsOnMobile' config enabled\r\n                if ( fuseConfig.getConfig('disableCustomScrollbarsOnMobile') && msUtils.isMobile() )\r\n                {\r\n                    return;\r\n                }\r\n\r\n                // Add class\r\n                tElement.addClass('ms-scroll');\r\n\r\n                return function postLink(scope, iElement, iAttrs)\r\n                {\r\n                    var options = {};\r\n\r\n                    // If options supplied, evaluate the given\r\n                    // value. This is because we don't want to\r\n                    // have an isolated scope but still be able\r\n                    // to use scope variables.\r\n                    // We don't want an isolated scope because\r\n                    // we should be able to use this everywhere\r\n                    // especially with other directives\r\n                    if ( iAttrs.msScroll )\r\n                    {\r\n                        options = scope.$eval(iAttrs.msScroll);\r\n                    }\r\n\r\n                    // Extend the given config with the ones from provider\r\n                    options = angular.extend({}, msScrollConfig.getConfig(), options);\r\n\r\n                    // Initialize the scrollbar\r\n                    $timeout(function ()\r\n                    {\r\n                        PerfectScrollbar.initialize(iElement[0], options);\r\n                    }, 0);\r\n\r\n                    // Update the scrollbar on element mouseenter\r\n                    iElement.on('mouseenter', updateScrollbar);\r\n\r\n                    // Watch scrollHeight and update\r\n                    // the scrollbar if it changes\r\n                    scope.$watch(function ()\r\n                    {\r\n                        return iElement.prop('scrollHeight');\r\n                    }, function (current, old)\r\n                    {\r\n                        if ( angular.isUndefined(current) || angular.equals(current, old) )\r\n                        {\r\n                            return;\r\n                        }\r\n\r\n                        updateScrollbar();\r\n                    });\r\n\r\n                    // Watch scrollWidth and update\r\n                    // the scrollbar if it changes\r\n                    scope.$watch(function ()\r\n                    {\r\n                        return iElement.prop('scrollWidth');\r\n                    }, function (current, old)\r\n                    {\r\n                        if ( angular.isUndefined(current) || angular.equals(current, old) )\r\n                        {\r\n                            return;\r\n                        }\r\n\r\n                        updateScrollbar();\r\n                    });\r\n\r\n                    /**\r\n                     * Update the scrollbar\r\n                     */\r\n                    function updateScrollbar()\r\n                    {\r\n                        PerfectScrollbar.update(iElement[0]);\r\n                    }\r\n\r\n                    // Cleanup on destroy\r\n                    scope.$on('$destroy', function ()\r\n                    {\r\n                        iElement.off('mouseenter');\r\n                        PerfectScrollbar.destroy(iElement[0]);\r\n                    });\r\n                };\r\n            }\r\n        };\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .directive('msResponsiveTable', msResponsiveTableDirective);\r\n\r\n    /** @ngInject */\r\n    function msResponsiveTableDirective()\r\n    {\r\n        return {\r\n            restrict: 'A',\r\n            link    : function (scope, iElement)\r\n            {\r\n                // Wrap the table\r\n                var wrapper = angular.element('<div class=\"ms-responsive-table-wrapper\"></div>');\r\n                iElement.after(wrapper);\r\n                wrapper.append(iElement);\r\n\r\n                //////////\r\n            }\r\n        };\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .directive('msRandomClass', msRandomClassDirective);\r\n\r\n    /** @ngInject */\r\n    function msRandomClassDirective()\r\n    {\r\n        return {\r\n            restrict: 'A',\r\n            scope   : {\r\n                msRandomClass: '='\r\n            },\r\n            link    : function (scope, iElement)\r\n            {\r\n                var randomClass = scope.msRandomClass[Math.floor(Math.random() * (scope.msRandomClass.length))];\r\n                iElement.addClass(randomClass);\r\n            }\r\n        };\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .provider('msNavigationService', msNavigationServiceProvider)\r\n        .controller('MsNavigationController', MsNavigationController)\r\n        // Vertical\r\n        .directive('msNavigation', msNavigationDirective)\r\n        .controller('MsNavigationNodeController', MsNavigationNodeController)\r\n        .directive('msNavigationNode', msNavigationNodeDirective)\r\n        .directive('msNavigationItem', msNavigationItemDirective)\r\n        //Horizontal\r\n        .directive('msNavigationHorizontal', msNavigationHorizontalDirective)\r\n        .controller('MsNavigationHorizontalNodeController', MsNavigationHorizontalNodeController)\r\n        .directive('msNavigationHorizontalNode', msNavigationHorizontalNodeDirective)\r\n        .directive('msNavigationHorizontalItem', msNavigationHorizontalItemDirective);\r\n\r\n    /** @ngInject */\r\n    function msNavigationServiceProvider()\r\n    {\r\n        // Inject $log service\r\n        var $log = angular.injector(['ng']).get('$log');\r\n\r\n        // Navigation array\r\n        var navigation = [];\r\n\r\n        var service = this;\r\n\r\n        // Methods\r\n        service.saveItem = saveItem;\r\n        service.deleteItem = deleteItem;\r\n        service.sortByWeight = sortByWeight;\r\n\r\n        //////////\r\n\r\n        /**\r\n         * Create or update the navigation item\r\n         *\r\n         * @param path\r\n         * @param item\r\n         */\r\n        function saveItem(path, item)\r\n        {\r\n            if ( !angular.isString(path) )\r\n            {\r\n                $log.error('path must be a string (eg. `dashboard.project`)');\r\n                return;\r\n            }\r\n\r\n            var parts = path.split('.');\r\n\r\n            // Generate the object id from the parts\r\n            var id = parts[parts.length - 1];\r\n\r\n            // Get the parent item from the parts\r\n            var parent = _findOrCreateParent(parts);\r\n\r\n            // Decide if we are going to update or create\r\n            var updateItem = false;\r\n\r\n            for ( var i = 0; i < parent.length; i++ )\r\n            {\r\n                if ( parent[i]._id === id )\r\n                {\r\n                    updateItem = parent[i];\r\n\r\n                    break;\r\n                }\r\n            }\r\n\r\n            // Update\r\n            if ( updateItem )\r\n            {\r\n                angular.extend(updateItem, item);\r\n\r\n                // Add proper ui-sref\r\n                updateItem.uisref = _getUiSref(updateItem);\r\n            }\r\n            // Create\r\n            else\r\n            {\r\n                // Create an empty children array in the item\r\n                item.children = [];\r\n\r\n                // Add the default weight if not provided or if it's not a number\r\n                if ( angular.isUndefined(item.weight) || !angular.isNumber(item.weight) )\r\n                {\r\n                    item.weight = 1;\r\n                }\r\n\r\n                // Add the item id\r\n                item._id = id;\r\n\r\n                // Add the item path\r\n                item._path = path;\r\n\r\n                // Add proper ui-sref\r\n                item.uisref = _getUiSref(item);\r\n\r\n                // Push the item into the array\r\n                parent.push(item);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Delete navigation item\r\n         *\r\n         * @param path\r\n         */\r\n        function deleteItem(path)\r\n        {\r\n            if ( !angular.isString(path) )\r\n            {\r\n                $log.error('path must be a string (eg. `dashboard.project`)');\r\n                return;\r\n            }\r\n\r\n            // Locate the item by using given path\r\n            var item = navigation,\r\n                parts = path.split('.');\r\n\r\n            for ( var p = 0; p < parts.length; p++ )\r\n            {\r\n                var id = parts[p];\r\n\r\n                for ( var i = 0; i < item.length; i++ )\r\n                {\r\n                    if ( item[i]._id === id )\r\n                    {\r\n                        // If we have a matching path,\r\n                        // we have found our object:\r\n                        // remove it.\r\n                        if ( item[i]._path === path )\r\n                        {\r\n                            item.splice(i, 1);\r\n                            return true;\r\n                        }\r\n\r\n                        // Otherwise grab the children of\r\n                        // the current item and continue\r\n                        item = item[i].children;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n\r\n            return false;\r\n        }\r\n\r\n        /**\r\n         * Sort the navigation items by their weights\r\n         *\r\n         * @param parent\r\n         */\r\n        function sortByWeight(parent)\r\n        {\r\n            // If parent not provided, sort the root items\r\n            if ( !parent )\r\n            {\r\n                parent = navigation;\r\n                parent.sort(_byWeight);\r\n            }\r\n\r\n            // Sort the children\r\n            for ( var i = 0; i < parent.length; i++ )\r\n            {\r\n                var children = parent[i].children;\r\n\r\n                if ( children.length > 1 )\r\n                {\r\n                    children.sort(_byWeight);\r\n                }\r\n\r\n                if ( children.length > 0 )\r\n                {\r\n                    sortByWeight(children);\r\n                }\r\n            }\r\n        }\r\n\r\n        /* ----------------- */\r\n        /* Private Functions */\r\n        /* ----------------- */\r\n\r\n        /**\r\n         * Find or create parent\r\n         *\r\n         * @param parts\r\n         * @returns {Array|Boolean}\r\n         * @private\r\n         */\r\n        function _findOrCreateParent(parts)\r\n        {\r\n            // Store the main navigation\r\n            var parent = navigation;\r\n\r\n            // If it's going to be a root item\r\n            // return the navigation itself\r\n            if ( parts.length === 1 )\r\n            {\r\n                return parent;\r\n            }\r\n\r\n            // Remove the last element from the parts as\r\n            // we don't need that to figure out the parent\r\n            parts.pop();\r\n\r\n            // Find and return the parent\r\n            for ( var i = 0; i < parts.length; i++ )\r\n            {\r\n                var _id = parts[i],\r\n                    createParent = true;\r\n\r\n                for ( var p = 0; p < parent.length; p++ )\r\n                {\r\n                    if ( parent[p]._id === _id )\r\n                    {\r\n                        parent = parent[p].children;\r\n                        createParent = false;\r\n\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                // If there is no parent found, create one, push\r\n                // it into the current parent and assign it as a\r\n                // new parent\r\n                if ( createParent )\r\n                {\r\n                    var item = {\r\n                        _id     : _id,\r\n                        _path   : parts.join('.'),\r\n                        title   : _id,\r\n                        weight  : 1,\r\n                        children: []\r\n                    };\r\n\r\n                    parent.push(item);\r\n                    parent = item.children;\r\n                }\r\n            }\r\n\r\n            return parent;\r\n        }\r\n\r\n        /**\r\n         * Sort by weight\r\n         *\r\n         * @param x\r\n         * @param y\r\n         * @returns {number}\r\n         * @private\r\n         */\r\n        function _byWeight(x, y)\r\n        {\r\n            return parseInt(x.weight) - parseInt(y.weight);\r\n        }\r\n\r\n        /**\r\n         * Setup the ui-sref using state & state parameters\r\n         *\r\n         * @param item\r\n         * @returns {string}\r\n         * @private\r\n         */\r\n        function _getUiSref(item)\r\n        {\r\n            var uisref = '';\r\n\r\n            if ( angular.isDefined(item.state) )\r\n            {\r\n                uisref = item.state;\r\n\r\n                if ( angular.isDefined(item.stateParams) && angular.isObject(item.stateParams) )\r\n                {\r\n                    uisref = uisref + '(' + angular.toJson(item.stateParams) + ')';\r\n                }\r\n            }\r\n\r\n            return uisref;\r\n        }\r\n\r\n        /* ----------------- */\r\n        /* Service           */\r\n        /* ----------------- */\r\n\r\n        this.$get = function ()\r\n        {\r\n            var activeItem = null,\r\n                navigationScope = null,\r\n                folded = null,\r\n                foldedOpen = null;\r\n\r\n            var service = {\r\n                saveItem          : saveItem,\r\n                deleteItem        : deleteItem,\r\n                sort              : sortByWeight,\r\n                clearNavigation   : clearNavigation,\r\n                setActiveItem     : setActiveItem,\r\n                getActiveItem     : getActiveItem,\r\n                getNavigation     : getNavigation,\r\n                getFlatNavigation : getFlatNavigation,\r\n                setNavigationScope: setNavigationScope,\r\n                setFolded         : setFolded,\r\n                getFolded         : getFolded,\r\n                setFoldedOpen     : setFoldedOpen,\r\n                getFoldedOpen     : getFoldedOpen,\r\n                toggleFolded      : toggleFolded\r\n            };\r\n\r\n            return service;\r\n\r\n            //////////\r\n\r\n            /**\r\n             * Clear the entire navigation\r\n             */\r\n            function clearNavigation()\r\n            {\r\n                // Clear the navigation array\r\n                navigation = [];\r\n\r\n                // Clear the vm.navigation from main controller\r\n                if ( navigationScope )\r\n                {\r\n                    navigationScope.vm.navigation = navigation;\r\n                }\r\n            }\r\n\r\n            /**\r\n             * Set active item\r\n             *\r\n             * @param node\r\n             * @param scope\r\n             */\r\n            function setActiveItem(node, scope)\r\n            {\r\n                activeItem = {\r\n                    node : node,\r\n                    scope: scope\r\n                };\r\n            }\r\n\r\n            /**\r\n             * Return active item\r\n             */\r\n            function getActiveItem()\r\n            {\r\n                return activeItem;\r\n            }\r\n\r\n            /**\r\n             * Return navigation array\r\n             *\r\n             * @param root\r\n             * @returns Array\r\n             */\r\n            function getNavigation(root)\r\n            {\r\n                if ( root )\r\n                {\r\n                    for ( var i = 0; i < navigation.length; i++ )\r\n                    {\r\n                        if ( navigation[i]._id === root )\r\n                        {\r\n                            return [navigation[i]];\r\n                        }\r\n                    }\r\n\r\n                    return null;\r\n                }\r\n\r\n                return navigation;\r\n            }\r\n\r\n            /**\r\n             * Return flat navigation array\r\n             *\r\n             * @param root\r\n             * @returns Array\r\n             */\r\n            function getFlatNavigation(root)\r\n            {\r\n                // Get the correct navigation array\r\n                var navigation = getNavigation(root);\r\n\r\n                // Flatten the navigation object\r\n                return _flattenNavigation(navigation);\r\n            }\r\n\r\n            /**\r\n             * Store navigation's scope for later use\r\n             *\r\n             * @param scope\r\n             */\r\n            function setNavigationScope(scope)\r\n            {\r\n                navigationScope = scope;\r\n            }\r\n\r\n            /**\r\n             * Set folded status\r\n             *\r\n             * @param status\r\n             */\r\n            function setFolded(status)\r\n            {\r\n                folded = status;\r\n            }\r\n\r\n            /**\r\n             * Return folded status\r\n             *\r\n             * @returns {*}\r\n             */\r\n            function getFolded()\r\n            {\r\n                return folded;\r\n            }\r\n\r\n            /**\r\n             * Set folded open status\r\n             *\r\n             * @param status\r\n             */\r\n            function setFoldedOpen(status)\r\n            {\r\n                foldedOpen = status;\r\n            }\r\n\r\n            /**\r\n             * Return folded open status\r\n             *\r\n             * @returns {*}\r\n             */\r\n            function getFoldedOpen()\r\n            {\r\n                return foldedOpen;\r\n            }\r\n\r\n\r\n            /**\r\n             * Toggle fold on stored navigation's scope\r\n             */\r\n            function toggleFolded()\r\n            {\r\n                navigationScope.toggleFolded();\r\n            }\r\n\r\n            /**\r\n             * Flatten the given navigation\r\n             *\r\n             * @param navigation\r\n             * @private\r\n             */\r\n            function _flattenNavigation(navigation)\r\n            {\r\n                var flatNav = [];\r\n\r\n                for ( var x = 0; x < navigation.length; x++ )\r\n                {\r\n                    // Copy and clear the children of the\r\n                    // navigation that we want to push\r\n                    var navToPush = angular.copy(navigation[x]);\r\n                    navToPush.children = [];\r\n\r\n                    // Push the item\r\n                    flatNav.push(navToPush);\r\n\r\n                    // If there are child items in this navigation,\r\n                    // do some nested function magic\r\n                    if ( navigation[x].children.length > 0 )\r\n                    {\r\n                        flatNav = flatNav.concat(_flattenNavigation(navigation[x].children));\r\n                    }\r\n                }\r\n\r\n                return flatNav;\r\n            }\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function MsNavigationController($scope, msNavigationService)\r\n    {\r\n        var vm = this;\r\n\r\n        // Data\r\n        if ( $scope.root )\r\n        {\r\n            vm.navigation = msNavigationService.getNavigation($scope.root);\r\n        }\r\n        else\r\n        {\r\n            vm.navigation = msNavigationService.getNavigation();\r\n        }\r\n\r\n        // Methods\r\n        vm.toggleHorizontalMobileMenu = toggleHorizontalMobileMenu;\r\n\r\n        //////////\r\n\r\n        init();\r\n\r\n        /**\r\n         * Initialize\r\n         */\r\n        function init()\r\n        {\r\n            // Sort the navigation before doing anything else\r\n            msNavigationService.sort();\r\n        }\r\n\r\n        /**\r\n         * Toggle horizontal mobile menu\r\n         */\r\n        function toggleHorizontalMobileMenu()\r\n        {\r\n            angular.element('body').toggleClass('ms-navigation-horizontal-mobile-menu-active');\r\n        }\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msNavigationDirective($rootScope, $timeout, $mdSidenav, msNavigationService)\r\n    {\r\n        return {\r\n            restrict   : 'E',\r\n            scope      : {\r\n                folded: '=',\r\n                root  : '@'\r\n            },\r\n            controller : 'MsNavigationController as vm',\r\n            templateUrl: 'app/core/directives/ms-navigation/templates/vertical.html',\r\n            transclude : true,\r\n            compile    : function (tElement)\r\n            {\r\n                tElement.addClass('ms-navigation');\r\n\r\n                return function postLink(scope, iElement)\r\n                {\r\n                    var bodyEl = angular.element('body'),\r\n                        foldExpanderEl = angular.element('<div id=\"ms-navigation-fold-expander\"></div>'),\r\n                        foldCollapserEl = angular.element('<div id=\"ms-navigation-fold-collapser\"></div>'),\r\n                        sidenav = $mdSidenav('navigation');\r\n\r\n                    // Store the navigation in the service for public access\r\n                    msNavigationService.setNavigationScope(scope);\r\n\r\n                    // Initialize\r\n                    init();\r\n\r\n                    /**\r\n                     * Initialize\r\n                     */\r\n                    function init()\r\n                    {\r\n                        // Set the folded status for the first time.\r\n                        // First, we have to check if we have a folded\r\n                        // status available in the service already. This\r\n                        // will prevent navigation to act weird if we already\r\n                        // set the fold status, remove the navigation and\r\n                        // then re-initialize it, which happens if we\r\n                        // change to a view without a navigation and then\r\n                        // come back with history.back() function.\r\n\r\n                        // If the service didn't initialize before, set\r\n                        // the folded status from scope, otherwise we\r\n                        // won't touch anything because the folded status\r\n                        // already set in the service...\r\n                        if ( msNavigationService.getFolded() === null )\r\n                        {\r\n                            msNavigationService.setFolded(scope.folded);\r\n                        }\r\n\r\n                        if ( msNavigationService.getFolded() )\r\n                        {\r\n                            // Collapse everything.\r\n                            // This must be inside a $timeout because by the\r\n                            // time we call this, the 'msNavigation::collapse'\r\n                            // event listener is not registered yet. $timeout\r\n                            // will ensure that it will be called after it is\r\n                            // registered.\r\n                            $timeout(function ()\r\n                            {\r\n                                $rootScope.$broadcast('msNavigation::collapse');\r\n                            });\r\n\r\n                            // Add class to the body\r\n                            bodyEl.addClass('ms-navigation-folded');\r\n\r\n                            // Set fold expander\r\n                            setFoldExpander();\r\n                        }\r\n                    }\r\n\r\n                    // Sidenav locked open status watcher\r\n                    scope.$watch(function ()\r\n                    {\r\n                        return sidenav.isLockedOpen();\r\n                    }, function (current, old)\r\n                    {\r\n                        if ( angular.isUndefined(current) || angular.equals(current, old) )\r\n                        {\r\n                            return;\r\n                        }\r\n\r\n                        var folded = msNavigationService.getFolded();\r\n\r\n                        if ( folded )\r\n                        {\r\n                            if ( current )\r\n                            {\r\n                                // Collapse everything\r\n                                $rootScope.$broadcast('msNavigation::collapse');\r\n                            }\r\n                            else\r\n                            {\r\n                                // Expand the active one and its parents\r\n                                var activeItem = msNavigationService.getActiveItem();\r\n                                if ( activeItem )\r\n                                {\r\n                                    activeItem.scope.$emit('msNavigation::stateMatched');\r\n                                }\r\n                            }\r\n                        }\r\n                    });\r\n\r\n                    // Folded status watcher\r\n                    scope.$watch('folded', function (current, old)\r\n                    {\r\n                        if ( angular.isUndefined(current) || angular.equals(current, old) )\r\n                        {\r\n                            return;\r\n                        }\r\n\r\n                        setFolded(current);\r\n                    });\r\n\r\n                    /**\r\n                     * Set folded status\r\n                     *\r\n                     * @param folded\r\n                     */\r\n                    function setFolded(folded)\r\n                    {\r\n                        // Store folded status on the service for global access\r\n                        msNavigationService.setFolded(folded);\r\n\r\n                        if ( folded )\r\n                        {\r\n                            // Collapse everything\r\n                            $rootScope.$broadcast('msNavigation::collapse');\r\n\r\n                            // Add class to the body\r\n                            bodyEl.addClass('ms-navigation-folded');\r\n\r\n                            // Set fold expander\r\n                            setFoldExpander();\r\n                        }\r\n                        else\r\n                        {\r\n                            // Expand the active one and its parents\r\n                            var activeItem = msNavigationService.getActiveItem();\r\n                            if ( activeItem )\r\n                            {\r\n                                activeItem.scope.$emit('msNavigation::stateMatched');\r\n                            }\r\n\r\n                            // Remove body class\r\n                            bodyEl.removeClass('ms-navigation-folded ms-navigation-folded-open');\r\n\r\n                            // Remove fold collapser\r\n                            removeFoldCollapser();\r\n                        }\r\n                    }\r\n\r\n                    /**\r\n                     * Set fold expander\r\n                     */\r\n                    function setFoldExpander()\r\n                    {\r\n                        iElement.parent().append(foldExpanderEl);\r\n\r\n                        // Let everything settle for a moment\r\n                        // before registering the event listener\r\n                        $timeout(function ()\r\n                        {\r\n                            foldExpanderEl.on('mouseenter touchstart', onFoldExpanderHover);\r\n                        });\r\n                    }\r\n\r\n                    /**\r\n                     * Set fold collapser\r\n                     */\r\n                    function setFoldCollapser()\r\n                    {\r\n                        bodyEl.find('#main').append(foldCollapserEl);\r\n                        foldCollapserEl.on('mouseenter touchstart', onFoldCollapserHover);\r\n                    }\r\n\r\n                    /**\r\n                     * Remove fold collapser\r\n                     */\r\n                    function removeFoldCollapser()\r\n                    {\r\n                        foldCollapserEl.remove();\r\n                    }\r\n\r\n                    /**\r\n                     * onHover event of foldExpander\r\n                     */\r\n                    function onFoldExpanderHover(event)\r\n                    {\r\n                        if ( event )\r\n                        {\r\n                            event.preventDefault();\r\n                        }\r\n\r\n                        // Set folded open status\r\n                        msNavigationService.setFoldedOpen(true);\r\n\r\n                        // Expand the active one and its parents\r\n                        var activeItem = msNavigationService.getActiveItem();\r\n                        if ( activeItem )\r\n                        {\r\n                            activeItem.scope.$emit('msNavigation::stateMatched');\r\n                        }\r\n\r\n                        // Add class to the body\r\n                        bodyEl.addClass('ms-navigation-folded-open');\r\n\r\n                        // Remove the fold opener\r\n                        foldExpanderEl.remove();\r\n\r\n                        // Set fold collapser\r\n                        setFoldCollapser();\r\n                    }\r\n\r\n                    /**\r\n                     * onHover event of foldCollapser\r\n                     */\r\n                    function onFoldCollapserHover(event)\r\n                    {\r\n                        if ( event )\r\n                        {\r\n                            event.preventDefault();\r\n                        }\r\n\r\n                        // Set folded open status\r\n                        msNavigationService.setFoldedOpen(false);\r\n\r\n                        // Collapse everything\r\n                        $rootScope.$broadcast('msNavigation::collapse');\r\n\r\n                        // Remove body class\r\n                        bodyEl.removeClass('ms-navigation-folded-open');\r\n\r\n                        // Remove the fold collapser\r\n                        foldCollapserEl.remove();\r\n\r\n                        // Set fold expander\r\n                        setFoldExpander();\r\n                    }\r\n\r\n                    /**\r\n                     * Public access for toggling folded status externally\r\n                     */\r\n                    scope.toggleFolded = function ()\r\n                    {\r\n                        var folded = msNavigationService.getFolded();\r\n\r\n                        setFolded(!folded);\r\n                    };\r\n\r\n                    /**\r\n                     * On $stateChangeStart\r\n                     */\r\n                    scope.$on('$stateChangeStart', function ()\r\n                    {\r\n                        // Close the sidenav\r\n                        sidenav.close();\r\n                    });\r\n\r\n                    // Cleanup\r\n                    scope.$on('$destroy', function ()\r\n                    {\r\n                        foldCollapserEl.off('mouseenter touchstart');\r\n                        foldExpanderEl.off('mouseenter touchstart');\r\n                    });\r\n                };\r\n            }\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function MsNavigationNodeController($scope, $element, $rootScope, $animate, $state, msNavigationService)\r\n    {\r\n        var vm = this;\r\n\r\n        // Data\r\n        vm.element = $element;\r\n        vm.node = $scope.node;\r\n        vm.hasChildren = undefined;\r\n        vm.collapsed = undefined;\r\n        vm.collapsable = undefined;\r\n        vm.group = undefined;\r\n        vm.animateHeightClass = 'animate-height';\r\n\r\n        // Methods\r\n        vm.toggleCollapsed = toggleCollapsed;\r\n        vm.collapse = collapse;\r\n        vm.expand = expand;\r\n        vm.getClass = getClass;\r\n        vm.isHidden = isHidden;\r\n\r\n        //////////\r\n\r\n        init();\r\n\r\n        /**\r\n         * Initialize\r\n         */\r\n        function init()\r\n        {\r\n            // Setup the initial values\r\n\r\n            // Has children?\r\n            vm.hasChildren = vm.node.children.length > 0;\r\n\r\n            // Is group?\r\n            vm.group = !!(angular.isDefined(vm.node.group) && vm.node.group === true);\r\n\r\n            // Is collapsable?\r\n            if ( !vm.hasChildren || vm.group )\r\n            {\r\n                vm.collapsable = false;\r\n            }\r\n            else\r\n            {\r\n                vm.collapsable = !!(angular.isUndefined(vm.node.collapsable) || typeof vm.node.collapsable !== 'boolean' || vm.node.collapsable === true);\r\n            }\r\n\r\n            // Is collapsed?\r\n            if ( !vm.collapsable )\r\n            {\r\n                vm.collapsed = false;\r\n            }\r\n            else\r\n            {\r\n                vm.collapsed = !!(angular.isUndefined(vm.node.collapsed) || typeof vm.node.collapsed !== 'boolean' || vm.node.collapsed === true);\r\n            }\r\n\r\n            // Expand all parents if we have a matching state or\r\n            // the current state is a child of the node's state\r\n            if ( vm.node.state === $state.current.name || $state.includes(vm.node.state) )\r\n            {\r\n                // If state params are defined, make sure they are\r\n                // equal, otherwise do not set the active item\r\n                if ( angular.isDefined(vm.node.stateParams) && angular.isDefined($state.params) && !angular.equals(vm.node.stateParams, $state.params) )\r\n                {\r\n                    return;\r\n                }\r\n\r\n                $scope.$emit('msNavigation::stateMatched');\r\n\r\n                // Also store the current active menu item\r\n                msNavigationService.setActiveItem(vm.node, $scope);\r\n            }\r\n\r\n            $scope.$on('msNavigation::stateMatched', function ()\r\n            {\r\n                // Expand if the current scope is collapsable and is collapsed\r\n                if ( vm.collapsable && vm.collapsed )\r\n                {\r\n                    $scope.$evalAsync(function ()\r\n                    {\r\n                        vm.collapsed = false;\r\n                    });\r\n                }\r\n            });\r\n\r\n            // Listen for collapse event\r\n            $scope.$on('msNavigation::collapse', function (event, path)\r\n            {\r\n                if ( vm.collapsed || !vm.collapsable )\r\n                {\r\n                    return;\r\n                }\r\n\r\n                // If there is no path defined, collapse\r\n                if ( angular.isUndefined(path) )\r\n                {\r\n                    vm.collapse();\r\n                }\r\n                // If there is a path defined, do not collapse\r\n                // the items that are inside that path. This will\r\n                // prevent parent items from collapsing\r\n                else\r\n                {\r\n                    var givenPathParts = path.split('.'),\r\n                        activePathParts = [];\r\n\r\n                    var activeItem = msNavigationService.getActiveItem();\r\n                    if ( activeItem )\r\n                    {\r\n                        activePathParts = activeItem.node._path.split('.');\r\n                    }\r\n\r\n                    // Test for given path\r\n                    if ( givenPathParts.indexOf(vm.node._id) > -1 )\r\n                    {\r\n                        return;\r\n                    }\r\n\r\n                    // Test for active path\r\n                    if ( activePathParts.indexOf(vm.node._id) > -1 )\r\n                    {\r\n                        return;\r\n                    }\r\n\r\n                    vm.collapse();\r\n                }\r\n            });\r\n\r\n            // Listen for $stateChangeSuccess event\r\n            $scope.$on('$stateChangeSuccess', function ()\r\n            {\r\n                if ( vm.node.state === $state.current.name )\r\n                {\r\n                    // If state params are defined, make sure they are\r\n                    // equal, otherwise do not set the active item\r\n                    if ( angular.isDefined(vm.node.stateParams) && angular.isDefined($state.params) && !angular.equals(vm.node.stateParams, $state.params) )\r\n                    {\r\n                        return;\r\n                    }\r\n\r\n                    // Update active item on state change\r\n                    msNavigationService.setActiveItem(vm.node, $scope);\r\n\r\n                    // Collapse everything except the one we're using\r\n                    $rootScope.$broadcast('msNavigation::collapse', vm.node._path);\r\n                }\r\n\r\n                // Expand the parents if we the current\r\n                // state is a child of the node's state\r\n                if ( $state.includes(vm.node.state) )\r\n                {\r\n                    // If state params are defined, make sure they are\r\n                    // equal, otherwise do not set the active item\r\n                    if ( angular.isDefined(vm.node.stateParams) && angular.isDefined($state.params) && !angular.equals(vm.node.stateParams, $state.params) )\r\n                    {\r\n                        return;\r\n                    }\r\n\r\n                    // Emit the stateMatched\r\n                    $scope.$emit('msNavigation::stateMatched');\r\n                }\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Toggle collapsed\r\n         */\r\n        function toggleCollapsed()\r\n        {\r\n            if ( vm.collapsed )\r\n            {\r\n                vm.expand();\r\n            }\r\n            else\r\n            {\r\n                vm.collapse();\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Collapse\r\n         */\r\n        function collapse()\r\n        {\r\n            // Grab the element that we are going to collapse\r\n            var collapseEl = vm.element.children('ul');\r\n\r\n            // Grab the height\r\n            var height = collapseEl[0].offsetHeight;\r\n\r\n            $scope.$evalAsync(function ()\r\n            {\r\n                // Set collapsed status\r\n                vm.collapsed = true;\r\n\r\n                // Add collapsing class to the node\r\n                vm.element.addClass('collapsing');\r\n\r\n                // Animate the height\r\n                $animate.animate(collapseEl,\r\n                    {\r\n                        'display': 'block',\r\n                        'height' : height + 'px'\r\n                    },\r\n                    {\r\n                        'height': '0px'\r\n                    },\r\n                    vm.animateHeightClass\r\n                ).then(\r\n                    function ()\r\n                    {\r\n                        // Clear the inline styles after animation done\r\n                        collapseEl.css({\r\n                            'display': '',\r\n                            'height' : ''\r\n                        });\r\n\r\n                        // Clear collapsing class from the node\r\n                        vm.element.removeClass('collapsing');\r\n                    }\r\n                );\r\n\r\n                // Broadcast the collapse event so child items can also be collapsed\r\n                $scope.$broadcast('msNavigation::collapse');\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Expand\r\n         */\r\n        function expand()\r\n        {\r\n            // Grab the element that we are going to expand\r\n            var expandEl = vm.element.children('ul');\r\n\r\n            // Move the element out of the dom flow and\r\n            // make it block so we can get its height\r\n            expandEl.css({\r\n                'position'  : 'absolute',\r\n                'visibility': 'hidden',\r\n                'display'   : 'block',\r\n                'height'    : 'auto'\r\n            });\r\n\r\n            // Grab the height\r\n            var height = expandEl[0].offsetHeight;\r\n\r\n            // Reset the style modifications\r\n            expandEl.css({\r\n                'position'  : '',\r\n                'visibility': '',\r\n                'display'   : '',\r\n                'height'    : ''\r\n            });\r\n\r\n            $scope.$evalAsync(function ()\r\n            {\r\n                // Set collapsed status\r\n                vm.collapsed = false;\r\n\r\n                // Add expanding class to the node\r\n                vm.element.addClass('expanding');\r\n\r\n                // Animate the height\r\n                $animate.animate(expandEl,\r\n                    {\r\n                        'display': 'block',\r\n                        'height' : '0px'\r\n                    },\r\n                    {\r\n                        'height': height + 'px'\r\n                    },\r\n                    vm.animateHeightClass\r\n                ).then(\r\n                    function ()\r\n                    {\r\n                        // Clear the inline styles after animation done\r\n                        expandEl.css({\r\n                            'height': ''\r\n                        });\r\n\r\n                        // Clear expanding class from the node\r\n                        vm.element.removeClass('expanding');\r\n                    }\r\n                );\r\n\r\n                // If item expanded, broadcast the collapse event from rootScope so that the other expanded items\r\n                // can be collapsed. This is necessary for keeping only one parent expanded at any time\r\n                $rootScope.$broadcast('msNavigation::collapse', vm.node._path);\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Return the class\r\n         *\r\n         * @returns {*}\r\n         */\r\n        function getClass()\r\n        {\r\n            return vm.node.class;\r\n        }\r\n\r\n        /**\r\n         * Check if node should be hidden\r\n         *\r\n         * @returns {boolean}\r\n         */\r\n        function isHidden()\r\n        {\r\n            if ( angular.isDefined(vm.node.hidden) && angular.isFunction(vm.node.hidden) )\r\n            {\r\n                return vm.node.hidden();\r\n            }\r\n\r\n            return false;\r\n        }\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msNavigationNodeDirective()\r\n    {\r\n        return {\r\n            restrict        : 'A',\r\n            bindToController: {\r\n                node: '=msNavigationNode'\r\n            },\r\n            controller      : 'MsNavigationNodeController as vm',\r\n            compile         : function (tElement)\r\n            {\r\n                tElement.addClass('ms-navigation-node');\r\n\r\n                return function postLink(scope, iElement, iAttrs, MsNavigationNodeCtrl)\r\n                {\r\n                    // Add custom classes\r\n                    iElement.addClass(MsNavigationNodeCtrl.getClass());\r\n\r\n                    // Add group class if it's a group\r\n                    if ( MsNavigationNodeCtrl.group )\r\n                    {\r\n                        iElement.addClass('group');\r\n                    }\r\n                };\r\n            }\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msNavigationItemDirective()\r\n    {\r\n        return {\r\n            restrict: 'A',\r\n            require : '^msNavigationNode',\r\n            compile : function (tElement)\r\n            {\r\n                tElement.addClass('ms-navigation-item');\r\n\r\n                return function postLink(scope, iElement, iAttrs, MsNavigationNodeCtrl)\r\n                {\r\n                    // If the item is collapsable...\r\n                    if ( MsNavigationNodeCtrl.collapsable )\r\n                    {\r\n                        iElement.on('click', MsNavigationNodeCtrl.toggleCollapsed);\r\n                    }\r\n\r\n                    // Cleanup\r\n                    scope.$on('$destroy', function ()\r\n                    {\r\n                        iElement.off('click');\r\n                    });\r\n                };\r\n            }\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msNavigationHorizontalDirective(msNavigationService)\r\n    {\r\n        return {\r\n            restrict   : 'E',\r\n            scope      : {\r\n                root: '@'\r\n            },\r\n            controller : 'MsNavigationController as vm',\r\n            templateUrl: 'app/core/directives/ms-navigation/templates/horizontal.html',\r\n            transclude : true,\r\n            compile    : function (tElement)\r\n            {\r\n                tElement.addClass('ms-navigation-horizontal');\r\n\r\n                return function postLink(scope)\r\n                {\r\n                    // Store the navigation in the service for public access\r\n                    msNavigationService.setNavigationScope(scope);\r\n                };\r\n            }\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function MsNavigationHorizontalNodeController($scope, $element, $rootScope, $state, msNavigationService)\r\n    {\r\n        var vm = this;\r\n\r\n        // Data\r\n        vm.element = $element;\r\n        vm.node = $scope.node;\r\n        vm.hasChildren = undefined;\r\n        vm.group = undefined;\r\n\r\n        // Methods\r\n        vm.getClass = getClass;\r\n\r\n        //////////\r\n\r\n        init();\r\n\r\n        /**\r\n         * Initialize\r\n         */\r\n        function init()\r\n        {\r\n            // Setup the initial values\r\n\r\n            // Is active\r\n            vm.isActive = false;\r\n\r\n            // Has children?\r\n            vm.hasChildren = vm.node.children.length > 0;\r\n\r\n            // Is group?\r\n            vm.group = !!(angular.isDefined(vm.node.group) && vm.node.group === true);\r\n\r\n            // Mark all parents as active if we have a matching state\r\n            // or the current state is a child of the node's state\r\n            if ( vm.node.state === $state.current.name || $state.includes(vm.node.state) )\r\n            {\r\n                // If state params are defined, make sure they are\r\n                // equal, otherwise do not set the active item\r\n                if ( angular.isDefined(vm.node.stateParams) && angular.isDefined($state.params) && !angular.equals(vm.node.stateParams, $state.params) )\r\n                {\r\n                    return;\r\n                }\r\n\r\n                $scope.$emit('msNavigation::stateMatched');\r\n\r\n                // Also store the current active menu item\r\n                msNavigationService.setActiveItem(vm.node, $scope);\r\n            }\r\n\r\n            $scope.$on('msNavigation::stateMatched', function ()\r\n            {\r\n                // Mark as active if has children\r\n                if ( vm.hasChildren )\r\n                {\r\n                    $scope.$evalAsync(function ()\r\n                    {\r\n                        vm.isActive = true;\r\n                    });\r\n                }\r\n            });\r\n\r\n            // Listen for clearActive event\r\n            $scope.$on('msNavigation::clearActive', function ()\r\n            {\r\n                if ( !vm.hasChildren )\r\n                {\r\n                    return;\r\n                }\r\n\r\n                var activePathParts = [];\r\n\r\n                var activeItem = msNavigationService.getActiveItem();\r\n                if ( activeItem )\r\n                {\r\n                    activePathParts = activeItem.node._path.split('.');\r\n                }\r\n\r\n                // Test for active path\r\n                if ( activePathParts.indexOf(vm.node._id) > -1 )\r\n                {\r\n                    $scope.$evalAsync(function ()\r\n                    {\r\n                        vm.isActive = true;\r\n                    });\r\n                }\r\n                else\r\n                {\r\n                    $scope.$evalAsync(function ()\r\n                    {\r\n                        vm.isActive = false;\r\n                    });\r\n                }\r\n\r\n            });\r\n\r\n            // Listen for $stateChangeSuccess event\r\n            $scope.$on('$stateChangeSuccess', function ()\r\n            {\r\n                if ( vm.node.state === $state.current.name || $state.includes(vm.node.state) )\r\n                {\r\n                    // If state params are defined, make sure they are\r\n                    // equal, otherwise do not set the active item\r\n                    if ( angular.isDefined(vm.node.stateParams) && angular.isDefined($state.params) && !angular.equals(vm.node.stateParams, $state.params) )\r\n                    {\r\n                        return;\r\n                    }\r\n\r\n                    // Update active item on state change\r\n                    msNavigationService.setActiveItem(vm.node, $scope);\r\n\r\n                    // Clear all active states except the one we're using\r\n                    $rootScope.$broadcast('msNavigation::clearActive');\r\n                }\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Return the class\r\n         *\r\n         * @returns {*}\r\n         */\r\n        function getClass()\r\n        {\r\n            return vm.node.class;\r\n        }\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msNavigationHorizontalNodeDirective()\r\n    {\r\n        return {\r\n            restrict        : 'A',\r\n            bindToController: {\r\n                node: '=msNavigationHorizontalNode'\r\n            },\r\n            controller      : 'MsNavigationHorizontalNodeController as vm',\r\n            compile         : function (tElement)\r\n            {\r\n                tElement.addClass('ms-navigation-horizontal-node');\r\n\r\n                return function postLink(scope, iElement, iAttrs, MsNavigationHorizontalNodeCtrl)\r\n                {\r\n                    // Add custom classes\r\n                    iElement.addClass(MsNavigationHorizontalNodeCtrl.getClass());\r\n\r\n                    // Add group class if it's a group\r\n                    if ( MsNavigationHorizontalNodeCtrl.group )\r\n                    {\r\n                        iElement.addClass('group');\r\n                    }\r\n                };\r\n            }\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msNavigationHorizontalItemDirective($mdMedia)\r\n    {\r\n        return {\r\n            restrict: 'A',\r\n            require : '^msNavigationHorizontalNode',\r\n            compile : function (tElement)\r\n            {\r\n                tElement.addClass('ms-navigation-horizontal-item');\r\n\r\n                return function postLink(scope, iElement, iAttrs, MsNavigationHorizontalNodeCtrl)\r\n                {\r\n                    iElement.on('click', onClick);\r\n\r\n                    function onClick()\r\n                    {\r\n                        if ( !MsNavigationHorizontalNodeCtrl.hasChildren || $mdMedia('gt-md') )\r\n                        {\r\n                            return;\r\n                        }\r\n\r\n                        iElement.toggleClass('expanded');\r\n                    }\r\n\r\n                    // Cleanup\r\n                    scope.$on('$destroy', function ()\r\n                    {\r\n                        iElement.off('click');\r\n                    });\r\n                };\r\n            }\r\n        };\r\n    }\r\n\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .factory('msNavFoldService', msNavFoldService)\r\n        .directive('msNavIsFolded', msNavIsFoldedDirective)\r\n        .controller('MsNavController', MsNavController)\r\n        .directive('msNav', msNavDirective)\r\n        .directive('msNavTitle', msNavTitleDirective)\r\n        .directive('msNavButton', msNavButtonDirective)\r\n        .directive('msNavToggle', msNavToggleDirective);\r\n\r\n    /** @ngInject */\r\n    function msNavFoldService()\r\n    {\r\n        var foldable = {};\r\n\r\n        var service = {\r\n            setFoldable    : setFoldable,\r\n            isNavFoldedOpen: isNavFoldedOpen,\r\n            toggleFold     : toggleFold,\r\n            openFolded     : openFolded,\r\n            closeFolded    : closeFolded\r\n        };\r\n\r\n        return service;\r\n\r\n        //////////\r\n\r\n        /**\r\n         * Set the foldable\r\n         *\r\n         * @param scope\r\n         * @param element\r\n         */\r\n        function setFoldable(scope, element)\r\n        {\r\n            foldable = {\r\n                'scope'  : scope,\r\n                'element': element\r\n            };\r\n        }\r\n\r\n        /**\r\n         * Is folded open\r\n         */\r\n        function isNavFoldedOpen()\r\n        {\r\n            return foldable.scope.isNavFoldedOpen();\r\n        }\r\n\r\n        /**\r\n         * Toggle fold\r\n         */\r\n        function toggleFold()\r\n        {\r\n            foldable.scope.toggleFold();\r\n        }\r\n\r\n        /**\r\n         * Open folded navigation\r\n         */\r\n        function openFolded()\r\n        {\r\n            foldable.scope.openFolded();\r\n        }\r\n\r\n        /**\r\n         * Close folded navigation\r\n         */\r\n        function closeFolded()\r\n        {\r\n            foldable.scope.closeFolded();\r\n        }\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msNavIsFoldedDirective($document, $rootScope, msNavFoldService)\r\n    {\r\n        return {\r\n            restrict: 'A',\r\n            link    : function (scope, iElement, iAttrs)\r\n            {\r\n                var isFolded = (iAttrs.msNavIsFolded === 'true'),\r\n                    isFoldedOpen = false,\r\n                    body = angular.element($document[0].body),\r\n                    openOverlay = angular.element('<div id=\"ms-nav-fold-open-overlay\"></div>'),\r\n                    closeOverlay = angular.element('<div id=\"ms-nav-fold-close-overlay\"></div>'),\r\n                    sidenavEl = iElement.parent();\r\n\r\n                // Initialize the service\r\n                msNavFoldService.setFoldable(scope, iElement, isFolded);\r\n\r\n                // Set the fold status for the first time\r\n                if ( isFolded )\r\n                {\r\n                    fold();\r\n                }\r\n                else\r\n                {\r\n                    unfold();\r\n                }\r\n\r\n                /**\r\n                 * Is nav folded open\r\n                 */\r\n                function isNavFoldedOpen()\r\n                {\r\n                    return isFoldedOpen;\r\n                }\r\n\r\n                /**\r\n                 * Toggle fold\r\n                 */\r\n                function toggleFold()\r\n                {\r\n                    isFolded = !isFolded;\r\n\r\n                    if ( isFolded )\r\n                    {\r\n                        fold();\r\n                    }\r\n                    else\r\n                    {\r\n                        unfold();\r\n                    }\r\n                }\r\n\r\n                /**\r\n                 * Fold the navigation\r\n                 */\r\n                function fold()\r\n                {\r\n                    // Add classes\r\n                    body.addClass('ms-nav-folded');\r\n\r\n                    // Collapse everything and scroll to the top\r\n                    $rootScope.$broadcast('msNav::forceCollapse');\r\n                    iElement.scrollTop(0);\r\n\r\n                    // Append the openOverlay to the element\r\n                    sidenavEl.append(openOverlay);\r\n\r\n                    // Event listeners\r\n                    openOverlay.on('mouseenter touchstart', function (event)\r\n                    {\r\n                        openFolded(event);\r\n                        isFoldedOpen = true;\r\n                    });\r\n                }\r\n\r\n                /**\r\n                 * Open folded navigation\r\n                 */\r\n                function openFolded(event)\r\n                {\r\n                    if ( angular.isDefined(event) )\r\n                    {\r\n                        event.preventDefault();\r\n                    }\r\n\r\n                    body.addClass('ms-nav-folded-open');\r\n\r\n                    // Update the location\r\n                    $rootScope.$broadcast('msNav::expandMatchingToggles');\r\n\r\n                    // Remove open overlay\r\n                    sidenavEl.find(openOverlay).remove();\r\n\r\n                    // Append close overlay and bind its events\r\n                    sidenavEl.parent().append(closeOverlay);\r\n                    closeOverlay.on('mouseenter touchstart', function (event)\r\n                    {\r\n                        closeFolded(event);\r\n                        isFoldedOpen = false;\r\n                    });\r\n                }\r\n\r\n                /**\r\n                 * Close folded navigation\r\n                 */\r\n                function closeFolded(event)\r\n                {\r\n                    if ( angular.isDefined(event) )\r\n                    {\r\n                        event.preventDefault();\r\n                    }\r\n\r\n                    // Collapse everything and scroll to the top\r\n                    $rootScope.$broadcast('msNav::forceCollapse');\r\n                    iElement.scrollTop(0);\r\n\r\n                    body.removeClass('ms-nav-folded-open');\r\n\r\n                    // Remove close overlay\r\n                    sidenavEl.parent().find(closeOverlay).remove();\r\n\r\n                    // Append open overlay and bind its events\r\n                    sidenavEl.append(openOverlay);\r\n                    openOverlay.on('mouseenter touchstart', function (event)\r\n                    {\r\n                        openFolded(event);\r\n                        isFoldedOpen = true;\r\n                    });\r\n                }\r\n\r\n                /**\r\n                 * Unfold the navigation\r\n                 */\r\n                function unfold()\r\n                {\r\n                    body.removeClass('ms-nav-folded ms-nav-folded-open');\r\n\r\n                    // Update the location\r\n                    $rootScope.$broadcast('msNav::expandMatchingToggles');\r\n\r\n                    iElement.off('mouseenter mouseleave');\r\n                }\r\n\r\n                // Expose functions to the scope\r\n                scope.toggleFold = toggleFold;\r\n                scope.openFolded = openFolded;\r\n                scope.closeFolded = closeFolded;\r\n                scope.isNavFoldedOpen = isNavFoldedOpen;\r\n\r\n                // Cleanup\r\n                scope.$on('$destroy', function ()\r\n                {\r\n                    openOverlay.off('mouseenter touchstart');\r\n                    closeOverlay.off('mouseenter touchstart');\r\n                    iElement.off('mouseenter mouseleave');\r\n                });\r\n            }\r\n        };\r\n    }\r\n\r\n\r\n    /** @ngInject */\r\n    function MsNavController()\r\n    {\r\n        var vm = this,\r\n            disabled = false,\r\n            toggleItems = [],\r\n            lockedItems = [];\r\n\r\n        // Data\r\n\r\n        // Methods\r\n        vm.isDisabled = isDisabled;\r\n        vm.enable = enable;\r\n        vm.disable = disable;\r\n        vm.setToggleItem = setToggleItem;\r\n        vm.getLockedItems = getLockedItems;\r\n        vm.setLockedItem = setLockedItem;\r\n        vm.clearLockedItems = clearLockedItems;\r\n\r\n        //////////\r\n\r\n        /**\r\n         * Is navigation disabled\r\n         *\r\n         * @returns {boolean}\r\n         */\r\n        function isDisabled()\r\n        {\r\n            return disabled;\r\n        }\r\n\r\n        /**\r\n         * Disable the navigation\r\n         */\r\n        function disable()\r\n        {\r\n            disabled = true;\r\n        }\r\n\r\n        /**\r\n         * Enable the navigation\r\n         */\r\n        function enable()\r\n        {\r\n            disabled = false;\r\n        }\r\n\r\n        /**\r\n         * Set toggle item\r\n         *\r\n         * @param element\r\n         * @param scope\r\n         */\r\n        function setToggleItem(element, scope)\r\n        {\r\n            toggleItems.push({\r\n                'element': element,\r\n                'scope'  : scope\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Get locked items\r\n         *\r\n         * @returns {Array}\r\n         */\r\n        function getLockedItems()\r\n        {\r\n            return lockedItems;\r\n        }\r\n\r\n        /**\r\n         * Set locked item\r\n         *\r\n         * @param element\r\n         * @param scope\r\n         */\r\n        function setLockedItem(element, scope)\r\n        {\r\n            lockedItems.push({\r\n                'element': element,\r\n                'scope'  : scope\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Clear locked items list\r\n         */\r\n        function clearLockedItems()\r\n        {\r\n            lockedItems = [];\r\n        }\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msNavDirective($rootScope, $mdComponentRegistry, msNavFoldService)\r\n    {\r\n        return {\r\n            restrict  : 'E',\r\n            scope     : {},\r\n            controller: 'MsNavController',\r\n            compile   : function (tElement)\r\n            {\r\n                tElement.addClass('ms-nav');\r\n\r\n                return function postLink(scope)\r\n                {\r\n                    // Update toggle status according to the ui-router current state\r\n                    $rootScope.$broadcast('msNav::expandMatchingToggles');\r\n\r\n                    // Update toggles on state changes\r\n                    var stateChangeSuccessEvent = $rootScope.$on('$stateChangeSuccess', function ()\r\n                    {\r\n                        $rootScope.$broadcast('msNav::expandMatchingToggles');\r\n\r\n                        // Close navigation sidenav on stateChangeSuccess\r\n                        $mdComponentRegistry.when('navigation').then(function (navigation)\r\n                        {\r\n                            navigation.close();\r\n\r\n                            if ( msNavFoldService.isNavFoldedOpen() )\r\n                            {\r\n                                msNavFoldService.closeFolded();\r\n                            }\r\n                        });\r\n                    });\r\n\r\n                    // Cleanup\r\n                    scope.$on('$destroy', function ()\r\n                    {\r\n                        stateChangeSuccessEvent();\r\n                    });\r\n                };\r\n            }\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msNavTitleDirective()\r\n    {\r\n        return {\r\n            restrict: 'A',\r\n            compile : function (tElement)\r\n            {\r\n                tElement.addClass('ms-nav-title');\r\n\r\n                return function postLink()\r\n                {\r\n\r\n                };\r\n            }\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msNavButtonDirective()\r\n    {\r\n        return {\r\n            restrict: 'AE',\r\n            compile : function (tElement)\r\n            {\r\n                tElement.addClass('ms-nav-button');\r\n\r\n                return function postLink()\r\n                {\r\n\r\n                };\r\n            }\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msNavToggleDirective($rootScope, $q, $animate, $state)\r\n    {\r\n        return {\r\n            restrict: 'A',\r\n            require : '^msNav',\r\n            scope   : true,\r\n            compile : function (tElement, tAttrs)\r\n            {\r\n                tElement.addClass('ms-nav-toggle');\r\n\r\n                // Add collapsed attr\r\n                if ( angular.isUndefined(tAttrs.collapsed) )\r\n                {\r\n                    tAttrs.collapsed = true;\r\n                }\r\n\r\n                tElement.attr('collapsed', tAttrs.collapsed);\r\n\r\n                return function postLink(scope, iElement, iAttrs, MsNavCtrl)\r\n                {\r\n                    var classes = {\r\n                        expanded         : 'expanded',\r\n                        expandAnimation  : 'expand-animation',\r\n                        collapseAnimation: 'collapse-animation'\r\n                    };\r\n\r\n                    // Store all related states\r\n                    var links = iElement.find('a');\r\n                    var states = [];\r\n                    var regExp = /\\(.*\\)/g;\r\n\r\n                    angular.forEach(links, function (link)\r\n                    {\r\n                        var state = angular.element(link).attr('ui-sref');\r\n\r\n                        if ( angular.isUndefined(state) )\r\n                        {\r\n                            return;\r\n                        }\r\n\r\n                        // Remove any parameter definition from the state name before storing it\r\n                        state = state.replace(regExp, '');\r\n\r\n                        states.push(state);\r\n                    });\r\n\r\n                    // Store toggle-able element and its scope in the main nav controller\r\n                    MsNavCtrl.setToggleItem(iElement, scope);\r\n\r\n                    // Click handler\r\n                    iElement.children('.ms-nav-button').on('click', toggle);\r\n\r\n                    // Toggle function\r\n                    function toggle()\r\n                    {\r\n                        // If navigation is disabled, do nothing...\r\n                        if ( MsNavCtrl.isDisabled() )\r\n                        {\r\n                            return;\r\n                        }\r\n\r\n                        // Disable the entire navigation to prevent spamming\r\n                        MsNavCtrl.disable();\r\n\r\n                        if ( isCollapsed() )\r\n                        {\r\n                            // Clear the locked items list\r\n                            MsNavCtrl.clearLockedItems();\r\n\r\n                            // Emit pushToLockedList event\r\n                            scope.$emit('msNav::pushToLockedList');\r\n\r\n                            // Collapse everything but locked items\r\n                            $rootScope.$broadcast('msNav::collapse');\r\n\r\n                            // Expand and then...\r\n                            expand().then(function ()\r\n                            {\r\n                                // Enable the entire navigation after animations completed\r\n                                MsNavCtrl.enable();\r\n                            });\r\n                        }\r\n                        else\r\n                        {\r\n                            // Collapse with all children\r\n                            scope.$broadcast('msNav::forceCollapse');\r\n                        }\r\n                    }\r\n\r\n                    // Cleanup\r\n                    scope.$on('$destroy', function ()\r\n                    {\r\n                        iElement.children('.ms-nav-button').off('click');\r\n                    });\r\n\r\n                    /*---------------------*/\r\n                    /* Scope Events        */\r\n                    /*---------------------*/\r\n\r\n                    /**\r\n                     * Collapse everything but locked items\r\n                     */\r\n                    scope.$on('msNav::collapse', function ()\r\n                    {\r\n                        // Only collapse toggles that are not locked\r\n                        var lockedItems = MsNavCtrl.getLockedItems();\r\n                        var locked = false;\r\n\r\n                        angular.forEach(lockedItems, function (lockedItem)\r\n                        {\r\n                            if ( angular.equals(lockedItem.scope, scope) )\r\n                            {\r\n                                locked = true;\r\n                            }\r\n                        });\r\n\r\n                        if ( locked )\r\n                        {\r\n                            return;\r\n                        }\r\n\r\n                        // Collapse and then...\r\n                        collapse().then(function ()\r\n                        {\r\n                            // Enable the entire navigation after animations completed\r\n                            MsNavCtrl.enable();\r\n                        });\r\n                    });\r\n\r\n                    /**\r\n                     * Collapse everything\r\n                     */\r\n                    scope.$on('msNav::forceCollapse', function ()\r\n                    {\r\n                        // Collapse and then...\r\n                        collapse().then(function ()\r\n                        {\r\n                            // Enable the entire navigation after animations completed\r\n                            MsNavCtrl.enable();\r\n                        });\r\n                    });\r\n\r\n                    /**\r\n                     * Expand toggles that match with the current states\r\n                     */\r\n                    scope.$on('msNav::expandMatchingToggles', function ()\r\n                    {\r\n                        var currentState = $state.current.name;\r\n                        var shouldExpand = false;\r\n\r\n                        angular.forEach(states, function (state)\r\n                        {\r\n                            if ( currentState === state )\r\n                            {\r\n                                shouldExpand = true;\r\n                            }\r\n                        });\r\n\r\n                        if ( shouldExpand )\r\n                        {\r\n                            expand();\r\n                        }\r\n                        else\r\n                        {\r\n                            collapse();\r\n                        }\r\n                    });\r\n\r\n                    /**\r\n                     * Add toggle to the locked list\r\n                     */\r\n                    scope.$on('msNav::pushToLockedList', function ()\r\n                    {\r\n                        // Set expanded item on main nav controller\r\n                        MsNavCtrl.setLockedItem(iElement, scope);\r\n                    });\r\n\r\n                    /*---------------------*/\r\n                    /* Internal functions  */\r\n                    /*---------------------*/\r\n\r\n                    /**\r\n                     * Is element collapsed\r\n                     *\r\n                     * @returns {bool}\r\n                     */\r\n                    function isCollapsed()\r\n                    {\r\n                        return iElement.attr('collapsed') === 'true';\r\n                    }\r\n\r\n                    /**\r\n                     * Is element expanded\r\n                     *\r\n                     * @returns {bool}\r\n                     */\r\n                    function isExpanded()\r\n                    {\r\n                        return !isCollapsed();\r\n                    }\r\n\r\n                    /**\r\n                     * Expand the toggle\r\n                     *\r\n                     * @returns $promise\r\n                     */\r\n                    function expand()\r\n                    {\r\n                        // Create a new deferred object\r\n                        var deferred = $q.defer();\r\n\r\n                        // If the menu item is already expanded, do nothing..\r\n                        if ( isExpanded() )\r\n                        {\r\n                            // Reject the deferred object\r\n                            deferred.reject({'error': true});\r\n\r\n                            // Return the promise\r\n                            return deferred.promise;\r\n                        }\r\n\r\n                        // Set element attr\r\n                        iElement.attr('collapsed', false);\r\n\r\n                        // Grab the element to expand\r\n                        var elementToExpand = angular.element(iElement.find('ms-nav-toggle-items')[0]);\r\n\r\n                        // Move the element out of the dom flow and\r\n                        // make it block so we can get its height\r\n                        elementToExpand.css({\r\n                            'position'  : 'absolute',\r\n                            'visibility': 'hidden',\r\n                            'display'   : 'block',\r\n                            'height'    : 'auto'\r\n                        });\r\n\r\n                        // Grab the height\r\n                        var height = elementToExpand[0].offsetHeight;\r\n\r\n                        // Reset the style modifications\r\n                        elementToExpand.css({\r\n                            'position'  : '',\r\n                            'visibility': '',\r\n                            'display'   : '',\r\n                            'height'    : ''\r\n                        });\r\n\r\n                        // Animate the height\r\n                        scope.$evalAsync(function ()\r\n                        {\r\n                            $animate.animate(elementToExpand,\r\n                                {\r\n                                    'display': 'block',\r\n                                    'height' : '0px'\r\n                                },\r\n                                {\r\n                                    'height': height + 'px'\r\n                                },\r\n                                classes.expandAnimation\r\n                            ).then(\r\n                                function ()\r\n                                {\r\n                                    // Add expanded class\r\n                                    elementToExpand.addClass(classes.expanded);\r\n\r\n                                    // Clear the inline styles after animation done\r\n                                    elementToExpand.css({'height': ''});\r\n\r\n                                    // Resolve the deferred object\r\n                                    deferred.resolve({'success': true});\r\n                                }\r\n                            );\r\n                        });\r\n\r\n                        // Return the promise\r\n                        return deferred.promise;\r\n                    }\r\n\r\n                    /**\r\n                     * Collapse the toggle\r\n                     *\r\n                     * @returns $promise\r\n                     */\r\n                    function collapse()\r\n                    {\r\n                        // Create a new deferred object\r\n                        var deferred = $q.defer();\r\n\r\n                        // If the menu item is already collapsed, do nothing..\r\n                        if ( isCollapsed() )\r\n                        {\r\n                            // Reject the deferred object\r\n                            deferred.reject({'error': true});\r\n\r\n                            // Return the promise\r\n                            return deferred.promise;\r\n                        }\r\n\r\n                        // Set element attr\r\n                        iElement.attr('collapsed', true);\r\n\r\n                        // Grab the element to collapse\r\n                        var elementToCollapse = angular.element(iElement.find('ms-nav-toggle-items')[0]);\r\n\r\n                        // Grab the height\r\n                        var height = elementToCollapse[0].offsetHeight;\r\n\r\n                        // Animate the height\r\n                        scope.$evalAsync(function ()\r\n                        {\r\n                            $animate.animate(elementToCollapse,\r\n                                {\r\n                                    'height': height + 'px'\r\n                                },\r\n                                {\r\n                                    'height': '0px'\r\n                                },\r\n                                classes.collapseAnimation\r\n                            ).then(\r\n                                function ()\r\n                                {\r\n                                    // Remove expanded class\r\n                                    elementToCollapse.removeClass(classes.expanded);\r\n\r\n                                    // Clear the inline styles after animation done\r\n                                    elementToCollapse.css({\r\n                                        'display': '',\r\n                                        'height' : ''\r\n                                    });\r\n\r\n                                    // Resolve the deferred object\r\n                                    deferred.resolve({'success': true});\r\n                                }\r\n                            );\r\n                        });\r\n\r\n                        // Return the promise\r\n                        return deferred.promise;\r\n                    }\r\n                };\r\n            }\r\n        };\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .controller('msMaterialColorPickerController', msMaterialColorPickerController)\r\n        .directive('msMaterialColorPicker', msMaterialColorPicker);\r\n\r\n    /** @ngInject */\r\n    function msMaterialColorPickerController($scope, $mdColorPalette, $mdMenu, fuseGenerator)\r\n    {\r\n        var vm = this;\r\n        vm.palettes = $mdColorPalette; // Material Color Palette\r\n        vm.selectedPalette = false;\r\n        vm.selectedHues = false;\r\n        $scope.$selectedColor = {};\r\n\r\n        // Methods\r\n        vm.activateHueSelection = activateHueSelection;\r\n        vm.selectColor = selectColor;\r\n        vm.removeColor = removeColor;\r\n\r\n        /**\r\n         * Initialize / Watch model changes\r\n         */\r\n        $scope.$watch('ngModel', setSelectedColor);\r\n\r\n        /**\r\n         * Activate Hue Selection\r\n         * @param palette\r\n         * @param hues\r\n         */\r\n        function activateHueSelection(palette, hues)\r\n        {\r\n            vm.selectedPalette = palette;\r\n            vm.selectedHues = hues;\r\n        }\r\n\r\n        /**\r\n         * Select Color\r\n         * @type {selectColor}\r\n         */\r\n        function selectColor(palette, hue)\r\n        {\r\n            // Update Selected Color\r\n            updateSelectedColor(palette, hue);\r\n\r\n            // Update Model Value\r\n            updateModel();\r\n\r\n            // Hide The picker\r\n            $mdMenu.hide();\r\n        }\r\n\r\n        function removeColor()\r\n        {\r\n            vm.selectedColor = {\r\n                palette: '',\r\n                hue    : '',\r\n                class  : ''\r\n            };\r\n\r\n            activateHueSelection(false, false);\r\n\r\n            updateModel();\r\n        }\r\n\r\n        /**\r\n         * Set SelectedColor by model type\r\n         */\r\n        function setSelectedColor()\r\n        {\r\n            if ( !vm.modelCtrl.$viewValue || vm.modelCtrl.$viewValue === '' )\r\n            {\r\n                removeColor();\r\n                return;\r\n            }\r\n\r\n            var palette, hue;\r\n\r\n            // If ModelType Class\r\n            if ( vm.msModelType === 'class' )\r\n            {\r\n                var color = vm.modelCtrl.$viewValue.split('-');\r\n                if ( color.length >= 5 )\r\n                {\r\n                    palette = color[1] + '-' + color[2];\r\n                    hue = color[3];\r\n                }\r\n                else\r\n                {\r\n                    palette = color[1];\r\n                    hue = color[2];\r\n                }\r\n            }\r\n\r\n            // If ModelType Object\r\n            else if ( vm.msModelType === 'obj' )\r\n            {\r\n                palette = vm.modelCtrl.$viewValue.palette;\r\n                hue = vm.modelCtrl.$viewValue.hue || 500;\r\n            }\r\n\r\n            // Update Selected Color\r\n            updateSelectedColor(palette, hue);\r\n        }\r\n\r\n        /**\r\n         * Update Selected Color\r\n         * @param palette\r\n         * @param hue\r\n         */\r\n        function updateSelectedColor(palette, hue)\r\n        {\r\n            vm.selectedColor = {\r\n                palette     : palette,\r\n                hue         : hue,\r\n                class       : 'md-' + palette + '-' + hue + '-bg',\r\n                bgColorValue: fuseGenerator.rgba(vm.palettes[palette][hue].value),\r\n                fgColorValue: fuseGenerator.rgba(vm.palettes[palette][hue].contrast)\r\n            };\r\n\r\n            // If Model object not Equals the selectedColor update it\r\n            // it can be happen when the model only have pallete and hue values\r\n            if ( vm.msModelType === 'obj' && !angular.equals(vm.selectedColor, vm.modelCtrl.$viewValue) )\r\n            {\r\n                // Update Model Value\r\n                updateModel();\r\n            }\r\n\r\n            activateHueSelection(palette, vm.palettes[palette]);\r\n\r\n            $scope.$selectedColor = vm.selectedColor;\r\n        }\r\n\r\n        /**\r\n         * Update Model Value by model type\r\n         */\r\n        function updateModel()\r\n        {\r\n            if ( vm.msModelType === 'class' )\r\n            {\r\n                vm.modelCtrl.$setViewValue(vm.selectedColor.class);\r\n            }\r\n            else if ( vm.msModelType === 'obj' )\r\n            {\r\n                vm.modelCtrl.$setViewValue(vm.selectedColor);\r\n            }\r\n        }\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msMaterialColorPicker()\r\n    {\r\n        return {\r\n            require    : ['msMaterialColorPicker', 'ngModel'],\r\n            restrict   : 'E',\r\n            scope      : {\r\n                ngModel    : '=',\r\n                msModelType: '@?'\r\n            },\r\n            controller : 'msMaterialColorPickerController as vm',\r\n            transclude : true,\r\n            templateUrl: 'app/core/directives/ms-material-color-picker/ms-material-color-picker.html',\r\n            link       : function (scope, element, attrs, controllers, transclude)\r\n            {\r\n                var ctrl = controllers[0];\r\n\r\n                /**\r\n                 *  Pass model controller to directive controller\r\n                 */\r\n                ctrl.modelCtrl = controllers[1];\r\n\r\n                /**\r\n                 * ModelType: 'obj', 'class'(default)\r\n                 * @type {string|string}\r\n                 */\r\n                ctrl.msModelType = scope.msModelType || 'class';\r\n\r\n                transclude(scope, function (clone)\r\n                {\r\n                    clone = clone.filter(function (i, el)\r\n                    {\r\n                        return ( el.nodeType === 1 ) ? true : false;\r\n                    });\r\n\r\n                    if ( clone.length )\r\n                    {\r\n                        element.find('ms-color-picker-button').replaceWith(clone);\r\n                    }\r\n                });\r\n            }\r\n        };\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .controller('msMasonryController', msMasonryController)\r\n        .directive('msMasonry', msMasonry)\r\n        .directive('msMasonryItem', msMasonryItem);\r\n\r\n    /** @ngInject */\r\n    function msMasonryController($scope, $window, $mdMedia, $timeout)\r\n    {\r\n        var vm = this,\r\n            defaultOpts = {\r\n                columnCount     : 5,\r\n                respectItemOrder: false,\r\n                reLayoutDebounce: 400,\r\n                responsive      : {\r\n                    md: 3,\r\n                    sm: 2,\r\n                    xs: 1\r\n                }\r\n            },\r\n            reLayoutTimeout = true;\r\n\r\n        vm.options = null;\r\n        vm.container = [];\r\n        vm.containerPos = '';\r\n        vm.columnWidth = '';\r\n        vm.items = [];\r\n\r\n        // Methods\r\n        vm.reLayout = reLayout;\r\n        vm.initialize = initialize;\r\n        vm.waitImagesLoaded = waitImagesLoaded;\r\n\r\n        function initialize()\r\n        {\r\n            vm.options = !vm.options ? defaultOpts : angular.extend(defaultOpts, vm.options);\r\n\r\n\r\n            watchContainerResize();\r\n        }\r\n\r\n        $scope.$on('msMasonry:relayout', function ()\r\n        {\r\n            reLayout();\r\n        });\r\n\r\n        function waitImagesLoaded(element, callback)\r\n        {\r\n            if ( typeof imagesLoaded !== 'undefined' )\r\n            {\r\n                var imgLoad = $window.imagesLoaded(element);\r\n\r\n                imgLoad.on('done', function ()\r\n                {\r\n                    callback();\r\n                });\r\n            }\r\n            else\r\n            {\r\n                callback();\r\n            }\r\n        }\r\n\r\n        function watchContainerResize()\r\n        {\r\n            $scope.$watch(\r\n                function ()\r\n                {\r\n                    return vm.container.width();\r\n                },\r\n                function (newValue, oldValue)\r\n                {\r\n                    if ( newValue !== oldValue )\r\n                    {\r\n                        reLayout();\r\n                    }\r\n                }\r\n            );\r\n        }\r\n\r\n        function reLayout()\r\n        {\r\n            // Debounce for relayout\r\n            if ( reLayoutTimeout )\r\n            {\r\n                $timeout.cancel(reLayoutTimeout);\r\n            }\r\n\r\n            reLayoutTimeout = $timeout(function ()\r\n            {\r\n                start();\r\n\r\n                $scope.$broadcast('msMasonry:relayoutFinished');\r\n\r\n            }, vm.options.reLayoutDebounce);\r\n\r\n            // Start relayout\r\n            function start()\r\n            {\r\n                vm.containerPos = vm.container[0].getBoundingClientRect();\r\n\r\n                updateColumnOptions();\r\n\r\n                $scope.$broadcast('msMasonry:relayoutStarted');\r\n\r\n                vm.items = vm.container.find('ms-masonry-item');\r\n\r\n                //initialize lastRowBottomArr\r\n                var referenceArr = Array.apply(null, new Array(vm.columnCount)).map(function ()\r\n                {\r\n                    return 0;\r\n                });\r\n\r\n                // set item positions\r\n                for ( var i = 0; i < vm.items.length; i++ )\r\n                {\r\n                    var item = vm.items[i],\r\n                        xPos, yPos, column, refTop;\r\n\r\n                    item = angular.element(item);\r\n\r\n                    if ( item.scope() )\r\n                    {\r\n                        item.scope().$broadcast('msMasonryItem:startReLayout');\r\n                    }\r\n\r\n                    item.css({'width': vm.columnWidth});\r\n\r\n                    if ( vm.options.respectItemOrder )\r\n                    {\r\n                        column = i % vm.columnCount;\r\n                        refTop = referenceArr[column];\r\n                    }\r\n                    else\r\n                    {\r\n                        refTop = Math.min.apply(Math, referenceArr);\r\n                        column = referenceArr.indexOf(refTop);\r\n                    }\r\n\r\n                    referenceArr[column] = refTop + item[0].getBoundingClientRect().height;\r\n\r\n                    xPos = Math.round(column * vm.columnWidth);\r\n                    yPos = refTop;\r\n\r\n                    item.css({'transform': 'translate3d(' + xPos + 'px,' + yPos + 'px,0px)'});\r\n                    item.addClass('placed');\r\n\r\n                    if ( item.scope() )\r\n                    {\r\n                        item.scope().$broadcast('msMasonryItem:finishReLayout');\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        function updateColumnOptions()\r\n        {\r\n            vm.columnCount = vm.options.columnCount;\r\n\r\n            if ( $mdMedia('gt-md') )\r\n            {\r\n                vm.columnCount = vm.options.columnCount;\r\n            }\r\n            else if ( $mdMedia('md') )\r\n            {\r\n                vm.columnCount = (vm.columnCount > vm.options.responsive.md ? vm.options.responsive.md : vm.columnCount);\r\n            }\r\n            else if ( $mdMedia('sm') )\r\n            {\r\n                vm.columnCount = (vm.columnCount > vm.options.responsive.sm ? vm.options.responsive.sm : vm.columnCount);\r\n            }\r\n            else\r\n            {\r\n                vm.columnCount = vm.options.responsive.xs;\r\n            }\r\n\r\n            vm.columnWidth = vm.containerPos.width / vm.columnCount;\r\n\r\n        }\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msMasonry($timeout)\r\n    {\r\n        return {\r\n            restrict  : 'AEC',\r\n            controller: 'msMasonryController',\r\n            compile   : compile\r\n        };\r\n        function compile(element, attributes)\r\n        {\r\n            return {\r\n                pre : function preLink(scope, iElement, iAttrs, controller)\r\n                {\r\n                    controller.options = angular.fromJson(attributes.options || '{}');\r\n                    controller.container = element;\r\n                },\r\n                post: function postLink(scope, iElement, iAttrs, controller)\r\n                {\r\n                    $timeout(function ()\r\n                    {\r\n                        controller.initialize();\r\n                    });\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msMasonryItem()\r\n    {\r\n        return {\r\n            restrict: 'AEC',\r\n            require : '^msMasonry',\r\n            priority: 1,\r\n            link    : link\r\n        };\r\n\r\n        function link(scope, element, attributes, controller)\r\n        {\r\n            controller.waitImagesLoaded(element, function ()\r\n            {\r\n                controller.reLayout();\r\n\r\n            });\r\n\r\n            scope.$on('msMasonryItem:finishReLayout', function ()\r\n            {\r\n                scope.$watch(function ()\r\n                {\r\n                    return element.height();\r\n                }, function (newVal, oldVal)\r\n                {\r\n                    if ( newVal !== oldVal )\r\n                    {\r\n                        controller.reLayout();\r\n                    }\r\n                });\r\n            });\r\n\r\n            element.on('$destroy', function ()\r\n            {\r\n                controller.reLayout();\r\n            });\r\n        }\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .directive('msInfoBar', msInfoBarDirective);\r\n\r\n    /** @ngInject */\r\n    function msInfoBarDirective($document)\r\n    {\r\n        return {\r\n            restrict   : 'E',\r\n            scope      : {},\r\n            transclude : true,\r\n            templateUrl: 'app/core/directives/ms-info-bar/ms-info-bar.html',\r\n            link       : function (scope, iElement)\r\n            {\r\n                var body = $document.find('body'),\r\n                    bodyClass = 'ms-info-bar-active';\r\n\r\n                // Add body class\r\n                body.addClass(bodyClass);\r\n\r\n                /**\r\n                 * Remove the info bar\r\n                 */\r\n                function removeInfoBar()\r\n                {\r\n                    body.removeClass(bodyClass);\r\n                    iElement.remove();\r\n                    scope.$destroy();\r\n                }\r\n\r\n                // Expose functions\r\n                scope.removeInfoBar = removeInfoBar;\r\n            }\r\n        };\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .controller('MsFormWizardController', MsFormWizardController)\r\n        .directive('msFormWizard', msFormWizardDirective)\r\n        .directive('msFormWizardForm', msFormWizardFormDirective);\r\n\r\n    /** @ngInject */\r\n    function MsFormWizardController()\r\n    {\r\n        var vm = this;\r\n\r\n        // Data\r\n        vm.forms = [];\r\n        vm.selectedIndex = 0;\r\n\r\n        // Methods\r\n        vm.registerForm = registerForm;\r\n\r\n        vm.previousStep = previousStep;\r\n        vm.nextStep = nextStep;\r\n        vm.firstStep = firstStep;\r\n        vm.lastStep = lastStep;\r\n\r\n        vm.totalSteps = totalSteps;\r\n        vm.isFirstStep = isFirstStep;\r\n        vm.isLastStep = isLastStep;\r\n\r\n        vm.currentStepInvalid = currentStepInvalid;\r\n        vm.previousStepInvalid = previousStepInvalid;\r\n        vm.formsIncomplete = formsIncomplete;\r\n        vm.resetForm = resetForm;\r\n\r\n        //////////\r\n\r\n        /**\r\n         * Register form\r\n         *\r\n         * @param form\r\n         */\r\n        function registerForm(form)\r\n        {\r\n            vm.forms.push(form);\r\n        }\r\n\r\n        /**\r\n         * Go to previous step\r\n         */\r\n        function previousStep()\r\n        {\r\n            if ( isFirstStep() )\r\n            {\r\n                return;\r\n            }\r\n\r\n            vm.selectedIndex--;\r\n        }\r\n\r\n        /**\r\n         * Go to next step\r\n         */\r\n        function nextStep()\r\n        {\r\n            if ( isLastStep() )\r\n            {\r\n                return;\r\n            }\r\n\r\n            vm.selectedIndex++;\r\n        }\r\n\r\n        /**\r\n         * Go to first step\r\n         */\r\n        function firstStep()\r\n        {\r\n            vm.selectedIndex = 0;\r\n        }\r\n\r\n        /**\r\n         * Go to last step\r\n         */\r\n        function lastStep()\r\n        {\r\n            vm.selectedIndex = totalSteps() - 1;\r\n        }\r\n\r\n        /**\r\n         * Return total steps\r\n         *\r\n         * @returns {int}\r\n         */\r\n        function totalSteps()\r\n        {\r\n            return vm.forms.length;\r\n        }\r\n\r\n        /**\r\n         * Is first step?\r\n         *\r\n         * @returns {boolean}\r\n         */\r\n        function isFirstStep()\r\n        {\r\n            return vm.selectedIndex === 0;\r\n        }\r\n\r\n        /**\r\n         * Is last step?\r\n         *\r\n         * @returns {boolean}\r\n         */\r\n        function isLastStep()\r\n        {\r\n            return vm.selectedIndex === totalSteps() - 1;\r\n        }\r\n\r\n        /**\r\n         * Is current step invalid?\r\n         *\r\n         * @returns {boolean}\r\n         */\r\n        function currentStepInvalid()\r\n        {\r\n            return angular.isDefined(vm.forms[vm.selectedIndex]) && vm.forms[vm.selectedIndex].$invalid;\r\n        }\r\n\r\n        /**\r\n         * Is previous step invalid?\r\n         *\r\n         * @returns {boolean}\r\n         */\r\n        function previousStepInvalid()\r\n        {\r\n            return vm.selectedIndex > 0 && angular.isDefined(vm.forms[vm.selectedIndex - 1]) && vm.forms[vm.selectedIndex - 1].$invalid;\r\n        }\r\n\r\n        /**\r\n         * Check if there is any incomplete forms\r\n         *\r\n         * @returns {boolean}\r\n         */\r\n        function formsIncomplete()\r\n        {\r\n            for ( var x = 0; x < vm.forms.length; x++ )\r\n            {\r\n                if ( vm.forms[x].$invalid )\r\n                {\r\n                    return true;\r\n                }\r\n            }\r\n\r\n            return false;\r\n        }\r\n\r\n        /**\r\n         * Reset form\r\n         */\r\n        function resetForm()\r\n        {\r\n            // Go back to the first step\r\n            vm.selectedIndex = 0;\r\n\r\n            // Make sure all the forms are back in the $pristine & $untouched status\r\n            for ( var x = 0; x < vm.forms.length; x++ )\r\n            {\r\n                vm.forms[x].$setPristine();\r\n                vm.forms[x].$setUntouched();\r\n            }\r\n        }\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msFormWizardDirective()\r\n    {\r\n        return {\r\n            restrict  : 'E',\r\n            scope     : true,\r\n            controller: 'MsFormWizardController as msWizard',\r\n            compile   : function (tElement)\r\n            {\r\n                tElement.addClass('ms-form-wizard');\r\n\r\n                return function postLink()\r\n                {\r\n\r\n                };\r\n            }\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msFormWizardFormDirective()\r\n    {\r\n        return {\r\n            restrict: 'A',\r\n            require : ['form', '^msFormWizard'],\r\n            compile : function (tElement)\r\n            {\r\n                tElement.addClass('ms-form-wizard-form');\r\n\r\n                return function postLink(scope, iElement, iAttrs, ctrls)\r\n                {\r\n                    var formCtrl = ctrls[0],\r\n                        MsFormWizardCtrl = ctrls[1];\r\n\r\n                    MsFormWizardCtrl.registerForm(formCtrl);\r\n                };\r\n            }\r\n        };\r\n    }\r\n\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .provider('msDatepickerFixConfig', msDatepickerFixConfigProvider)\r\n        .directive('msDatepickerFix', msDatepickerFix);\r\n\r\n    /** @ngInject */\r\n    function msDatepickerFixConfigProvider()\r\n    {\r\n\r\n        // Default configuration\r\n        var defaultConfiguration = {\r\n            // To view\r\n            formatter: function (val)\r\n            {\r\n                if ( !val )\r\n                {\r\n                    return '';\r\n                }\r\n\r\n                return val === '' ? val : new Date(val);\r\n            },\r\n            // To model\r\n            parser   : function (val)\r\n            {\r\n                if ( !val )\r\n                {\r\n                    return '';\r\n                }\r\n                var offset = moment(val).utcOffset();\r\n                var date = new Date(moment(val).add(offset, 'm'));\r\n                return date;\r\n            }\r\n        };\r\n\r\n        // Methods\r\n        this.config = config;\r\n\r\n        //////////\r\n\r\n        /**\r\n         * Extend default configuration with the given one\r\n         *\r\n         * @param configuration\r\n         */\r\n        function config(configuration)\r\n        {\r\n            defaultConfiguration = angular.extend({}, defaultConfiguration, configuration);\r\n        }\r\n\r\n        /**\r\n         * Service\r\n         */\r\n        this.$get = function ()\r\n        {\r\n            return defaultConfiguration;\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msDatepickerFix(msDatepickerFixConfig)\r\n    {\r\n        return {\r\n            require: 'ngModel',\r\n            link   : function (scope, elem, attrs, ngModel)\r\n            {\r\n                ngModel.$formatters.unshift(msDatepickerFixConfig.formatter); // to view\r\n                ngModel.$parsers.unshift(msDatepickerFixConfig.parser); // to model\r\n            }\r\n        };\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .directive('msCard', msCardDirective);\r\n\r\n    /** @ngInject */\r\n    function msCardDirective()\r\n    {\r\n        return {\r\n            restrict: 'E',\r\n            scope   : {\r\n                templatePath: '=template',\r\n                card        : '=ngModel',\r\n                vm          : '=viewModel'\r\n            },\r\n            template: '<div class=\"ms-card-content-wrapper\" ng-include=\"templatePath\" onload=\"cardTemplateLoaded()\"></div>',\r\n            compile : function (tElement)\r\n            {\r\n                // Add class\r\n                tElement.addClass('ms-card');\r\n\r\n                return function postLink(scope, iElement)\r\n                {\r\n                    // Methods\r\n                    scope.cardTemplateLoaded = cardTemplateLoaded;\r\n\r\n                    //////////\r\n\r\n                    /**\r\n                     * Emit cardTemplateLoaded event\r\n                     */\r\n                    function cardTemplateLoaded()\r\n                    {\r\n                        scope.$emit('msCard::cardTemplateLoaded', iElement);\r\n                    }\r\n                };\r\n            }\r\n        };\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.statement', [])\r\n        .config(config);\r\n\r\n    /** @ngInject */\r\n    function config($stateProvider, $translatePartialLoaderProvider, msNavigationServiceProvider)\r\n    {\r\n        // State\r\n        $stateProvider.state('app.statement', {\r\n            url      : '/batch-process/:token',\r\n            views    : {\r\n                'main@': {\r\n                    templateUrl: 'app/core/layouts/content-only.html',\r\n                    controller : 'MainController as vm'\r\n                },\r\n                'content@app.statement': {\r\n                    templateUrl: 'app/main/statement/statement.html',\r\n                    controller : 'StatementController as vm'\r\n                }\r\n            },\r\n            bodyClass: 'login-v2'\r\n        });\r\n       \r\n    }\r\n\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n    .module('app.statement')\r\n    .controller('StatementController', StatementController)\r\n\t.directive('numberFormatter', ['$filter', function ($filter) {\r\n          var decimalCases = 2,\r\n              whatToSet = function (str) {\r\n                /**\r\n                 * TODO:\r\n                 * don't allow any non digits character, except decimal seperator character\r\n                 */\r\n                 \r\n                return str ? Number(str) : '';\r\n              },\r\n              whatToShow = function (num) {\r\n                \r\n                return $filter('number')(num, decimalCases);\r\n              };\r\n\r\n          return {\r\n            restrict: 'A',\r\n            require: 'ngModel',\r\n            link: function (scope, element, attr, ngModel) {\r\n              ngModel.$parsers.push(whatToSet);\r\n              ngModel.$formatters.push(whatToShow);\r\n\r\n              element.bind('blur', function() {\r\n                /*if(ngModel.$modelValue > attr.max){\r\n                  element.val(whatToShow(attr.max))  \r\n                }else{\r\n                   element.val(whatToShow(ngModel.$modelValue))  \r\n                }*/\r\n                element.val(whatToShow(ngModel.$modelValue))  \r\n                \r\n              });\r\n              element.bind('focus', function () {\r\n                element.val(ngModel.$modelValue);\r\n              });\r\n            }\r\n          };\r\n        }])\r\n\t.directive\r\n          ( 'creditCardType'\r\n          , function(){\r\n              var directive =\r\n                { require: 'ngModel'\r\n                , link: function(scope, elm, attrs, ctrl){\r\n                    ctrl.$parsers.unshift(function(value){\r\n                      scope.ccinfo.type =\r\n                        (/^5[1-5]/.test(value)) ? \"master\"\r\n                        : (/^4/.test(value)) ? \"visa\"\r\n                        : (/^3[47]/.test(value)) ? 'amex'\r\n                        : (/^6011|65|64[4-9]|622(1(2[6-9]|[3-9]\\d)|[2-8]\\d{2}|9([01]\\d|2[0-5]))/.test(value)) ? 'discover'\r\n                        : undefined\r\n                      ctrl.$setValidity('invalid',!!scope.ccinfo.type)\r\n                      return value\r\n                    })\r\n                  }\r\n                }\r\n              return directive\r\n              }\r\n        );\r\n\r\n    /** @ngInject */\r\n    function StatementController(api,$scope,Clique,$location,$rootScope,$cookieStore,$http,$window,$stateParams, $mdDialog,InvoiceModel,$cookies,$state,$timeout,$filter)\r\n    {\r\n      var vm=this;\r\n      $scope.showCCDiv  = true;\r\n\t  $scope.showACHDiv = false;\r\n\t  $scope.ccinfo = {type:undefined};\r\n\t  $scope.amountToPaid= 0;\r\n\t  $scope.current= 0;\r\n\t  $scope.TotalAmount= 0;\r\n\t  $scope.isValidate  = false;\r\n\t  $scope.IsSubmit = true;\r\n\t  vm.isAchEnable = false;\r\n\t  \t\t\r\n\t  $scope.showstep2 = false;\r\n\t  $scope.showstep1 = true;\r\n\t  vm.query = \"\";\r\n\t\t\r\n\t  $scope.cardlogos=[\r\n            {id:'visa',title:'Visa',src:\"visa.png\"},\r\n            {id:'master',title:'Master',src:\"mastercard.png\"},\r\n            {id:'discover',title:'Discover',src:\"discover.png\"},\r\n            {id:'amex',title:'Amex',src:\"amex.png\"},\r\n        ];\r\n\t  var token  \t\t= $stateParams.token;\r\n\t  if($stateParams.id && $stateParams.token && $stateParams.app_id){\r\n\t\t\t//vm.invoice_id=$stateParams.id;\r\n\t\t\tvm.authorization = token;\r\n\t\t\tvm.appId=16;\r\n\t\t}else{\r\n\t\t\t//vm.invoice_id=0;\r\n\t\t\tvm.authorization = token;\r\n\t\t\tvm.appId=16;\r\n\t\t}\r\n\t\t\r\n\t \t$http.defaults.headers.common['x-csrftoken']= $cookies.get(\"csrftoken\");\r\n\t\t\r\n\t\t$http.defaults.headers.common['APPID'] \t\t= vm.appId;\r\n\t\t$http.defaults.headers.common['INVOICETOKEN']= token;\r\n\t\t\r\n\t\t//$http.defaults.headers.common['APP']= 'CUSTOMERPORTAL';\r\n\t\tlocalStorage.setItem('app_id', vm.appId);\t\r\n\t\tvm.colorCode = ['light-green','blue','orange','teal','amber','purple','deep-orange'];\r\n\t\t\r\n\t  \r\n\t  \r\n\t  getInvoices();\r\n\t  function getInvoices() {\r\n\t\t    vm.promise = InvoiceModel.GetInvoiceDetails();\r\n\t\t\t$scope.invoice = {ChargeAmount:[]};\r\n\t\t\tvm.promise.then(function(response) {\r\n\t\t\t\tif (response.statuscode == 0) {\r\n\t\t\t\t\tvar data = response.data;\r\n\t\t\t\t\t//vm.products = response.data;\r\n\t\t\t\t\tvm.InvoiceData = data.invoice;\r\n\t\t\t\t\tvm.countColor = 0 ;\r\n\t\t\t\t\tangular.forEach(vm.InvoiceData, function(value, key) {\r\n\t\t\t\t\t//if(value.IsPaid==0){\r\n\t\t\t\t\t\t$scope.amountToPaid = $scope.amountToPaid + value.Balance;\r\n\t\t\t\t\t\t//value.Balance = $filter('number')(value.Balance, decimalCases)\r\n\t\t\t\t\t\t$scope.invoice.ChargeAmount.push(value.Balance);\r\n\t\t\t\t\t\tvalue.color = vm.colorCode[vm.countColor];\r\n\t\t\t\t\t\tvm.countColor++;\r\n\t\t\t\t\t\tif(vm.countColor==7)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tvm.countColor = 0;\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//console.log()\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvm.customerName = value.CustomerRef.name;\r\n\t\t\t\t\t\tvm.customerID \t= value.CustomerRef.value;\r\n\t\t\t\t\t\tvm.customerEmail = '';\r\n\t\t\t\t\t//}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tconsole.log(vm.InvoiceData);\r\n\t\t\t\t\t $scope.TotalAmount=$scope.amountToPaid;\r\n\t\t\t\t\t\r\n\t\t\t\t\t$timeout(function(){\r\n\t\t\t\t\t\t$scope.contentPage=true;\r\n\t\t\t\t\t\t$(document).ready(function(){\r\n\t\t\t\t\t\t\t\tvar i =0;\r\n\t\t\t\t\t\t\t\tangular.forEach(vm.InvoiceData, function(value, key) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t   \r\n\t\t\t\t\t\t\t\t\t$(\"#transamount\"+i).focus();\r\n\t\t\t\t\t\t\t\t\t$(\"#transamount\"+i).click();\r\n\t\t\t\t\t\t\t\t\ti++;\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\t\r\n\t\t\t\t\t},1500);\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t} else {\r\n\t\t\t\t\tClique.showToast(response.statusmessage, 'bottom right', 'error');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t  ////////////////////////////////////////////////////////\r\n\t  /////// Check ACH Enable or NOT ///////////////////////\r\n\t\tvm.checkAchEnable = localStorage.getItem('is_ach_enable');\r\n\t\t//console.log(vm.checkAchEnable);\r\n\t\tif((vm.checkAchEnable != null) && (vm.checkAchEnable!= undefined) && (vm.checkAchEnable != ''))\r\n\t\t{\r\n\t\t\tvm.isAchEnable = vm.checkAchEnable;\t\r\n\t\t}\t\r\n\t  \t\r\n\t\t\r\n\t  ////////////////////////////////////////////////////////\r\n\t  /////////////// Process Through CreditCard ////////////\r\n\t  $scope.submit = function() {\r\n\t\t  $scope.ButtonDisable=true;\t\r\n          $scope.showProgress=true;\r\n\t\t  $scope.cardconnectError = false;\r\n\t\t  $scope.cardconnectSuccess = false;\r\n\t\t  \r\n\t\t  var cardholder \t   = vm.form.cardholder;\r\n\t\t  var creditCardNumber = vm.form.cardnumber;\r\n\t\t  var expMonth \t\t   = vm.form.months;\r\n\t\t  var expYears         = vm.form.years;\r\n\t\t  var cc2 \t\t\t   = vm.form.cc2;\r\n\t\t  var streetaddress\t   = vm.form.streetaddress;\r\n\t\t  var zipcode\t\t   = vm.form.zipcode;\r\n\t\t  //console.log(vm.form.terms);\r\n\t\t  //var Balamount\t\t   = vm.invoice.Balance;\r\n\t\t  var Balamount\t\t   = $scope.amountToPaid;\r\n\t\t  Balamount\t\t\t   =parseFloat(Balamount).toFixed(2);\r\n\t\t  var Line=[];\r\n\t\t  var docnumber = []\r\n\t\t  var invoiceCount = 0;\r\n\t\t  var amountToCharge = 0;\r\n\t\t  //$scope.invoice.ChargeAmount\r\n\t\t  angular.forEach(vm.InvoiceData, function(value, key) {\r\n\t\t\t\t\tamountToCharge = $scope.invoice.ChargeAmount[invoiceCount];\r\n\t\t\t\t\tif(amountToCharge!=null && amountToCharge!=''){\r\n\t\t\t\t\t\tamountToCharge = parseFloat(amountToCharge).toFixed(2);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tamountToCharge = \"0.00\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar LineItem =\t {\r\n\t\t\t\t\t\t  \"Amount\": amountToCharge,\r\n\t\t\t\t\t\t  \"LinkedTxn\": [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t  \"TxnId\": value.Id,\r\n\t\t\t\t\t\t\t  \"TxnLineId\": 0,\r\n\t\t\t\t\t\t\t  \"TxnType\": \"Invoice\"\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t  ]\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t Line.push(LineItem);\r\n\t\t\t\t\t docnumber.push(value.DocNumber);\r\n\t\t\t\t\t invoiceCount++;\r\n\t\t   });\r\n\t\t  \r\n\t\t  var cardType   = angular.element(document.querySelector('#cardtype')).val();\r\n\t\t  var paymentObj = {\r\n\t\t\t\t\t\t\t  \"CustomerRef\": {\r\n\t\t\t\t\t\t\t\t\"value\": vm.customerID,\r\n\t\t\t\t\t\t\t\t\"name\": vm.customerName\r\n\t\t\t\t\t\t\t  },\r\n\t\t\t\t\t\t\t  \"Line\": Line,\r\n\t\t\t\t\t\t\t  \"TotalAmt\": Balamount,\r\n\t\t\t\t\t\t\t  \"TransType\": \"sale\",\r\n\t\t\t\t\t\t\t  \"CardHolder\": cardholder,\r\n\t\t\t\t\t\t\t  \"CreditCardNumber\": creditCardNumber,\r\n\t\t\t\t\t\t\t  \"Month\": expMonth,\r\n\t\t\t\t\t\t\t  \"Exp\": expYears,\r\n\t\t\t\t\t\t\t  \"CCV2\": cc2,\r\n\t\t\t\t\t\t\t  \"CustomerEmail\": vm.customerEmail,\r\n\t\t\t\t\t\t\t  \"DocNumber\": docnumber,\r\n\t\t\t\t\t\t\t  \"Type\": \"invoice\"\r\n\t\t\t\t\t\t};\r\n\t\t//alert(vm.docNumber);\t\t\t\t\r\n\t\t//console.log(paymentObj);\r\n\t\t//console.log(JSON.stringify(paymentObj));\r\n\t\t//return false;\r\n\t\t\r\n\t\t$scope.promise = InvoiceModel.CardConnectPaymentPartially(paymentObj);\r\n\t\t$scope.promise.then(function(response) {\r\n\t\t\t\t\r\n\t\t\t\t//return false;\r\n\t\t\t\t$scope.ButtonDisable=false;\r\n\t\t\t\tif(response.statuscode == 0){\r\n\t\t\t\t\t$scope.showProgress=false;\r\n\t\t\t\t\t$scope.cardconnectSuccess = true;\r\n\t\t\t\t\t$scope.cardconnectMsg = response.statusmessage;\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tif($scope.feedbackEnable==true)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tshowPrerenderedDialog();\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tvm.form = {};\r\n\t\t\t\t\t$scope.checkoutForm.$setUntouched();\r\n\t\t\t\t\t$scope.checkoutForm.$setPristine();\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\t$scope.showProgress=false;\t\r\n\t\t\t\t\t$scope.cardconnectError = true;\r\n\t\t\t\t\t$scope.cardconnectMsg = response.statusmessage;\r\n\t\t\t\t}\r\n\t\t\t});\t\r\n\r\n    };\t\r\n\t  \r\n\t   ////////////End  Process Through CreditCard ////////////\r\n\t  ////////////////////////////////////////////////////////\r\n\t  \r\n\t  \r\n\t  \r\n\t  ////////////////////////////////////////////////////////\r\n\t  /////////////// Process Through ACH ///////////////////\r\n\t  $scope.submitACH = function() {\r\n\t\t  $scope.ButtonDisable=true;\t\r\n          $scope.showProgress=true;\r\n\t\t  $scope.cardconnectError = false;\r\n\t\t  $scope.cardconnectSuccess = false;\r\n\t\t  \r\n\t\t  var account \t   \t= vm.form.account;\r\n\t\t  var name \t\t\t= vm.form.name;\r\n\t\t  var bankaba \t\t= vm.form.bankaba;\r\n\t\t  //console.log(vm.form.terms);\r\n\t\t  //var Balamount\t\t   = vm.invoice.Balance;\r\n\t\t  var Balamount\t\t=$scope.amountToPaid;;\r\n\t\t  Balamount\t\t\t=parseFloat(Balamount).toFixed(2);\r\n\t\t  \r\n\t\t  var Line=[];\r\n\t\t  var docnumber = []\r\n\t\t  var invoiceCount = 0;\r\n\t\t  var amountToCharge = 0;\r\n\t\t  //$scope.invoice.ChargeAmount\r\n\t\t  angular.forEach(vm.InvoiceData, function(value, key) {\r\n\t\t\t\t\tamountToCharge = $scope.invoice.ChargeAmount[invoiceCount];\r\n\t\t\t\t\tif(amountToCharge!=null && amountToCharge!=''){\r\n\t\t\t\t\t\tamountToCharge = parseFloat(amountToCharge).toFixed(2);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tamountToCharge = \"0.00\";\r\n\t\t\t\t\t}\t\t\t\t\t\t\t   \r\n\t\t\t\t\tvar LineItem =\t {\r\n\t\t\t\t\t\t  \"Amount\": amountToCharge,\r\n\t\t\t\t\t\t  \"LinkedTxn\": [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t  \"TxnId\": value.Id,\r\n\t\t\t\t\t\t\t  \"TxnLineId\": 0,\r\n\t\t\t\t\t\t\t  \"TxnType\": \"Invoice\"\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t  ]\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t Line.push(LineItem);\r\n\t\t\t\t\t docnumber.push(value.DocNumber);\r\n\t\t\t\t\t invoiceCount++;\r\n\t\t   });\r\n\t\t  var paymentObj = {\r\n\t\t\t\t\t\t\t  \"CustomerRef\": {\r\n\t\t\t\t\t\t\t\t\"value\": vm.customerID,\r\n\t\t\t\t\t\t\t\t\"name\": vm.customerName\r\n\t\t\t\t\t\t\t  },\r\n\t\t\t\t\t\t\t  \"Line\": Line,\r\n\t\t\t\t\t\t\t  \"TotalAmt\": Balamount,\r\n\t\t\t\t\t\t\t  \"TransType\": \"ach_sale\",\r\n\t\t\t\t\t\t\t  \"account\": account,\r\n\t\t\t\t\t\t\t  \"name\": name,\r\n\t\t\t\t\t\t\t  \"bankaba\": bankaba,\r\n\t\t\t\t\t\t\t  \"CustomerEmail\": vm.customerEmail,\r\n\t\t\t\t\t\t\t  \"DocNumber\": docnumber,\r\n\t\t\t\t\t\t\t  \"Type\": \"invoice\"\r\n\t\t\t\t\t\t};\r\n\t\t\r\n\t\t\r\n\t\t$scope.promise = InvoiceModel.CardConnectPaymentPartially(paymentObj);\r\n\t\t$scope.promise.then(function(response) {\r\n\t\t\t\t\r\n\t\t\t\t//return false;\r\n\t\t\t\t$scope.ButtonDisable=false;\r\n\t\t\t\tif(response.statuscode == 0){\r\n\t\t\t\t\t$scope.showProgress=false;\r\n\t\t\t\t\t$scope.cardconnectSuccess = true;\r\n\t\t\t\t\t$scope.cardconnectMsg = response.statusmessage;\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tif($scope.feedbackEnable==true)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tshowPrerenderedDialog();\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t//Clique.showToast(response.statusmessage,'bottom right','success');\r\n\t\t\t\t\tvm.form = {};\r\n\t\t\t\t\t$scope.ACHForm.$setUntouched();\r\n\t\t\t\t\t$scope.ACHForm.$setPristine();\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\t$scope.showProgress=false;\t\r\n\t\t\t\t\t$scope.cardconnectError = true;\r\n\t\t\t\t\t$scope.cardconnectMsg = response.statusmessage;\r\n\t\t\t\t\t//Clique.showToast(response.statusmessage,'bottom right','error');\r\n\t\t\t\t}\r\n\t\t\t});\t\r\n         \r\n    };\r\n\t  \r\n\t   ////////////End  Process Through ACH //////////////////\r\n\t  ////////////////////////////////////////////////////////\r\n\t  \r\n\t  \r\n\t   \r\n\t    $scope.calculateTotalAmount = function() { \r\n\t\t\t//alert('1');\r\n\t\t\t//console.log($scope.invoice.ChargeAmount);\r\n\t\t\t$scope.amountToPaid = 0;\r\n\t\t\t$scope.isValidate  = false;\r\n\t\t\tangular.forEach($scope.invoice.ChargeAmount, function(value, key) {\r\n\t\t\tif(value!=''){\t\t\r\n\t\t\t\t$scope.amountToPaid = parseFloat($scope.amountToPaid) + parseFloat(value);\r\n\t\t\t}\r\n\t\t\tif(value==null){\r\n\t\t\t\t $scope.isValidate  = true;\r\n\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t});\r\n\t\t\tif($scope.amountToPaid > $scope.TotalAmount){\r\n\t\t\t $scope.isValidate  = true;\r\n\t\t\t}\r\n\t\t};\r\n\t\t\r\n\t\t$scope.changePaymentMode = function(value) {\r\n\t\tif(value==true)\r\n\t\t{\r\n\t\t\t$scope.showCCDiv  = false;\r\n\t\t\t$scope.showACHDiv  = true;\t\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t$scope.showCCDiv  = true;\r\n\t\t\t$scope.showACHDiv  = false;\t\r\n\t\t}\r\n\t};\r\n\t \r\n\t \t/////////////////////////////////////////\r\n\t\t////////////// Year Drop Down //////////\r\n\t\tvm.year = new Date().getFullYear();\r\n\t\tvm.range = [];\r\n\t\tvm.range.push(vm.year);\r\n\t\tfor(var i=1;i<15;i++) {\r\n  \t\t\tvm.range.push(vm.year + i);\r\n\t\t}\r\n\t\tvm.years = vm.range; \r\n\t\t////////////////////////////////////////////\r\n\t\t///////////// Month Dropdown //////////////\r\n\t\tvm.month = [];\r\n\t\tfor(var i=1;i<13;i++) {\r\n\t\t\tif(i <= 9)\r\n\t\t\t{\r\n  \t\t\t\tvm.month.push(\"0\"+i);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tvm.month.push(i);\r\n\t\t\t}\r\n\t\t}\r\n\t\tvm.months = vm.month;\r\n\t\t\r\n\t////////////////////////////////////////////\r\n\t/////////// Dialoge Function //////////////\r\n\t$scope.rating = [];\r\n\tfor(var i=1;i<=5;i++) {\r\n\t\t$scope.rating.push(i);\r\n\t}\r\n\t$scope.feedback;\r\n\tfunction showPrerenderedDialog() {\r\n\t\t$mdDialog.show({\r\n\t\t  contentElement: '#myDialog',\r\n\t\t  parent: angular.element(document.body),\r\n\t\t  //targetEvent: ev,\r\n\t\t  clickOutsideToClose: true\r\n\t\t});\r\n  \t}\r\n\t$scope.showcommentbox = function(value) {\r\n    \t$scope.showbox = true;\r\n\t};\r\n\r\n\t$scope.cancel = function() {\r\n      $mdDialog.cancel();\r\n    }\r\n    $scope.submitfeedback = function() {\r\n          $scope.showfeedbackProgress=true;\r\n\t\t  var feedback \t   \t   = $scope.feedback;\r\n\t\t  var feedbackcomment  = $scope.feedbackcomment;\r\n\t\t  var feedbackObj={\r\n\t\t\t\t\t\tfeedbackinfo:{\r\n\t\t\t\t\t\t\trate:feedback,\r\n\t\t\t\t\t\t\tcomment:feedbackcomment,\r\n\t\t\t\t\t\t\tinvoice_id:vm.invoice_id,\r\n\t\t\t\t\t\t\tpaymentprocessor:vm.paymntprocessor,\r\n\t\t\t\t\t\t\tcustomer_id:vm.customerID\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t};\r\n\t\t//console.log(feedbackObj);\r\n\t\t//console.log(JSON.stringify(feedbackObj));\r\n\t\t//return false;\r\n\t\t\r\n\t\t$scope.promise = InvoiceModel.customerFeedback(feedbackObj);\r\n\t\t$scope.promise.then(function(response) {\r\n\t\t\t\t\r\n\t\t\t\t//return false;\r\n\t\t\t\tif(response.statuscode == 0){\r\n\t\t\t\t\t$scope.showfeedbackProgress=false;\r\n\t\t\t\t\t$scope.showstep2 = true;\r\n\t\t\t\t\t$scope.showstep1 = false;\r\n\t\t\t\t\t$scope.step1='grey';\r\n\t\t\t\t\t$scope.step2='cyan'\r\n\t\t\t\t\tClique.showToast(response.statusmessage,'bottom right','success');\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\t$scope.showfeedbackProgress=false;\t\r\n\t\t\t\t\tClique.showToast(response.statusmessage,'bottom right','error');\r\n\t\t\t\t}\r\n\t\t\t});\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t//console.log(JSON.stringify(loginObj));\r\n\t\t//return false;\r\n\t\t $scope.copyToClipboard = function(element) {\r\n\t\t\t \t\r\n\t\t\t \tvar $temp = $('<input>');\r\n\t\t\t\t$('body').append($temp);\r\n\t\t\t\t$temp.val($(element).text()).select();\r\n\t\t\t\tdocument.execCommand('copy');\r\n\t\t\t\t$temp.remove();\r\n\t\t\t\tClique.showToast(\"Feedback Copied\",'bottom right','info');\r\n\t\t\t\t/*$('#copy').html('<i class=\"fa fa-check\"></i> Copied!');\r\n\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t$('#copy').html('<i class=\"fa fa-copy\"></i> Copy');\r\n\t\t\t\t}, 1000);*/\r\n\t\t\t \r\n\t\t };\r\n         \r\n    };\r\n\t\r\n\t$scope.invoicePreview = function(ev,id) {\r\n\t\t$mdDialog.show({\r\n          locals:{Invoice_id: id},\t\t\t\t\t   \r\n\t\t  contentElement: '#invoicePreview',\r\n\t\t  parent: angular.element(document.body),\r\n\t\t  controller: InvoicePreviewController,\r\n\t\t  //targetEvent: ev,\r\n\t\t  clickOutsideToClose: true\r\n\t\t});\r\n  \t};\r\n\t$scope.signup = function() {\r\n\t\t$state.go('app.signup');\r\n\t};\r\n\t  \r\n    }\r\n\tfunction InvoicePreviewController(api,$scope,Clique,$location,$rootScope,$cookieStore,$http,$window,$stateParams, $mdDialog,InvoiceModel,$cookies,$state,$timeout,Invoice_id)\r\n\t{\r\n\t  var vm=this;\r\n\t  $rootScope.showPreviewProgress = true;\r\n\t  $rootScope.showPreview=false; \r\n\t  $rootScope.invoice_id = Invoice_id;\r\n\t  //console.log($scope.showPreview);\r\n\t  $scope.promise = InvoiceModel.GetInvoiceTemplate($rootScope.invoice_id);\r\n      $scope.promise.then(function(response) {\r\n\t\t\t//$scope.template = response;\r\n\t\t\tconsole.log(response);\r\n\t\t\t$(\"#invoice_detail\").html('');\r\n            $(\"#invoice_detail\").append(response);\r\n\t\t\t$timeout(function(){\r\n\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t$rootScope.showPreviewProgress=false;\r\n\t\t\t\t\t\t\t$rootScope.showPreview = true;\r\n\t\t\t\t\t\t\t //alert($scope.showPreview);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t},2000);\r\n\t\t\t\r\n\t\t\t\r\n        });\r\n\t  \r\n\t  \r\n\t  \r\n\t}\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.invoice', [])\r\n        .config(config);\r\n\r\n    /** @ngInject */\r\n    function config($stateProvider, $translatePartialLoaderProvider, msApiProvider, msNavigationServiceProvider)\r\n    {\r\n        // State\r\n        $stateProvider\r\n            .state('app.invoice', {\r\n                url    : '/invoice/:token',\r\n                views  : {\r\n                    'content@app': {\r\n                        templateUrl: 'app/main/invoice_view/invoice.html',\r\n                        controller : 'InvoiceController as vm'\r\n                    }\r\n                },\r\n                resolve: {\r\n                    Invoice: function (msApi)\r\n                    {\r\n                        return msApi.resolve('invoice@get');\r\n                    }\r\n                }\r\n            })\r\n\t\t.state('app.success', {\r\n                url    : '/success/:id',\r\n                views  : {\r\n                    'content@app': {\r\n                        templateUrl: 'app/main/invoice_view/thankyou.html',\r\n                        controller : 'SuccessController as vm'\r\n                    }\r\n                },\r\n                resolve: {\r\n                    Invoice: function (msApi)\r\n                    {\r\n                        return msApi.resolve('invoice@get');\r\n                    }\r\n                }\r\n            });\t\r\n\r\n        // Translation\r\n        $translatePartialLoaderProvider.addPart('app/main/invoice_view');\r\n\r\n        // Api\r\n        msApiProvider.register('invoice', ['app/data/invoice/invoice.json']);\r\n\r\n        // Navigation\r\n       /*msNavigationServiceProvider.saveItem('fuse', {\r\n            title : 'Invoice',\r\n            group : true,\r\n            weight: 1\r\n        });\r\n\r\n        msNavigationServiceProvider.saveItem('fuse.sample', {\r\n            title    : 'Invoice',\r\n            icon     : 'icon-tile-four',\r\n            state    : 'app.invoice',\r\n            stateParams: {\r\n                'param1': 'page'\r\n             },\r\n            translate: 'SAMPLE.SAMPLE_NAV',\r\n            weight   : 1\r\n        });*/\r\n    }\r\n})();\n(function () {\r\n  'use strict';\r\n  angular\r\n    .module('app.invoice')\r\n    .controller('InvoiceController', InvoiceController)\r\n    .controller('SuccessController', SuccessController);\r\n\r\n  /** @ngInject */\r\n  function InvoiceController(Invoice, $scope, api, Clique, InvoiceModel, $http, $stateParams, $sce, $cookies, $state, $rootScope) {\r\n    var vm = this;\r\n    //$scope.name=\"Asim Bhai\";\r\n    var appConfig = Clique.configApp();\r\n    $scope.appName = appConfig.appName;\r\n    $scope.appLogo = appConfig.appLogo;\r\n\r\n    vm.showProgress = true;\r\n    vm.paypal_form = false;\r\n    vm.ventiv_form = false;\r\n    vm.showContent = false;\r\n    $scope.template;\r\n    vm.invoice;\r\n    $scope.total = 0;\r\n\r\n    var token = $stateParams.token;\r\n    try {\r\n      JSON.parse(atob($stateParams.token));\r\n      isBase64()\r\n    } catch (e) {\r\n      isNotBase64()\r\n    }\r\n\r\n    function isBase64() {\r\n      // var token = $stateParams.token;\r\n      //console.log(token);\r\n      //return false;\r\n      var decodedString = JSON.parse(atob($stateParams.token));\r\n      $stateParams.id = decodedString.invoice_id;\r\n      $stateParams.token = decodedString.token;\r\n      $stateParams.app_id = decodedString.app_id;\r\n      var template_color = decodedString.template_color;\r\n      var template_id = decodedString.template_id;\r\n      console.log(template_color)\r\n      console.log(template_id)\r\n\r\n      vm.getTotalAmount = getTotalAmount;\r\n      // vm.paymentProcessing = paymentProcessing;\r\n      console.log($stateParams.id)\r\n      if ($stateParams.id && $stateParams.token) {\r\n        vm.invoice_id = $stateParams.id;\r\n        vm.authorization = $stateParams.token;\r\n        vm.appId = $stateParams.app_id;\r\n      } else {\r\n        vm.invoice_id = 0;\r\n        vm.authorization = $stateParams.token;\r\n        vm.appId = $stateParams.app_id;\r\n      }\r\n      $http.defaults.headers.common['x-csrftoken'] = $cookies.get(\"csrftoken\");\r\n      $http.defaults.headers.common['APPID'] = vm.appId;\r\n      //$http.defaults.headers.common['INVOICETOKEN']= token;\r\n\r\n      $http.defaults.headers.common['APP'] = 'CUSTOMERPORTAL';\r\n\r\n      // $http.defaults.headers.common['channelid'] =123456\r\n      // $http.defaults.headers.common['channel_id'] = 123456\r\n\r\n      sessionStorage.setItem('app_id', vm.appId);\r\n      localStorage.setItem('app_id', vm.appId);\r\n\r\n      sessionStorage.setItem('INVOICETOKEN', token);\r\n      localStorage.setItem('INVOICETOKEN', token);\r\n      var InvoiceId = vm.invoice_id;\r\n      $scope.promise = InvoiceModel.GetInvoiceTemplateBase64(InvoiceId, template_id, template_color);\r\n      $scope.promise.then(function (response) {\r\n        //alert(orgtoken);\r\n\r\n        GetInvoiceDetailBase64();\r\n\r\n        //$scope.template = response;\r\n        $(\"#template\").html('');\r\n        $(\"#template\").append(response);\r\n\r\n\r\n      });\r\n\r\n    }\r\n\r\n    function GetInvoiceDetailBase64() {\r\n      //$http.defaults.headers.common['DEBUG']= \"wdsdsdssd\";\r\n      $scope.promise = InvoiceModel.GetInvoiceDetailsBase64(token);\r\n      $scope.promise.then(function (response) {\r\n\r\n        //return false;\r\n        if (response.statuscode == 0) {\r\n          var data = response.data;\r\n          vm.invoice = data.invoice;\r\n          vm.invoiceLength = vm.invoice.length;\r\n          vm.company = data.company;\r\n          vm.paymentConfiguration = data.payment.paymentconfiguration\r\n          var customerName = vm.invoice[0].CustomerRef.name;\r\n          var customerID = vm.invoice[0].CustomerRef.value;\r\n          var docNumber = vm.invoice[0].DocNumber;\r\n          $rootScope.companyInfo = vm.company;\r\n\r\n          if (vm.paymentConfiguration.hasOwnProperty('supported_methods')) {\r\n            if (vm.paymentConfiguration.supported_methods.hasOwnProperty('ach')) {\r\n              vm.isAchEnable = vm.paymentConfiguration.supported_methods.ach;\r\n              sessionStorage.setItem('is_ach_enable', vm.isAchEnable);\r\n              localStorage.setItem('is_ach_enable', vm.isAchEnable);\r\n            }\r\n          }\r\n\r\n          sessionStorage.setItem('invoice_detail', JSON.stringify(vm.invoice));\r\n          localStorage.setItem('invoice_detail', JSON.stringify(vm.invoice));\r\n\r\n          localStorage.setItem('companyinfo', JSON.stringify($rootScope.companyInfo));\r\n\r\n          vm.showProgress = false;\r\n          vm.showContent = true;\r\n\r\n\r\n\r\n          if (data.payment.paymentprocessor == \"vantiv\") {\r\n            vm.ventivTranURL = data.payment.paymentconfiguration.url;\r\n            vm.sessionId = data.payment.paymentconfiguration.sessionId;\r\n            vm.ventivURL = data.payment.paymentconfiguration.url + \"?TransactionSetupID=\" + vm.sessionId;\r\n            vm.ventiv_form = true;\r\n\r\n          }\r\n\r\n\r\n\r\n          if (data.payment.paymentprocessor == \"paypal\") {\r\n            if (data.payment.paymentconfiguration.mode == \"live\") {\r\n              $scope.paypalURL = $sce.trustAsResourceUrl(\"https://www.paypal.com/cgi-bin/webscr\");\r\n            } else {\r\n              $scope.paypalURL = $sce.trustAsResourceUrl(\"https://www.sandbox.paypal.com/cgi-bin/webscr\");\r\n            }\r\n            vm.paypalCustomVariable = {\r\n              \"token\": vm.authorization,\r\n              \"customer_id\": customerID,\r\n              \"customer_name\": customerName,\r\n              \"app_id\": vm.appId\r\n            };\r\n            vm.paypalCustomVariable = JSON.stringify(vm.paypalCustomVariable);\r\n\r\n            vm.paypalMerchantId = data.payment.paymentconfiguration.merchant_id;\r\n            vm.paypal_form = true;\r\n          }\r\n\r\n          //console.log(orgtoken);\r\n\r\n          if (data.payment.paymentprocessor == \"cardconnect\") {\r\n            var env = localStorage.getItem(\"env\");\r\n            var url = \"\";\r\n            if (env == undefined) {\r\n              if (vm.invoiceLength > 1) {\r\n                url = \"https://apps.clique.center/apps/customerportal/batch-process/\";\r\n              } else {\r\n                url = recentUrl.replace(\"/invoice/\", \"/checkout/\");\r\n                // url = \"https://apps.clique.center/apps/customerportal/checkout/\";\r\n              }\r\n            } else if (env == 'cliquelocal') {\r\n              if (vm.invoiceLength > 1) {\r\n                url = \"https://clique.local:8000/apps/customerportal/batch-process/\";\r\n              } else {\r\n                url = \"http://clique.local:8000/apps/customerportal/checkout/\";\r\n              }\r\n            } else if (env == 'ahsanlocal') {\r\n              if (vm.invoiceLength > 1) {\r\n                url = \"https://ahsan.local:8000/apps/customerportal/batch-process/\";\r\n              } else {\r\n                url = \"http://ahsan.local:8000/apps/customerportal/checkout/\";\r\n              }\r\n            } else if (env == 'localhost') {\r\n              if (vm.invoiceLength > 1) {\r\n                url = \"batch-process/\";\r\n              } else {\r\n                url = \"checkout/\";\r\n              }\r\n            } else {\r\n              if (vm.invoiceLength > 1) {\r\n                url = \"batch-process/\";\r\n              } else {\r\n                url = recentUrl.replace(\"/invoice/\", \"/checkout/\");\r\n                // url = \"checkout/\";\r\n              }\r\n            }\r\n\r\n            if (data.is_already_customer == 1) {\r\n              $state.go('app.login');\r\n              //return false;\r\n            } else {\r\n              window.location.replace(url);\r\n            }\r\n\r\n\r\n            //window.location.replace('https://apps.clique.center/apps/customerportal/checkout/'+orgtoken);\r\n            //window.location.replace('checkout/'+orgtoken);\r\n            //window.location.replace('http://clique.local:8000/apps/customerportal/checkout/'+orgtoken);\r\n            //window.location.replace('https://apps.clique.center/apps/customerportal/checkout/'+orgtoken);\r\n            vm.showProgress = true;\r\n            vm.showContent = false;\r\n\r\n\r\n            /*if(typeof(sessionStorage) != 'undefined')\r\n            {\r\n            sessionStorage.setItem(\"orgtoken\",orgtoken);\r\n            \twindow.location.replace('checkout/'+orgtoken);\r\n            \twindow.location.replace('checkout/');\r\n            \tvm.showProgress=true;\r\n            \tvm.showContent=false;\r\n            }\r\n            else\r\n            {\r\n              alert(\"browser not supported\");\r\n            }*/\r\n            //$state.go('checkout/'+$stateParams.token);\r\n          }\r\n\r\n\r\n          if (vm.invoice.TxnTaxDetail == null) {\r\n            vm.invoiceTxt = \"0.00\"\r\n          } else {\r\n            vm.invoiceTxt = vm.invoice.TxnTaxDetail.TotalTax\r\n          }\r\n\r\n        } else {\r\n          Clique.showToast(response.statusmessage, 'bottom right', 'error');\r\n        }\r\n      });\r\n    }\r\n\r\n    function isNotBase64() {\r\n      // var token = $stateParams.token;\r\n      // var token = $stateParams.token;\r\n      //console.log(token);\r\n      //return false;\r\n      //var decodedString = JSON.parse(atob($stateParams.token));\r\n      //$stateParams.id \t= decodedString.invoice_id;\r\n      //$stateParams.token  = decodedString.token;\r\n      //$stateParams.app_id = decodedString.app_id;\r\n      //var template_color  = decodedString.template_color;\r\n      //var template_id  \t= decodedString.template_id;\r\n      if ($stateParams.id && $stateParams.token) {\r\n        //vm.invoice_id=$stateParams.id;\r\n        vm.authorization = $stateParams.token;\r\n        vm.appId = 16;\r\n      } else {\r\n        //vm.invoice_id=0;\r\n        vm.authorization = $stateParams.token;\r\n        vm.appId = 16;\r\n      }\r\n      $http.defaults.headers.common['x-csrftoken'] = $cookies.get(\"csrftoken\");\r\n      $http.defaults.headers.common['APPID'] = vm.appId;\r\n      $http.defaults.headers.common['INVOICETOKEN'] = token;\r\n\r\n      //$http.defaults.headers.common['APP']= 'CUSTOMERPORTAL';\r\n\r\n      sessionStorage.setItem('app_id', vm.appId);\r\n      localStorage.setItem('app_id', vm.appId);\r\n\r\n      sessionStorage.setItem('INVOICETOKEN', token);\r\n      localStorage.setItem('INVOICETOKEN', token);\r\n\r\n      var InvoiceId = '';\r\n      $scope.promise = InvoiceModel.GetInvoiceTemplate(InvoiceId);\r\n      $scope.promise.then(function (response) {\r\n        //alert(orgtoken);\r\n\r\n        GetInvoiceDetail();\r\n\r\n        //$scope.template = response;\r\n        $(\"#template\").html('');\r\n        $(\"#template\").append(response);\r\n\r\n\r\n      });\r\n    }\r\n    vm.getTotalAmount = getTotalAmount;\r\n    vm.paymentProcessing = paymentProcessing;\r\n\r\n\r\n    function GetInvoiceDetail() {\r\n      //$http.defaults.headers.common['DEBUG']= \"wdsdsdssd\";\r\n      $scope.promise = InvoiceModel.GetInvoiceDetails();\r\n      $scope.promise.then(function (response) {\r\n        //return false;\r\n        if (response.statuscode == 0) {\r\n          var data = response.data;\r\n          vm.invoice = data.invoice;\r\n          vm.invoiceLength = vm.invoice.length;\r\n          vm.company = data.company;\r\n          vm.paymentConfiguration = data.payment.paymentconfiguration\r\n          var customerName = vm.invoice[0].CustomerRef.name;\r\n          var customerID = vm.invoice[0].CustomerRef.value;\r\n          var docNumber = vm.invoice[0].DocNumber;\r\n          $rootScope.companyInfo = vm.company;\r\n\r\n          // if (vm.paymentConfiguration.hasOwnProperty('supported_methods')) {\r\n          //   if (vm.paymentConfiguration.supported_methods.hasOwnProperty('ach')) {\r\n          //     vm.isAchEnable = vm.paymentConfiguration.supported_methods.ach;\r\n          //     sessionStorage.setItem('is_ach_enable', vm.isAchEnable);\r\n          //     localStorage.setItem('is_ach_enable', vm.isAchEnable);\r\n          //   }\r\n          // }\r\n\r\n          sessionStorage.setItem('invoice_detail', JSON.stringify(vm.invoice));\r\n          localStorage.setItem('invoice_detail', JSON.stringify(vm.invoice));\r\n\r\n          localStorage.setItem('companyinfo', JSON.stringify($rootScope.companyInfo));\r\n\r\n          vm.showProgress = false;\r\n          vm.showContent = true;\r\n\r\n\r\n\r\n          if (data.payment.paymentprocessor == \"vantiv\") {\r\n            vm.ventivTranURL = data.payment.paymentconfiguration.url;\r\n            vm.sessionId = data.payment.paymentconfiguration.sessionId;\r\n            vm.ventivURL = data.payment.paymentconfiguration.url + \"?TransactionSetupID=\" + vm.sessionId;\r\n            vm.ventiv_form = true;\r\n\r\n          }\r\n\r\n\r\n\r\n          if (data.payment.paymentprocessor == \"paypal\") {\r\n            if (data.payment.paymentconfiguration.mode == \"live\") {\r\n              $scope.paypalURL = $sce.trustAsResourceUrl(\"https://www.paypal.com/cgi-bin/webscr\");\r\n            } else {\r\n              $scope.paypalURL = $sce.trustAsResourceUrl(\"https://www.sandbox.paypal.com/cgi-bin/webscr\");\r\n            }\r\n            vm.paypalCustomVariable = {\r\n              \"token\": vm.authorization,\r\n              \"customer_id\": customerID,\r\n              \"customer_name\": customerName,\r\n              \"app_id\": vm.appId\r\n            };\r\n            vm.paypalCustomVariable = JSON.stringify(vm.paypalCustomVariable);\r\n\r\n            vm.paypalMerchantId = data.payment.paymentconfiguration.merchant_id;\r\n            vm.paypal_form = true;\r\n          }\r\n\r\n          //console.log(orgtoken);\r\n          // console.log(data.payment, \"data.payment\")\r\n          var recentUrl = window.location.href;\r\n          if (data.payment.paymentprocessor == \"cardconnect\" || data.payment.paymentprocessor == \"nmi\" || data.payment.paymentprocessor == \"bridgepay\") {\r\n            var env = localStorage.getItem(\"env\");\r\n            var url = \"\";\r\n            if (env == undefined) {\r\n              if (vm.invoiceLength > 1) {\r\n                url = \"https://apps.clique.center/apps/customerportal/batch-process/\";\r\n              } else {\r\n                url = recentUrl.replace(\"/invoice/\", \"/checkout/\");\r\n                // url = \"https://apps.clique.center/apps/customerportal/checkout/\";\r\n              }\r\n            } else if (env == 'cliquelocal') {\r\n              if (vm.invoiceLength > 1) {\r\n                url = \"https://clique.local:8000/apps/customerportal/batch-process/\";\r\n              } else {\r\n                url = recentUrl.replace(\"/invoice/\", \"/checkout/\");\r\n                // url = \"http://clique.local:8000/apps/customerportal/checkout/\";\r\n              }\r\n            } else if (env == 'ahsanlocal') {\r\n              if (vm.invoiceLength > 1) {\r\n                url = \"https://ahsan.local:8000/apps/customerportal/batch-process/\";\r\n              } else {\r\n                url = \"http://ahsan.local:8000/apps/customerportal/checkout/\";\r\n              }\r\n            } else if (env == 'localhost') {\r\n              if (vm.invoiceLength > 1) {\r\n                url = \"batch-process/\";\r\n              } else {\r\n                url = \"checkout/\";\r\n              }\r\n            } else if (env == 'ip') {\r\n              // debugger\r\n              if (vm.invoiceLength > 1) {\r\n                url = \"batch-process/\";\r\n              } else {\r\n                url = recentUrl.replace(\"/invoice/\", \"/checkout/\");\r\n                // url = \"checkout/\";\r\n              }\r\n            } else {\r\n              if (vm.invoiceLength > 1) {\r\n                url = \"batch-process/\";\r\n              } else {\r\n                url = \"checkout/\";\r\n              }\r\n            }\r\n\r\n            if (data.is_already_customer == 1) {\r\n              $state.go('app.login');\r\n              //return false;\r\n            } else {\r\n              window.location.replace(url);\r\n            }\r\n\r\n\r\n            //window.location.replace('https://apps.clique.center/apps/customerportal/checkout/'+orgtoken);\r\n            //window.location.replace('checkout/'+orgtoken);\r\n            //window.location.replace('http://clique.local:8000/apps/customerportal/checkout/'+orgtoken);\r\n            //window.location.replace('https://apps.clique.center/apps/customerportal/checkout/'+orgtoken);\r\n            vm.showProgress = true;\r\n            vm.showContent = false;\r\n\r\n\r\n            /*if(typeof(sessionStorage) != 'undefined')\r\n            {\r\n            sessionStorage.setItem(\"orgtoken\",orgtoken);\r\n            \twindow.location.replace('checkout/'+orgtoken);\r\n            \twindow.location.replace('checkout/');\r\n            \tvm.showProgress=true;\r\n            \tvm.showContent=false;\r\n            }\r\n            else\r\n            {\r\n              alert(\"browser not supported\");\r\n            }*/\r\n            //$state.go('checkout/'+$stateParams.token);\r\n          }\r\n          // else if (data.payment.paymentprocessor == \"bridgepay\") {\r\n          //   var env = localStorage.getItem(\"env\");\r\n          //   var url = \"\";\r\n          //   if (env == undefined) {\r\n          //     if (vm.invoiceLength > 1) {\r\n          //       url = \"https://apps.clique.center/apps/customerportal/batch-process/\";\r\n          //     } else {\r\n          //       url = \"https://apps.clique.center/apps/customerportal/checkout/\";\r\n          //     }\r\n          //   } else if (env == 'cliquelocal') {\r\n          //     if (vm.invoiceLength > 1) {\r\n          //       url = \"https://clique.local:8000/apps/customerportal/batch-process/\";\r\n          //     } else {\r\n          //       url = \"http://clique.local:8000/apps/customerportal/checkout/\";\r\n          //     }\r\n          //   } else if (env == 'ahsanlocal') {\r\n          //     if (vm.invoiceLength > 1) {\r\n          //       url = \"https://ahsan.local:8000/apps/customerportal/batch-process/\";\r\n          //     } else {\r\n          //       url = \"http://ahsan.local:8000/apps/customerportal/checkout/\";\r\n          //     }\r\n          //   } else if (env == 'localhost') {\r\n          //     if (vm.invoiceLength > 1) {\r\n          //       url = \"batch-process/\";\r\n          //     } else {\r\n          //       url = \"checkout/\";\r\n          //     }\r\n          //   } else {\r\n          //     if (vm.invoiceLength > 1) {\r\n          //       url = \"batch-process/\";\r\n          //     } else {\r\n          //       url = \"checkout/\";\r\n          //     }\r\n          //   }\r\n\r\n          //   if (data.is_already_customer == 1) {\r\n          //     $state.go('app.login');\r\n          //     //return false;\r\n          //   } else {\r\n          //     window.location.replace(url + token);\r\n          //   }\r\n\r\n\r\n          //   //window.location.replace('https://apps.clique.center/apps/customerportal/checkout/'+orgtoken);\r\n          //   //window.location.replace('checkout/'+orgtoken);\r\n          //   //window.location.replace('http://clique.local:8000/apps/customerportal/checkout/'+orgtoken);\r\n          //   //window.location.replace('https://apps.clique.center/apps/customerportal/checkout/'+orgtoken);\r\n          //   vm.showProgress = true;\r\n          //   vm.showContent = false;\r\n\r\n\r\n          //   /*if(typeof(sessionStorage) != 'undefined')\r\n          //   {\r\n          //   sessionStorage.setItem(\"orgtoken\",orgtoken);\r\n          //   \twindow.location.replace('checkout/'+orgtoken);\r\n          //   \twindow.location.replace('checkout/');\r\n          //   \tvm.showProgress=true;\r\n          //   \tvm.showContent=false;\r\n          //   }\r\n          //   else\r\n          //   {\r\n          //     alert(\"browser not supported\");\r\n          //   }*/\r\n          //   //$state.go('checkout/'+$stateParams.token);\r\n          // }\r\n\r\n\r\n          if (vm.invoice.TxnTaxDetail == null) {\r\n            vm.invoiceTxt = \"0.00\"\r\n          } else {\r\n            vm.invoiceTxt = vm.invoice.TxnTaxDetail.TotalTax\r\n          }\r\n\r\n        } else {\r\n          Clique.showToast(response.statusmessage, 'bottom right', 'error');\r\n        }\r\n      });\r\n    }\r\n\r\n    function getTotalAmount(item_amount) {\r\n      //console.log('Item Amount'+);\r\n      $scope.total += item_amount\r\n    }\r\n\r\n    function paymentProcessing(URL) {\r\n      //alert(URL);\r\n      var w = 800;\r\n      var h = 600;\r\n      var left = (screen.width - w) / 2;\r\n      var top = (screen.height - h) / 4; // for 25% - devide by 4  |  for 33% - devide by 3\r\n      var targetWin = window.open(URL, \"Clique - Payment Processing\", 'toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=' + w + ', height=' + h + ', top=' + top + ', left=' + left);\r\n\r\n\r\n      //window.open(URL, '', 'height=400,width=500')\r\n    }\r\n\r\n  }\r\n\r\n  function SuccessController(Invoice, $scope, api, $http, $stateParams, InvoiceModel, Clique, $cookies) {\r\n    var vm = this;\r\n    vm.showProgress = true;\r\n    vm.paypal_form = false;\r\n\r\n\r\n    if ($stateParams.id) {\r\n      //alert($stateParams.id)\r\n      vm.invoice_id = $stateParams.id;\r\n      vm.authorization = $stateParams.token;\r\n    } else {\r\n      vm.invoice_id = 0;\r\n      vm.authorization = 0;\r\n    }\r\n    $http.defaults.headers.common['x-csrftoken'] = $cookies.get(\"csrftoken\");\r\n\r\n    $scope.promise = InvoiceModel.GetInvoiceDetails(vm.invoice_id);\r\n    $scope.promise.then(function (response) {\r\n      if (response.statuscode == 0) {\r\n        var data = response.data;\r\n        //console.log(data);\r\n        vm.invoice = data.invoice;\r\n        vm.company = data.company;\r\n        if (vm.company.logo != null) {\r\n          vm.logo = vm.company.logo;\r\n        } else {\r\n          vm.logo = \"https://apps.clique.center/apps/common/assets/images/favicon.png\";\r\n        }\r\n        //console.log(vm.invoice.CustomerRef.name);\r\n        vm.customerName = vm.invoice.CustomerRef.name;\r\n\r\n      } else {\r\n        Clique.showToast(response.statusmessage, 'bottom right', 'error');\r\n      }\r\n    });\r\n\r\n\r\n\r\n  }\r\n})();\r\n\n// Generated by CoffeeScript 1.10.0\r\n(function() {\r\n  var $, Range, Trie,\r\n    indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\r\n\r\n  Trie = (function() {\r\n    function Trie() {\r\n      this.trie = {};\r\n    }\r\n\r\n    Trie.prototype.push = function(value) {\r\n      var char, i, j, len, obj, ref, results;\r\n      value = value.toString();\r\n      obj = this.trie;\r\n      ref = value.split('');\r\n      results = [];\r\n      for (i = j = 0, len = ref.length; j < len; i = ++j) {\r\n        char = ref[i];\r\n        if (obj[char] == null) {\r\n          if (i === (value.length - 1)) {\r\n            obj[char] = null;\r\n          } else {\r\n            obj[char] = {};\r\n          }\r\n        }\r\n        results.push(obj = obj[char]);\r\n      }\r\n      return results;\r\n    };\r\n\r\n    Trie.prototype.find = function(value) {\r\n      var char, i, j, len, obj, ref;\r\n      value = value.toString();\r\n      obj = this.trie;\r\n      ref = value.split('');\r\n      for (i = j = 0, len = ref.length; j < len; i = ++j) {\r\n        char = ref[i];\r\n        if (obj.hasOwnProperty(char)) {\r\n          if (obj[char] === null) {\r\n            return true;\r\n          }\r\n        } else {\r\n          return false;\r\n        }\r\n        obj = obj[char];\r\n      }\r\n    };\r\n\r\n    return Trie;\r\n\r\n  })();\r\n\r\n  Range = (function() {\r\n    function Range(trie1) {\r\n      this.trie = trie1;\r\n      if (this.trie.constructor !== Trie) {\r\n        throw Error('Range constructor requires a Trie parameter');\r\n      }\r\n    }\r\n\r\n    Range.rangeWithString = function(ranges) {\r\n      var j, k, len, n, r, range, ref, ref1, trie;\r\n      if (typeof ranges !== 'string') {\r\n        throw Error('rangeWithString requires a string parameter');\r\n      }\r\n      ranges = ranges.replace(/ /g, '');\r\n      ranges = ranges.split(',');\r\n      trie = new Trie;\r\n      for (j = 0, len = ranges.length; j < len; j++) {\r\n        range = ranges[j];\r\n        if (r = range.match(/^(\\d+)-(\\d+)$/)) {\r\n          for (n = k = ref = r[1], ref1 = r[2]; ref <= ref1 ? k <= ref1 : k >= ref1; n = ref <= ref1 ? ++k : --k) {\r\n            trie.push(n);\r\n          }\r\n        } else if (range.match(/^\\d+$/)) {\r\n          trie.push(range);\r\n        } else {\r\n          throw Error(\"Invalid range '\" + r + \"'\");\r\n        }\r\n      }\r\n      return new Range(trie);\r\n    };\r\n\r\n    Range.prototype.match = function(number) {\r\n      return this.trie.find(number);\r\n    };\r\n\r\n    return Range;\r\n\r\n  })();\r\n\r\n\r\n  /*\r\n  jQuery Credit Card Validator 1.1\r\n  \r\n  Copyright 2012-2015 Pawel Decowski\r\n  \r\n  Permission is hereby granted, free of charge, to any person obtaining a copy\r\n  of this software and associated documentation files (the \"Software\"), to deal\r\n  in the Software without restriction, including without limitation the rights\r\n  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n  copies of the Software, and to permit persons to whom the Software\r\n  is furnished to do so, subject to the following conditions:\r\n  \r\n  The above copyright notice and this permission notice shall be included\r\n  in all copies or substantial portions of the Software.\r\n  \r\n  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\r\n  OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL\r\n  THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\r\n  IN THE SOFTWARE.\r\n   */\r\n\r\n  $ = jQuery;\r\n\r\n  $.fn.validateCreditCard = function(callback, options) {\r\n    var bind, card, card_type, card_types, get_card_type, is_valid_length, is_valid_luhn, j, len, normalize, ref, validate, validate_number;\r\n    card_types = [\r\n      {\r\n        name: 'amex',\r\n        range: '34,37',\r\n        valid_length: [15]\r\n      }, {\r\n        name: 'diners_club_carte_blanche',\r\n        range: '300-305',\r\n        valid_length: [14]\r\n      }, {\r\n        name: 'diners_club_international',\r\n        range: '36',\r\n        valid_length: [14]\r\n      }, {\r\n        name: 'jcb',\r\n        range: '3528-3589',\r\n        valid_length: [16]\r\n      }, {\r\n        name: 'laser',\r\n        range: '6304, 6706, 6709, 6771',\r\n        valid_length: [16, 17, 18, 19]\r\n      }, {\r\n        name: 'visa_electron',\r\n        range: '4026, 417500, 4508, 4844, 4913, 4917',\r\n        valid_length: [16]\r\n      }, {\r\n        name: 'visa',\r\n        range: '4',\r\n        valid_length: [13, 14, 15, 16, 17, 18, 19]\r\n      }, {\r\n        name: 'mastercard',\r\n        range: '51-55,2221-2720',\r\n        valid_length: [16]\r\n      }, {\r\n        name: 'discover',\r\n        range: '6011, 622126-622925, 644-649, 65',\r\n        valid_length: [16]\r\n      }, {\r\n        name: 'dankort',\r\n        range: '5019',\r\n        valid_length: [16]\r\n      }, {\r\n        name: 'maestro',\r\n        range: '50, 56-69',\r\n        valid_length: [12, 13, 14, 15, 16, 17, 18, 19]\r\n      }, {\r\n        name: 'uatp',\r\n        range: '1',\r\n        valid_length: [15]\r\n      }\r\n    ];\r\n    bind = false;\r\n    if (callback) {\r\n      if (typeof callback === 'object') {\r\n        options = callback;\r\n        bind = false;\r\n        callback = null;\r\n      } else if (typeof callback === 'function') {\r\n        bind = true;\r\n      }\r\n    }\r\n    if (options == null) {\r\n      options = {};\r\n    }\r\n    if (options.accept == null) {\r\n      options.accept = (function() {\r\n        var j, len, results;\r\n        results = [];\r\n        for (j = 0, len = card_types.length; j < len; j++) {\r\n          card = card_types[j];\r\n          results.push(card.name);\r\n        }\r\n        return results;\r\n      })();\r\n    }\r\n    ref = options.accept;\r\n    for (j = 0, len = ref.length; j < len; j++) {\r\n      card_type = ref[j];\r\n      if (indexOf.call((function() {\r\n        var k, len1, results;\r\n        results = [];\r\n        for (k = 0, len1 = card_types.length; k < len1; k++) {\r\n          card = card_types[k];\r\n          results.push(card.name);\r\n        }\r\n        return results;\r\n      })(), card_type) < 0) {\r\n        throw Error(\"Credit card type '\" + card_type + \"' is not supported\");\r\n      }\r\n    }\r\n    get_card_type = function(number) {\r\n      var k, len1, r, ref1;\r\n      ref1 = (function() {\r\n        var l, len1, ref1, results;\r\n        results = [];\r\n        for (l = 0, len1 = card_types.length; l < len1; l++) {\r\n          card = card_types[l];\r\n          if (ref1 = card.name, indexOf.call(options.accept, ref1) >= 0) {\r\n            results.push(card);\r\n          }\r\n        }\r\n        return results;\r\n      })();\r\n      for (k = 0, len1 = ref1.length; k < len1; k++) {\r\n        card_type = ref1[k];\r\n        r = Range.rangeWithString(card_type.range);\r\n        if (r.match(number)) {\r\n          return card_type;\r\n        }\r\n      }\r\n      return null;\r\n    };\r\n    is_valid_luhn = function(number) {\r\n      var digit, k, len1, n, ref1, sum;\r\n      sum = 0;\r\n      ref1 = number.split('').reverse();\r\n      for (n = k = 0, len1 = ref1.length; k < len1; n = ++k) {\r\n        digit = ref1[n];\r\n        digit = +digit;\r\n        if (n % 2) {\r\n          digit *= 2;\r\n          if (digit < 10) {\r\n            sum += digit;\r\n          } else {\r\n            sum += digit - 9;\r\n          }\r\n        } else {\r\n          sum += digit;\r\n        }\r\n      }\r\n      return sum % 10 === 0;\r\n    };\r\n    is_valid_length = function(number, card_type) {\r\n      var ref1;\r\n      return ref1 = number.length, indexOf.call(card_type.valid_length, ref1) >= 0;\r\n    };\r\n    validate_number = function(number) {\r\n      var length_valid, luhn_valid;\r\n      card_type = get_card_type(number);\r\n      luhn_valid = false;\r\n      length_valid = false;\r\n      if (card_type != null) {\r\n        luhn_valid = is_valid_luhn(number);\r\n        length_valid = is_valid_length(number, card_type);\r\n      }\r\n      return {\r\n        card_type: card_type,\r\n        valid: luhn_valid && length_valid,\r\n        luhn_valid: luhn_valid,\r\n        length_valid: length_valid\r\n      };\r\n    };\r\n    validate = (function(_this) {\r\n      return function() {\r\n        var number;\r\n        number = normalize($(_this).val());\r\n        return validate_number(number);\r\n      };\r\n    })(this);\r\n    normalize = function(number) {\r\n      return number.replace(/[ -]/g, '');\r\n    };\r\n    if (!bind) {\r\n      return validate();\r\n    }\r\n    this.on('input.jccv', (function(_this) {\r\n      return function() {\r\n        $(_this).off('keyup.jccv');\r\n        return callback.call(_this, validate());\r\n      };\r\n    })(this));\r\n    this.on('keyup.jccv', (function(_this) {\r\n      return function() {\r\n        return callback.call(_this, validate());\r\n      };\r\n    })(this));\r\n    callback.call(this, validate());\r\n    return this;\r\n  };\r\n\r\n}).call(this);\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.cardconnect', [])\r\n        .config(config);\r\n\r\n    /** @ngInject */\r\n    function config($stateProvider, $translatePartialLoaderProvider, msNavigationServiceProvider)\r\n    {\r\n        // State\r\n        $stateProvider.state('app.cardconnect', {\r\n            url      : '/checkout/:token',\r\n            views    : {\r\n                'main@': {\r\n                    templateUrl: 'app/core/layouts/content-only.html',\r\n                    controller : 'MainController as vm'\r\n                },\r\n                'content@app.cardconnect': {\r\n                    templateUrl: 'app/main/cardconnect/checkout.html',\r\n                    controller : 'CheckOutController as vm'\r\n                }\r\n            },\r\n            bodyClass: 'login-v2'\r\n        })\r\n\t\t.state('app.testing', {\r\n                url    : '/testing',\r\n                views  : {\r\n                    'content@app': {\r\n                        templateUrl: 'app/main/cardconnect/thankyou.html',\r\n                        controller : 'SuccessController as vm'\r\n                    }\r\n                },\r\n                 bodyClass: 'login-v2'\r\n            });\r\n        // Translation\r\n        //$translatePartialLoaderProvider.addPart('app/main/pages/auth/login-v2');\r\n\r\n        // Navigation\r\n      /*  msNavigationServiceProvider.saveItem('pages.auth.login-v2', {\r\n            title : 'Login v2',\r\n            state : 'app.pages_auth_login-v2',\r\n            weight: 2\r\n        });*/\r\n    }\r\n\r\n})();\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.cardconnect')\r\n    .controller('CheckOutController', CheckOutController)\r\n    .controller('SuccessController', SuccessController)\r\n    .directive('numberFormatter', ['$filter', function ($filter) {\r\n      var decimalCases = 2,\r\n        whatToSet = function (str) {\r\n          return str ? Number(str) : '';\r\n        },\r\n        whatToShow = function (num) {\r\n          //alert('a');\r\n          return $filter('number')(num, decimalCases);\r\n        };\r\n\r\n      return {\r\n        restrict: 'A',\r\n        require: 'ngModel',\r\n        link: function (scope, element, attr, ngModel) {\r\n          ngModel.$parsers.push(whatToSet);\r\n          ngModel.$formatters.push(whatToShow);\r\n          element.bind('blur', function () {\r\n            /*if(ngModel.$modelValue > attr.max){\r\n              element.val(whatToShow(attr.max))\r\n            }else{\r\n               element.val(whatToShow(ngModel.$modelValue))\r\n            }*/\r\n            //console.log(ngModel.$modelValue);\r\n            element.val(whatToShow(ngModel.$modelValue))\r\n\r\n          });\r\n\r\n          element.bind('focus', function () {\r\n            //console.log('asim');\r\n            //alert('asim');\r\n            element.val(ngModel.$modelValue);\r\n          });\r\n        }\r\n      };\r\n    }])\r\n    .directive('format', ['$filter', function ($filter) {\r\n      return {\r\n        require: '?ngModel',\r\n        link: function (scope, elem, attrs, ctrl) {\r\n          if (!ctrl) return;\r\n\r\n          ctrl.$formatters.unshift(function (a) {\r\n            return $filter(attrs.format)(ctrl.$modelValue)\r\n          });\r\n\r\n          elem.bind('blur', function (event) {\r\n            var plainNumber = elem.val().replace(/[^\\d|\\-+|\\.+]/g, '');\r\n            elem.val($filter(attrs.format)(plainNumber));\r\n          });\r\n        }\r\n      };\r\n    }])\r\n    .directive('creditCardType', function () {\r\n      var directive = {\r\n        require: 'ngModel',\r\n        link: function (scope, elm, attrs, ctrl) {\r\n          ctrl.$parsers.unshift(function (value) {\r\n            scope.ccinfo.type =\r\n              (/^5[1-5]/.test(value)) ? \"master\" :\r\n              (/^4/.test(value)) ? \"visa\" :\r\n              (/^3[47]/.test(value)) ? 'amex' :\r\n              (/^6011|65|64[4-9]|622(1(2[6-9]|[3-9]\\d)|[2-8]\\d{2}|9([01]\\d|2[0-5]))/.test(value)) ? 'discover' :\r\n              undefined\r\n            ctrl.$setValidity('invalid', !!scope.ccinfo.type)\r\n            return value\r\n          })\r\n        }\r\n      }\r\n      return directive\r\n    })\r\n\r\n\r\n  /** @ngInject */\r\n  function CheckOutController(api, $scope, Clique, $location, $rootScope, $cookieStore, $http, $window, $stateParams, $mdDialog, InvoiceModel, $cookies, $state, $timeout, $filter) {\r\n    // Data\r\n\r\n    var vm = this;\r\n    var appConfig = Clique.configApp();\r\n    $scope.CPappLogo = appConfig.CPappLogo;\r\n\r\n    vm.showProgress = true;\r\n    vm.showContent = false;\r\n    $scope.total = 0;\r\n    $scope.showInvoice = true;\r\n    $scope.showPrint = false;\r\n    $scope.IsPaidInvoice = false;\r\n    $scope.IsSubmit = true;\r\n\r\n    $scope.IsGreater = false;\r\n    $scope.hideForm = true;\r\n    $scope.authResponse = false;\r\n    $scope.cardconnectError = false;\r\n    $scope.cardconnectMsg = \"\";\r\n    $scope.showstep2 = false;\r\n    $scope.showstep1 = true;\r\n    $scope.feedbackEnable = false;\r\n    $scope.feedbackType = \"yelp\";\r\n    $scope.feedbackURL = \"\";\r\n    $scope.erpType = \"\";\r\n    $scope.showCCDiv = true;\r\n    $scope.showACHDiv = false;\r\n    $scope.ButtonDisable = false;\r\n    vm.isAchEnable = false;\r\n    vm.isAch = false;\r\n    $scope.conEnabled = false;\r\n    $scope.IsDefaultTemplate = false;\r\n    $scope.paymentMethodValue = 'NO';\r\n\r\n    vm.isOpen = false;\r\n    vm.selectedMode = 'md-scale';\r\n    vm.selectedDirection = 'left';\r\n\r\n    $scope.ccinfo = {\r\n      type: undefined\r\n    };\r\n\r\n    $scope.cardlogos = [{\r\n        id: 'visa',\r\n        title: 'Visa',\r\n        src: \"visa.png\"\r\n      },\r\n      {\r\n        id: 'master',\r\n        title: 'Master',\r\n        src: \"mastercard.png\"\r\n      },\r\n      {\r\n        id: 'discover',\r\n        title: 'Discover',\r\n        src: \"discover.png\"\r\n      },\r\n      {\r\n        id: 'amex',\r\n        title: 'Amex',\r\n        src: \"amex.png\"\r\n      },\r\n    ];\r\n    $scope.keyPressed = function (keyEvent, value) {\r\n      //alert(value);\r\n      //console.log(value);\r\n      var currentAmount = value;\r\n      if (currentAmount != \"undefined\" && currentAmount != null) {\r\n        //console.log(\"hio\");\r\n        if (currentAmount != 0) {\r\n\r\n          var invoiceAmount = parseFloat(vm.Balance);\r\n          //console.log(currentAmount+\"\"+invoiceAmount);\r\n          if (currentAmount > invoiceAmount) {\r\n            $scope.IsGreater = true;\r\n            vm.amounterror = \"Amount must be less then or equal to invoice amount\";\r\n          } else {\r\n            $scope.IsGreater = false;\r\n          }\r\n        } else {\r\n          //console.log(\"less\"+currentAmount);\r\n          $scope.IsGreater = true;\r\n          vm.amounterror = \"Amount must be greater then zero\";\r\n\r\n        }\r\n      }\r\n\r\n    };\r\n\r\n    $scope.clearinputfiel = function (event) {\r\n      // console.log(event)\r\n      vm.transamount = null;\r\n      // console.log(\"working\")\r\n\r\n\r\n    }\r\n\r\n\r\n    //$scope.showPrerenderedDialog = showPrerenderedDialog;\r\n    //vm.form = {cardtype:\"tes\"};\r\n\r\n    ////////////////////////////////////////////////////\r\n    //////////////// Get Invoice Details //////////////\r\n    //var orgtoken = sessionStorage.getItem(\"orgtoken\");\r\n    //var decodedString \t= JSON.parse(atob($stateParams.token));\r\n\r\n\r\n    var token = $stateParams.token;\r\n    $scope.checkForBase64 = true\r\n    try {\r\n      JSON.parse(atob($stateParams.token));\r\n      isBase64()\r\n      $scope.checkForBase64 = true\r\n    } catch (e) {\r\n      isNotBase64()\r\n      $scope.checkForBase64 = false\r\n    }\r\n\r\n    function isBase64() {\r\n      var token = $stateParams.token;\r\n      //console.log(token);\r\n      //return false;\r\n      var decodedString = JSON.parse(atob($stateParams.token));\r\n      $stateParams.id = decodedString.invoice_id;\r\n      $stateParams.token = decodedString.token;\r\n      $stateParams.app_id = decodedString.app_id;\r\n      vm.template_color = decodedString.template_color;\r\n      vm.template_id = decodedString.template_id;\r\n      // console.log(template_color)\r\n      // console.log(template_id)\r\n\r\n      // vm.getTotalAmount = getTotalAmount;\r\n      // vm.paymentProcessing = paymentProcessing;\r\n      console.log($stateParams.id)\r\n      if ($stateParams.id && $stateParams.token) {\r\n        vm.invoice_id = $stateParams.id;\r\n        vm.authorization = $stateParams.token;\r\n        vm.appId = $stateParams.app_id;\r\n      } else {\r\n        vm.invoice_id = 0;\r\n        vm.authorization = $stateParams.token;\r\n        vm.appId = $stateParams.app_id;\r\n      }\r\n      var InvoiceId = vm.invoice_id;\r\n\r\n      // $scope.promise = InvoiceModel.GetInvoiceTemplateBase64(InvoiceId, template_id, template_color);\r\n      // $scope.promise.then(function (response) {\r\n      //   //alert(orgtoken);\r\n\r\n      //   GetInvoiceDetailBase64();\r\n\r\n      // });\r\n\r\n      $http.defaults.headers.common['x-csrftoken'] = $cookies.get(\"csrftoken\");\r\n      $http.defaults.headers.common['APPID'] = vm.appId;\r\n      //$http.defaults.headers.common['INVOICETOKEN']= token;\r\n\r\n      $http.defaults.headers.common['APP'] = 'CUSTOMERPORTAL';\r\n\r\n      // $http.defaults.headers.common['channelid'] =123456\r\n      // $http.defaults.headers.common['channel_id'] = 123456\r\n\r\n      sessionStorage.setItem('app_id', vm.appId);\r\n      localStorage.setItem('app_id', vm.appId);\r\n\r\n      sessionStorage.setItem('INVOICETOKEN', token);\r\n      localStorage.setItem('INVOICETOKEN', token);\r\n    }\r\n\r\n    function isNotBase64() {\r\n      // var urlBaseChecker = isBase64(token)\r\n      //$rootScope.ref_id \t= $stateParams.token;\r\n      //$stateParams.id \t= decodedString.invoice_id;\r\n      //$stateParams.token  = decodedString.token;\r\n      //$stateParams.app_id = decodedString.app_id;\r\n      //var template_color  = decodedString.template_color;\r\n      //var template_id  \t= decodedString.template_id;\r\n      //$rootScope.ref_id \t= $stateParams.token;\r\n      //$rootScope.InvoiceId \t= $stateParams.id;\r\n      vm.getTotalAmount = getTotalAmount;\r\n      //vm.paymentProcessing=paymentProcessing;\r\n\r\n      if ($stateParams.id && $stateParams.token && $stateParams.app_id) {\r\n        //vm.invoice_id=$stateParams.id;\r\n        vm.authorization = token;\r\n        vm.appId = 16;\r\n      } else {\r\n        //vm.invoice_id=0;\r\n        vm.authorization = token;\r\n        vm.appId = 16;\r\n      }\r\n\r\n      $http.defaults.headers.common['x-csrftoken'] = $cookies.get(\"csrftoken\");\r\n\r\n      $http.defaults.headers.common['APPID'] = vm.appId;\r\n      $http.defaults.headers.common['INVOICETOKEN'] = token;\r\n\r\n      //$http.defaults.headers.common['APP']= 'CUSTOMERPORTAL';\r\n      localStorage.setItem('app_id', vm.appId);\r\n      sessionStorage.setItem('app_id', vm.appId);\r\n\r\n      localStorage.setItem('INVOICETOKEN', token);\r\n\r\n      //sessionStorage.setItem('template_id', template_id);\r\n      //sessionStorage.setItem('template_color', template_color);\r\n\r\n      //$http.defaults.headers.common['APPID'] \t\t= vm.appId;\r\n\r\n      //$http.defaults.headers.common['x-csrftoken']= $cookies.get(\"csrftoken\");\r\n\r\n    }\r\n    GetInvoiceDetail();\r\n    if ($scope.checkForBase64) {\r\n      var InvoiceId = vm.invoice_id;\r\n    } else {\r\n      var InvoiceId = '';\r\n    }\r\n\r\n    function displayHTML() {\r\n      $scope.promise = InvoiceModel.GetInvoiceTemplateBase64(InvoiceId, vm.template_id, vm.template_color);\r\n\r\n      // $scope.promise = InvoiceModel.GetInvoiceTemplate(InvoiceId);\r\n      $scope.promise.then(function (response) {\r\n        $(\"#invoice_detail\").html('');\r\n        $(\"#invoice_detail\").append(response);\r\n        vm.showProgress = false;\r\n        vm.showContent = true;\r\n\r\n\r\n        // $timeout(function () {\r\n        //   vm.showProgress = false;\r\n        //   vm.showContent = true;\r\n        // }, 5000);\r\n\r\n      });\r\n    }\r\n\r\n\r\n    // $timeout(function () {\r\n    //   vm.showProgress = false;\r\n    //   vm.showContent = true;\r\n    // }, 5000);\r\n    //$scope.ach_check = true;\r\n    // console.log($scope.ach_check,\"$rootScope.ach_check\")\r\n    // if($scope.ach_check == true){\r\n\r\n    //   $scope.paymentMethodValue = true;\r\n    //   $scope.showCCDiv  = false;\r\n    //   $scope.showACHDiv  = true;\r\n    // }\r\n    // else\r\n    // {\r\n    //   $scope.showCCDiv  = true;\r\n    //   $scope.showACHDiv  = false;\r\n\r\n    // }\r\n    //$scope.template = response;\r\n    // getSettings();\r\n    // let url = Clique.getServiceUrl()\r\n    // // $http.get(url + \"/dashboardtest/?invoice_id=\" + 23, {\r\n    // // if ($scope.IsDefaultTemplate == true) {\r\n    // $http.get(url + \"/erp/quickbooks/invoice/preview/?invoice_id=\" + InvoiceId, {\r\n    //     responseType: 'arraybuffer'\r\n    //   })\r\n    //   .then(function (response) {\r\n    //     $scope.src = new Uint8Array(response.data);\r\n\r\n    //     vm.showProgress = false;\r\n    //     vm.showContent = true;\r\n    //   });\r\n    // } else {\r\n    //   $scope.promise = InvoiceModel.GetInvoicePreviewById(invoice_id);\r\n    //   $scope.promise.then(function (response) {\r\n    //     invoiceTemplate = response;\r\n    //     $(\"#invoice_detail\").html('');\r\n    //     $(\"#invoice_detail\").append(response);\r\n    //     vm.showProgress = false;\r\n    //     vm.showContent = true;\r\n    //   });\r\n    // }\r\n\r\n    function displayPDF() {\r\n      var url = Clique.getServiceUrl()\r\n      $http.get(url + \"/erp/quickbooks/invoice/preview/?invoice_id=\" + InvoiceId, {\r\n          responseType: 'arraybuffer'\r\n        })\r\n        .then(function (response) {\r\n          $scope.src = new Uint8Array(response.data);\r\n          vm.showProgress = false;\r\n          vm.showContent = true;\r\n        });\r\n    }\r\n\r\n\r\n    function GetInvoiceDetail() {\r\n      //$http.defaults.headers.common['DEBUG']= \"wdsdsdssd\";\r\n      // if ($scope.checkForBase64) {\r\n      //   $scope.promise = InvoiceModel.GetInvoiceTemplateBase64(vm.invoice_id, vm.template_id, vm.template_color);\r\n      // } else {\r\n      $scope.promise = InvoiceModel.GetInvoiceDetails(token);\r\n      // }\r\n      $scope.promise.then(function (response) {\r\n\r\n        //return false;\r\n        if (response.statuscode == 0) {\r\n          $scope.IsDefaultTemplate = response.data.is_default_template;\r\n          if ($scope.IsDefaultTemplate == true) {\r\n            displayPDF()\r\n          } else {\r\n            displayHTML()\r\n          }\r\n          var data = response.data;\r\n          vm.invoice = data.invoice[0];\r\n          localStorage.setItem('invoice_detail', JSON.stringify(vm.invoice));\r\n          vm.company = data.company;\r\n\r\n          if (data.is_already_customer == 1) {\r\n            $state.go('app.login');\r\n          }\r\n          //  $rootScope.ach_check = data.is_ach\r\n\r\n\r\n          if ((\"convenience_fee\" in data) == true) {\r\n\r\n            if (data.convenience_fee.length > 0) {\r\n              if (data.convenience_fee[0].is_active == true) {\r\n                $scope.conEnabled = true;\r\n                $rootScope.ConCheck = $scope.conEnabled;\r\n                $rootScope.convenience_fee = data.convenience_fee[0].amount\r\n                $rootScope.convenience_feetype = data.convenience_fee[0].type\r\n                //  console.log(\"working here\")\r\n                if (vm.invoice.Balance > 0) {\r\n                  switch (data.convenience_fee[0].type) {\r\n                    case '$': {\r\n                      if (vm.invoice.Balance < 0) {\r\n                        vm.transamount = 0;\r\n                      } else {\r\n                        vm.transamount = vm.invoice.Balance + data.convenience_fee[0].amount\r\n                      }\r\n                    }\r\n                    break;\r\n                  case '%': {\r\n                    vm.transamount = vm.invoice.Balance + ((data.convenience_fee[0].amount * vm.invoice.Balance) / 100)\r\n                  }\r\n                  break\r\n                  }\r\n                  //  console.log( $rootScope.amount)\r\n                } else {\r\n                  vm.transamount = 0\r\n                }\r\n              }\r\n            } else {\r\n              //  console.log(\"its working here\")\r\n              vm.transamount = parseFloat(vm.invoice.Balance).toFixed(2);\r\n              // console.log(vm.transamount)\r\n            }\r\n          } else {\r\n            // console.log(\"its working here\")\r\n            vm.transamount = parseFloat(vm.invoice.Balance).toFixed(2);\r\n            //   console.log(vm.transamount)\r\n          }\r\n          $rootScope.transamount = vm.transamount\r\n          // vm.transamount = parseFloat(vm.invoice.Balance).toFixed(2);\r\n          //console.log(data.invoice.CustomerRef);\r\n          /*if(vm.invoice.Balance==''){\r\n          vm.transamount = vm.invoice.TotalAmt.toFixed(2);\r\n          }else{\r\n          vm.transamount = vm.invoice.Balance.toFixed(2);\r\n          }*/\r\n\r\n          $timeout(function () {\r\n            $(document).ready(function () {\r\n              $(\"#transamount\").focus();\r\n              $(\"#transamount\").click();\r\n            });\r\n          }, 1000);\r\n\r\n          //$scope.amountForm.transamount.$setTouched();\r\n          //$scope.NewValue = vm.invoice.Balance;\r\n          //$scope.NewValue = '$' + $filter('number')(vm.invoice.Balance, 2);\r\n          //vm.transamount = $filter('number')(vm.transamount, 2);\r\n\r\n\r\n          vm.paymentprocessor = data.payment.paymentprocessor;\r\n          vm.paymentConfiguration = data.payment.paymentconfiguration\r\n          vm.isAch = data.is_ach;\r\n          //console.log(vm.paymentConfiguration);\r\n\r\n          if (vm.paymentConfiguration.hasOwnProperty('supported_methods')) {\r\n            if (vm.paymentConfiguration.supported_methods.hasOwnProperty('ach')) {\r\n              vm.isAchEnable = vm.paymentConfiguration.supported_methods.ach;\r\n            }\r\n          }\r\n          checkIsAchEnable()\r\n\r\n          //vm.isAchEnable = data.payment.paymentconfiguration.supported_methods.ach;\r\n\r\n          vm.invoice_id = vm.invoice.Id;\r\n          vm.customerID = vm.invoice.CustomerRef.value;\r\n          //console.log(vm.customerID);\r\n          // Get ERP Type\r\n          $scope.erpType = data.erptype.type;\r\n          $rootScope.erpTypeMain = data.erptype.type;\r\n\r\n\r\n          $scope.feedbackEnable = data.feedback.isenable;\r\n\r\n          if ($scope.feedbackEnable == true) {\r\n            $scope.feedbackType = data.feedback.type;\r\n            $scope.feedbackURL = data.feedback.url;\r\n          }\r\n          if (vm.appId == 8) {\r\n            vm.docId = vm.invoice.DocId;\r\n          } else {\r\n            vm.docId = \"\";\r\n          }\r\n\r\n\r\n          vm.customerName = vm.invoice.CustomerRef.name;\r\n          //alert(vm.customerName);\r\n          var customerID = vm.invoice.CustomerRef.value;\r\n          vm.customerEmail = '';\r\n          if (vm.invoice.BillEmail != null) {\r\n            vm.customerEmail = vm.invoice.BillEmail.Address;\r\n          }\r\n          if (vm.invoice.TxnTaxDetail == null) {\r\n            vm.invoiceTxt = \"0.00\"\r\n          } else {\r\n            vm.invoiceTxt = vm.invoice.TxnTaxDetail.TotalTax\r\n          }\r\n        } else {\r\n          Clique.showToast(response.statusmessage, 'bottom right', 'error');\r\n        }\r\n      });\r\n    }\r\n    $scope.keyPressed = function (keyEvent, value) {\r\n      var currentAmount = value;\r\n      if (currentAmount != \"undefined\" && currentAmount != null) {\r\n\r\n        //console.log(parseFloat(currentAmount)+\"---\"+parseFloat(vm.invoice.Balance));\r\n        //console.log(parseFloat(currentAmount).toFixed(2)+\"---\"+vm.invoice.Balance.toFixed(2));\r\n        //if((parseFloat(currentAmount).toFixed(2)) > (parseFloat(parseInt(vm.invoice.Balance)).toFixed(2)))\r\n        if (currentAmount != 0) {\r\n          var invoiceAmount = parseFloat(vm.invoice.Balance);\r\n          //console.log(invoiceAmount+\"--\"+currentAmount);\r\n          if (currentAmount > invoiceAmount) {\r\n            //alert('presiono enter');\r\n            $scope.IsGreater = true;\r\n            vm.amounterror = \"Amount must be less then or equal to invoice amount\";\r\n            //console.log('value greater');\r\n          } else {\r\n            $scope.IsGreater = false;\r\n          }\r\n        } else {\r\n          $scope.IsGreater = true;\r\n          vm.amounterror = \"Amount must be greater then zero\";\r\n\r\n        }\r\n\r\n      }\r\n    };\r\n\r\n\r\n    function getTotalAmount(item_amount) {\r\n      //console.log('Item Amount'+);\r\n      $scope.total += item_amount\r\n    }\r\n    // $scope.tempalteData = templates[x];\r\n    //////Random Login left Template//////\r\n    //////////////////////////////////////\r\n\r\n    $scope.showAdvanced = function (ev) {\r\n      $mdDialog.show({\r\n        controller: DialogController,\r\n        template: '<md-dialog>' +\r\n          '  <md-dialog-content>' +\r\n          '    <iframe src=\"/app/main/checkout/dialog_contect.html\" onload=\"close_frame()\" id=\"target\" ></iframe>' +\r\n          '  </md-dialog-content>' +\r\n          ' \t<md-dialog-actions>' +\r\n          '    \t\t<md-button ng-click=\"closeDialog()\" class=\"md-primary\">' +\r\n          '      Close' +\r\n          '    </md-button>' +\r\n          '  </md-dialog-actions>' +\r\n          '</md-dialog>',\r\n        parent: angular.element(document.body),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true\r\n      })\r\n\r\n      function DialogController($scope, $mdDialog) {\r\n        //console.log(\"Error in retrieving data from server\");\r\n\r\n        $scope.closeDialog = function () {\r\n          var mainApp = angular.element(document.body).controller();\r\n          $mdDialog.hide();\r\n        };\r\n        /*  $http.get('http://www.example.com/page/test/test?id=10475').success(function(data) {\r\n              $scope.data = data;\r\n              $scope.closeDialog = function() {\r\n                  var mainApp = angular.element(document.body).controller();\r\n                  $mdDialog.hide();\r\n              }\r\n          }).error(function(data, status, headers, config) {\r\n              console.log(\"Error in retrieving data from server\");\r\n          });*/\r\n      }\r\n    };\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    // Methods\r\n    $scope.submit = function () {\r\n      $scope.ButtonDisable = true;\r\n      $scope.showProgress = true;\r\n      $scope.cardconnectError = false;\r\n      $scope.cardconnectSuccess = false;\r\n\r\n      var cardholder = vm.form.cardholder;\r\n      var creditCardNumber = vm.form.cardnumber;\r\n      var expMonth = vm.form.months;\r\n      var expYears = vm.form.years;\r\n      var cc2 = vm.form.cc2;\r\n      var streetaddress = vm.form.streetaddress;\r\n      var zipcode = vm.form.zipcode;\r\n      //console.log(vm.form.terms);\r\n      //var Balamount\t\t   = vm.invoice.Balance;\r\n      var Balamount = vm.transamount;\r\n      Balamount = parseFloat(Balamount).toFixed(2);\r\n\r\n\r\n      var cardType = angular.element(document.querySelector('#cardtype')).val();\r\n      /* var paymentObj={\r\n\t\t\t\t\t\tpaymentinfo:{\r\n\t\t\t\t\t\t\tcardholder:cardholder,\r\n\t\t\t\t\t\t\tcreditcardnumber:creditCardNumber,\r\n\t\t\t\t\t\t\tmonth:expMonth,\r\n\t\t\t\t\t\t\texp:expYears,\r\n\t\t\t\t\t\t\tccv2:cc2,\r\n\t\t\t\t\t\t\tinvoiceno:vm.invoice_id,\r\n\t\t\t\t\t\t\tcardtype:cardType,\r\n\t\t\t\t\t\t\tamount:Balamount,\r\n\t\t\t\t\t\t\tstreetaddress:streetaddress,\r\n\t\t\t\t\t\t\tzipcode:zipcode\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t};*/\r\n\r\n      var paymentObj = {\r\n        paymentinfo: {\r\n          Amount: Balamount,\r\n          Streetaddress: streetaddress,\r\n          Zipcode: zipcode,\r\n          TransType: 'sale',\r\n          Type: 'invoice',\r\n          ErpType: $scope.erpType,\r\n          Cardinfo: {\r\n            Cardholder: cardholder,\r\n            CreditCardNumber: creditCardNumber,\r\n            Month: expMonth,\r\n            Year: expYears,\r\n            CCV2: cc2,\r\n            CardType: $scope.ccinfo.type\r\n          },\r\n          Custom: {\r\n            CustomerRef: {\r\n              Id: vm.customerID,\r\n              Name: vm.customerName,\r\n              Email: vm.customerEmail\r\n            },\r\n            Invoice: {\r\n              Id: vm.invoice_id,\r\n              DocId: vm.docId\r\n            }\r\n          }\r\n        }\r\n      };\r\n\r\n\r\n\r\n      //alert(vm.docNumber);\r\n      //console.log(paymentObj);\r\n      //console.log(JSON.stringify(paymentObj));\r\n      //return false;\r\n\r\n      $scope.promise = InvoiceModel.CardConnectPayment(paymentObj);\r\n      $scope.promise.then(function (response) {\r\n\r\n        //return false;\r\n        $scope.ButtonDisable = false;\r\n        if (response.statuscode == 0) {\r\n          GetInvoiceDetail();\r\n          $scope.showProgress = false;\r\n          $scope.cardconnectSuccess = true;\r\n          $scope.cardconnectMsg = response.statusmessage;\r\n          //$scope.IsPaidInvoice=true;\r\n          //vm.transamount = response.data.balance.toFixed(2);\r\n\r\n          var transactionAmount = Balamount;\r\n          var totalAmount = parseFloat(vm.invoice.Balance).toFixed(2);\r\n\r\n          if (transactionAmount == totalAmount) {\r\n            vm.transamount = \"0.00\";\r\n          } else {\r\n            vm.transamount = totalAmount - transactionAmount;\r\n            vm.transamount = vm.transamount.toFixed(2);\r\n          }\r\n\r\n          if (vm.transamount <= 0) {\r\n            vm.transamount = \"0.00\";\r\n          }\r\n          $timeout(function () {\r\n            $(document).ready(function () {\r\n              $(\"#transamount\").focus();\r\n              $(\"#transamount\").click();\r\n            });\r\n          }, 1000);\r\n\r\n          //console.log(transactionAmount+\"____\"+totalAmount);\r\n\r\n          vm.invoice.Balance = vm.transamount;\r\n          //console.log(vm.invoice.Balance);\r\n          //vm.invoice.Balance.toFixed(2)\r\n          if ($scope.feedbackEnable == true) {\r\n            showPrerenderedDialog();\r\n          }\r\n\r\n          //Clique.showToast(response.statusmessage,'bottom right','success');\r\n          vm.form = {};\r\n          $scope.checkoutForm.$setUntouched();\r\n          $scope.checkoutForm.$setPristine();\r\n\r\n        } else {\r\n          // vm.transamount = \"0.00\";\r\n          vm.form = {};\r\n          $scope.checkoutForm.$setUntouched();\r\n          $scope.checkoutForm.$setPristine();\r\n\r\n          $scope.showProgress = false;\r\n          $scope.cardconnectError = true;\r\n          $scope.cardconnectMsg = response.statusmessage;\r\n\r\n          //Clique.showToast(response.statusmessage,'bottom right','error');\r\n        }\r\n      });\r\n\r\n\r\n\r\n\r\n      //console.log(JSON.stringify(loginObj));\r\n      //return false;\r\n\r\n\r\n\r\n\r\n    };\r\n\r\n    $scope.submitACH = function () {\r\n      $scope.ButtonDisable = true;\r\n      $scope.showProgress = true;\r\n      $scope.cardconnectError = false;\r\n      $scope.cardconnectSuccess = false;\r\n\r\n      var account = vm.form.account;\r\n      var name = vm.form.name;\r\n      var bankaba = vm.form.bankaba;\r\n      //console.log(vm.form.terms);\r\n      //var Balamount\t\t   = vm.invoice.Balance;\r\n      var Balamount = vm.transamount;\r\n      Balamount = parseFloat(Balamount).toFixed(2);\r\n\r\n\r\n\r\n\r\n      var paymentObj = {\r\n        paymentinfo: {\r\n          Amount: Balamount,\r\n          TransType: 'ach_sale',\r\n          Type: 'invoice',\r\n          ErpType: $scope.erpType,\r\n          Achinfo: {\r\n            account: account,\r\n            name: name,\r\n            bankaba: bankaba\r\n          },\r\n          Custom: {\r\n            CustomerRef: {\r\n              Id: vm.customerID,\r\n              Name: vm.customerName,\r\n              Email: vm.customerEmail\r\n            },\r\n            Invoice: {\r\n              Id: vm.invoice_id,\r\n              DocId: vm.docId\r\n            }\r\n          }\r\n        }\r\n      };\r\n\r\n\r\n\r\n      //alert(vm.docNumber);\r\n      //console.log(paymentObj);\r\n      //console.log(JSON.stringify(paymentObj));\r\n      //return false;\r\n\r\n      $scope.promise = InvoiceModel.CardConnectPayment(paymentObj);\r\n      $scope.promise.then(function (response) {\r\n\r\n        //return false;\r\n        $scope.ButtonDisable = false;\r\n        if (response.statuscode == 0) {\r\n          GetInvoiceDetail();\r\n          $scope.showProgress = false;\r\n          $scope.cardconnectSuccess = true;\r\n          $scope.cardconnectMsg = response.statusmessage;\r\n          //$scope.IsPaidInvoice=true;\r\n          //vm.transamount = response.data.balance.toFixed(2);\r\n\r\n          var transactionAmount = Balamount;\r\n          var totalAmount = parseFloat(vm.invoice.Balance).toFixed(2);\r\n\r\n          if (transactionAmount == totalAmount) {\r\n            vm.transamount = \"0.00\";\r\n          } else {\r\n            vm.transamount = totalAmount - transactionAmount;\r\n            vm.transamount = vm.transamount.toFixed(2);\r\n          }\r\n          $timeout(function () {\r\n            $(document).ready(function () {\r\n              $(\"#transamount\").focus();\r\n              $(\"#transamount\").click();\r\n            });\r\n          }, 1000);\r\n\r\n          //console.log(transactionAmount+\"____\"+totalAmount);\r\n\r\n          vm.invoice.Balance = vm.transamount;\r\n          //console.log(vm.invoice.Balance);\r\n          //vm.invoice.Balance.toFixed(2)\r\n          if ($scope.feedbackEnable == true) {\r\n            showPrerenderedDialog();\r\n          }\r\n\r\n          //Clique.showToast(response.statusmessage,'bottom right','success');\r\n          vm.form = {};\r\n          $scope.ACHForm.$setUntouched();\r\n          $scope.ACHForm.$setPristine();\r\n\r\n        } else {\r\n          $scope.showProgress = false;\r\n          $scope.cardconnectError = true;\r\n          $scope.cardconnectMsg = response.statusmessage;\r\n          vm.form = {};\r\n          // vm.transamount = \"0.00\";\r\n          $scope.ACHForm.$setUntouched();\r\n          $scope.ACHForm.$setPristine();\r\n          //Clique.showToast(response.statusmessage,'bottom right','error');\r\n        }\r\n      });\r\n\r\n\r\n\r\n\r\n      //console.log(JSON.stringify(loginObj));\r\n      //return false;\r\n\r\n\r\n    };\r\n\r\n    //////////\r\n    if (vm.transamount == 0.00) {\r\n\r\n    }\r\n\r\n    /////////////////////////////////////////\r\n    ////////////// Year Drop Down //////////\r\n    vm.year = new Date().getFullYear();\r\n    vm.range = [];\r\n    vm.range.push(vm.year);\r\n    for (var i = 1; i < 15; i++) {\r\n      vm.range.push(vm.year + i);\r\n    }\r\n    vm.years = vm.range;\r\n    vm.getTotalAmount = getTotalAmount;\r\n    ////////////////////////////////////////////\r\n    ///////////// Month Dropdown //////////////\r\n    vm.month = [];\r\n    for (var i = 1; i < 13; i++) {\r\n      if (i <= 9) {\r\n        vm.month.push(\"0\" + i);\r\n      } else {\r\n        vm.month.push(i);\r\n      }\r\n    }\r\n    vm.months = vm.month;\r\n\r\n    ////////////////////////////////////////////\r\n    /////////// Dialoge Function //////////////\r\n    $scope.rating = [];\r\n    for (var i = 1; i <= 5; i++) {\r\n      $scope.rating.push(i);\r\n    }\r\n    $scope.feedback;\r\n\r\n    function showPrerenderedDialog() {\r\n      $mdDialog.show({\r\n        contentElement: '#myDialog',\r\n        parent: angular.element(document.body),\r\n        //targetEvent: ev,\r\n        clickOutsideToClose: true\r\n      });\r\n    }\r\n\r\n    $scope.showcommentbox = function (value) {\r\n      $scope.showbox = true;\r\n    };\r\n\r\n    $scope.cancel = function () {\r\n      $mdDialog.cancel();\r\n    }\r\n\r\n    $scope.submitfeedback = function () {\r\n      $scope.showfeedbackProgress = true;\r\n      var feedback = $scope.feedback;\r\n      var feedbackcomment = $scope.feedbackcomment;\r\n      var feedbackObj = {\r\n        feedbackinfo: {\r\n          rate: feedback,\r\n          comment: feedbackcomment,\r\n          invoice_id: vm.invoice_id,\r\n          paymentprocessor: vm.paymntprocessor,\r\n          customer_id: vm.customerID\r\n\r\n        }\r\n      };\r\n      //console.log(feedbackObj);\r\n      //console.log(JSON.stringify(feedbackObj));\r\n      //return false;\r\n\r\n      $scope.promise = InvoiceModel.customerFeedback(feedbackObj);\r\n      $scope.promise.then(function (response) {\r\n\r\n        //return false;\r\n        if (response.statuscode == 0) {\r\n          $scope.showfeedbackProgress = false;\r\n          $scope.showstep2 = true;\r\n          $scope.showstep1 = false;\r\n          $scope.step1 = 'grey';\r\n          $scope.step2 = 'cyan'\r\n          Clique.showToast(response.statusmessage, 'bottom right', 'success');\r\n\r\n        } else {\r\n          $scope.showfeedbackProgress = false;\r\n          Clique.showToast(response.statusmessage, 'bottom right', 'error');\r\n        }\r\n      });\r\n\r\n\r\n\r\n\r\n      //console.log(JSON.stringify(loginObj));\r\n      //return false;\r\n      $scope.copyToClipboard = function (element) {\r\n\r\n        var $temp = $('<input>');\r\n        $('body').append($temp);\r\n        $temp.val($(element).text()).select();\r\n        document.execCommand('copy');\r\n        $temp.remove();\r\n        Clique.showToast(\"Feedback Copied\", 'bottom right', 'info');\r\n        /*$('#copy').html('<i class=\"fa fa-check\"></i> Copied!');\r\n        setTimeout(function(){\r\n        \t$('#copy').html('<i class=\"fa fa-copy\"></i> Copy');\r\n        }, 1000);*/\r\n\r\n      };\r\n\r\n    };\r\n\r\n    $scope.changePaymentMode = function (value) {\r\n      if (value == true) {\r\n        vm.transamount = vm.invoice.Balance\r\n        $scope.showCCDiv = false;\r\n        $scope.conEnabled = false;\r\n        $scope.showACHDiv = true;\r\n        $(\"#transamount\").focus();\r\n        $(\"#transamount\").click();\r\n      } else {\r\n        $(\"#transamount\").focus();\r\n        $(\"#transamount\").click();\r\n\r\n        $scope.showCCDiv = true;\r\n        vm.transamount = vm.invoice.Balance\r\n\r\n        $scope.showACHDiv = false;\r\n        if ($rootScope.ConCheck == true) {\r\n          //  console.log(\"working\")\r\n          $scope.conEnabled = true;\r\n          vm.transamount = $rootScope.transamount\r\n        } else {\r\n          $scope.conEnabled = false;\r\n        }\r\n\r\n\r\n      }\r\n\r\n    }\r\n\r\n    function checkIsAchEnable() {\r\n      try {\r\n        vm.isAch\r\n        if (vm.isAch) {\r\n          $scope.changePaymentMode(true);\r\n        }\r\n      } catch (err) {}\r\n    }\r\n\r\n    $scope.signup = function () {\r\n      $state.go('app.signup');\r\n    };\r\n\r\n  }\r\n\r\n  function SuccessController(api, $scope, HelperService, $location, $rootScope, $cookieStore, $http, $window) {\r\n    var vm = this;\r\n  }\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.account', [])\r\n    .config(config);\r\n\r\n  /** @ngInject */\r\n  function config($stateProvider, $translatePartialLoaderProvider, msNavigationServiceProvider) {\r\n    // State\r\n    $stateProvider.state('app.signup', {\r\n        url: '/signup',\r\n        views: {\r\n          'main@': {\r\n            templateUrl: 'app/core/layouts/content-only.html',\r\n            controller: 'MainController as vm'\r\n          },\r\n          'content@app.signup': {\r\n            templateUrl: 'app/main/account/signup.html',\r\n            controller: 'SignupController as vm'\r\n          }\r\n        },\r\n        bodyClass: 'login-v2'\r\n      })\r\n      .state('app.login', {\r\n        url: '/login',\r\n        views: {\r\n          'main@': {\r\n            templateUrl: 'app/core/layouts/content-only.html',\r\n            controller: 'MainController as vm'\r\n          },\r\n          'content@app.login': {\r\n            templateUrl: 'app/main/account/login.html',\r\n            controller: 'LoginController as vm'\r\n          }\r\n        },\r\n        bodyClass: 'login-v2'\r\n      })\r\n      .state('app.invoices', {\r\n        url: '/invoices',\r\n        views: {\r\n          'main@': {\r\n            templateUrl: 'app/core/layouts/vertical-navigation.html',\r\n            controller: 'MainController as vm'\r\n          },\r\n          'toolbar@app.invoices': {\r\n            templateUrl: 'app/toolbar/layouts/vertical-navigation/toolbar.html',\r\n            controller: 'ToolbarController as vm'\r\n          },\r\n          'navigation@app.invoices': {\r\n            templateUrl: 'app/navigation/layouts/vertical-navigation/navigation.html',\r\n            controller: 'NavigationController as vm'\r\n          },\r\n          'content@app.invoices': {\r\n            templateUrl: 'app/main/account/invoices.html',\r\n            controller: 'CustomerInvoicesController as vm'\r\n          }\r\n        }\r\n\r\n        ,\r\n        bodyClass: 'login-v2'\r\n      })\r\n      .state('app.invoice-payment', {\r\n        url: '/payment',\r\n        views: {\r\n          'main@': {\r\n            templateUrl: 'app/core/layouts/vertical-navigation.html',\r\n            controller: 'MainController as vm'\r\n          },\r\n          'toolbar@app.invoice-payment': {\r\n            templateUrl: 'app/toolbar/layouts/vertical-navigation/toolbar.html',\r\n            controller: 'ToolbarController as vm'\r\n          },\r\n          'navigation@app.invoice-payment': {\r\n            templateUrl: 'app/navigation/layouts/vertical-navigation/navigation.html',\r\n            controller: 'NavigationController as vm'\r\n          },\r\n          'content@app.invoice-payment': {\r\n            templateUrl: 'app/main/account/invoice-payment.html',\r\n            controller: 'InvoicesPaymentController as vm'\r\n          }\r\n        }\r\n\r\n        ,\r\n        bodyClass: 'login-v2'\r\n      })\r\n      .state('app.invoice-detail', {\r\n        url: '/invoices/detail/:id',\r\n        params: {\r\n          'id': '',\r\n        },\r\n        views: {\r\n          'main@': {\r\n            templateUrl: 'app/core/layouts/vertical-navigation.html',\r\n            controller: 'MainController as vm'\r\n          },\r\n          'toolbar@app.invoice-detail': {\r\n            templateUrl: 'app/toolbar/layouts/vertical-navigation/toolbar.html',\r\n            controller: 'ToolbarController as vm'\r\n          },\r\n          'navigation@app.invoice-detail': {\r\n            templateUrl: 'app/navigation/layouts/vertical-navigation/navigation.html',\r\n            controller: 'NavigationController as vm'\r\n          },\r\n          'content@app.invoice-detail': {\r\n            templateUrl: 'app/main/account/invoice.detail.html',\r\n            controller: 'InvoicesDetailController as vm'\r\n          }\r\n        }\r\n\r\n        ,\r\n        bodyClass: 'login-v2'\r\n      })\r\n      .state('app.profile', {\r\n        url: '/profiles',\r\n        params: {\r\n          'id': '',\r\n        },\r\n        views: {\r\n          'main@': {\r\n            templateUrl: 'app/core/layouts/vertical-navigation.html',\r\n            controller: 'MainController as vm'\r\n          },\r\n          'toolbar@app.profile': {\r\n            templateUrl: 'app/toolbar/layouts/vertical-navigation/toolbar.html',\r\n            controller: 'ToolbarController as vm'\r\n          },\r\n          'navigation@app.profile': {\r\n            templateUrl: 'app/navigation/layouts/vertical-navigation/navigation.html',\r\n            controller: 'NavigationController as vm'\r\n          },\r\n          'content@app.profile': {\r\n            templateUrl: 'app/main/account/profile.html',\r\n            controller: 'ProfileController as vm'\r\n          }\r\n        }\r\n\r\n        ,\r\n        bodyClass: 'login-v2'\r\n      })\r\n      .state('app.forgot-password', {\r\n        url: '/forgot-password',\r\n        views: {\r\n          'main@': {\r\n            templateUrl: 'app/core/layouts/content-only.html',\r\n            controller: 'MainController as vm'\r\n          },\r\n          'content@app.forgot-password': {\r\n            templateUrl: 'app/main/account/forgot-password.html',\r\n            controller: 'ForgotPasswordController as vm'\r\n          }\r\n        },\r\n        bodyClass: 'login-v2'\r\n      })\r\n      .state('app.receipts', {\r\n        url: '/receipts',\r\n        views: {\r\n          'main@': {\r\n            templateUrl: 'app/core/layouts/vertical-navigation.html',\r\n            controller: 'MainController as vm'\r\n          },\r\n          'toolbar@app.receipts': {\r\n            templateUrl: 'app/toolbar/layouts/vertical-navigation/toolbar.html',\r\n            controller: 'ToolbarController as vm'\r\n          },\r\n          'navigation@app.receipts': {\r\n            templateUrl: 'app/navigation/layouts/vertical-navigation/navigation.html',\r\n            controller: 'NavigationController as vm'\r\n          },\r\n          'content@app.receipts': {\r\n            templateUrl: 'app/main/account/receipts.html',\r\n            controller: 'ReceiptsController as vm'\r\n          }\r\n        },\r\n        bodyClass: 'login-v2'\r\n      });\r\n    // Translation\r\n    //$translatePartialLoaderProvider.addPart('app/main/pages/auth/login-v2');\r\n\r\n    // Navigation\r\n    msNavigationServiceProvider.saveItem('invoices', {\r\n      title: 'My Invoices',\r\n      state: 'app.invoices',\r\n      icon: 'icon-receipt',\r\n    });\r\n    msNavigationServiceProvider.saveItem('profile', {\r\n      title: 'My Cards',\r\n      state: 'app.profile',\r\n      icon: 'icon-account-location',\r\n    });\r\n    msNavigationServiceProvider.saveItem('receipts', {\r\n      title: 'My Payments',\r\n      state: 'app.receipts',\r\n      icon: 'icon-book-open',\r\n    });\r\n\r\n\r\n    /*  msNavigationServiceProvider.saveItem('pages.auth.login-v2', {\r\n            title : 'Login v2',\r\n            state : 'app.pages_auth_login-v2',\r\n            weight: 2\r\n        });*/\r\n  }\r\n\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.account')\r\n    .controller('SignupController', SignupController)\r\n    .controller('LoginController', LoginController)\r\n    .controller('CustomerInvoicesController', CustomerInvoicesController)\r\n    .controller('ReceiptsController', ReceiptsController)\r\n    .controller('InvoicesDetailController', InvoicesDetailController)\r\n    .controller('ProfileController', ProfileController)\r\n    .controller('CustomerProfileTransactionController', CustomerProfileTransactionController)\r\n    .controller('ForgotPasswordController', ForgotPasswordController)\r\n    .controller('ComposeController', ComposeController)\r\n    .controller('InvoicesPaymentController', InvoicesPaymentController)\r\n    .directive('numberFormatter', ['$filter', function ($filter) {\r\n      var decimalCases = 2,\r\n        whatToSet = function (str) {\r\n          /**\r\n           * TODO:\r\n           * don't allow any non digits character, except decimal seperator character\r\n           */\r\n\r\n          return str ? Number(str) : '';\r\n        },\r\n        whatToShow = function (num) {\r\n\r\n          return $filter('number')(num, decimalCases);\r\n        };\r\n\r\n      return {\r\n        restrict: 'A',\r\n        require: 'ngModel',\r\n        link: function (scope, element, attr, ngModel) {\r\n          ngModel.$parsers.push(whatToSet);\r\n          ngModel.$formatters.push(whatToShow);\r\n\r\n          element.bind('blur', function () {\r\n            /*if(ngModel.$modelValue > attr.max){\r\n              element.val(whatToShow(attr.max))  \r\n            }else{\r\n               element.val(whatToShow(ngModel.$modelValue))  \r\n            }*/\r\n            element.val(whatToShow(ngModel.$modelValue))\r\n\r\n          });\r\n          element.bind('focus', function () {\r\n            element.val(ngModel.$modelValue);\r\n          });\r\n        }\r\n      };\r\n    }])\r\n    .directive('creditCardType', function () {\r\n      var directive = {\r\n        require: 'ngModel',\r\n        link: function (scope, elm, attrs, ctrl) {\r\n          ctrl.$parsers.unshift(function (value) {\r\n            scope.ccinfo.type =\r\n              (/^5[1-5]/.test(value)) ? \"master\" :\r\n              (/^4/.test(value)) ? \"visa\" :\r\n              (/^3[47]/.test(value)) ? 'amex' :\r\n              (/^6011|65|64[4-9]|622(1(2[6-9]|[3-9]\\d)|[2-8]\\d{2}|9([01]\\d|2[0-5]))/.test(value)) ? 'discover' :\r\n              undefined\r\n            ctrl.$setValidity('invalid', !!scope.ccinfo.type)\r\n            return value\r\n          })\r\n        }\r\n      }\r\n      return directive\r\n    })\r\n    .directive('cardType', function () {\r\n      var cardImage = \"\";\r\n      return {\r\n        link: function (scope, element, attributes) {\r\n          var cardType = (attributes.cardType.charAt(0)).toLowerCase();\r\n          console.log(cardType);\r\n          scope.cardImage =\r\n            cardType == 'm' ? 'mastercard.png' :\r\n            cardType == 'v' ? 'visa.png' :\r\n            cardType == 'd' ? 'discover.png' :\r\n            cardType == 'a' ? 'amex.png' :\r\n            cardType == 'e' ? 'echeck.png' :\r\n            undefined\r\n          //console.log(scope.cardImage);\r\n          //return cardImage;\r\n        },\r\n        template: '<img ng-src=\"assets/images/logos/{{cardImage}}\" width=\"35%\"> '\r\n      }\r\n    })\r\n    .directive('passwordStrength', [\r\n      function () {\r\n        return {\r\n          require: 'ngModel',\r\n          restrict: 'E',\r\n          scope: {\r\n            password: '=ngModel'\r\n          },\r\n\r\n          link: function (scope, elem, attrs, ctrl) {\r\n            scope.$watch('password', function (newVal) {\r\n\r\n\r\n\r\n              scope.strength = isSatisfied(newVal && newVal.length >= 8) +\r\n                isSatisfied(newVal && /[A-z]/.test(newVal)) +\r\n                isSatisfied(newVal && /(?=.*\\W)/.test(newVal)) +\r\n                isSatisfied(newVal && /\\d/.test(newVal));\r\n              scope.pattrColor = {\r\n                minlength: scope.strength >= 2 ? \"green\" : \"black\",\r\n                special: scope.strength >= 3 ? \"green\" : \"black\"\r\n              }\r\n\r\n              function isSatisfied(criteria) {\r\n                //console.log(criteria);\t\t\r\n                return criteria ? 1 : 0;\r\n              }\r\n            }, true);\r\n          },\r\n          template: '<br/><br/><div ng-show=\"strength\" ng-hide=\"strength==4\"><md-progress-linear md-mode=\"determinate\" class=\"md-accent md-hue-2\" value=\"{{strength >= 1 ? strength*25 : 0}}\"></md-progress-linear><div><p>Valid Password Pattern:</p><ul><li>Min length 8</li><li>Special Character</li><li>Digit</li><li>Capital Letter</li></ul></div></div>'\r\n        }\r\n      }\r\n    ])\r\n    .directive('patternValidator', [\r\n      function () {\r\n        return {\r\n          require: 'ngModel',\r\n          restrict: 'A',\r\n          link: function (scope, elem, attrs, ctrl) {\r\n            ctrl.$parsers.unshift(function (viewValue) {\r\n\r\n              var patt = new RegExp(attrs.patternValidator);\r\n\r\n              var isValid = patt.test(viewValue);\r\n\r\n              ctrl.$setValidity('passwordPattern', isValid);\r\n\r\n              // angular does this with all validators -> return isValid ? viewValue : undefined;\r\n              // But it means that the ng-model will have a value of undefined\r\n              // So just return viewValue!\r\n              return viewValue;\r\n\r\n            });\r\n          }\r\n        };\r\n      }\r\n    ]);\r\n\r\n  function SignupController(api, $scope, Clique, $location, $rootScope, $cookieStore, $http, $window, $stateParams, $mdDialog, InvoiceModel, $cookies, $state) {\r\n    // Data\r\n    var vm = this;\r\n    var appConfig = Clique.configApp();\r\n    $scope.appName = appConfig.appName;\r\n    $scope.appLogo = appConfig.appLogo;\r\n    var templates = [];\r\n    templates.push(appConfig.bgImg);\r\n    templates.push(appConfig.bgImg1);\r\n    templates.push(appConfig.bgImg2);\r\n\r\n    // var templates = [\r\n    //   'assets/images/backgrounds/registerbackground/new1.jpg',\r\n    //   'assets/images/backgrounds/registerbackground/new2.jpg',\r\n    //   'assets/images/backgrounds/registerbackground/new3.jpg',\r\n    // ];\r\n    getRandomInt(0, 2);\r\n\r\n    function getRandomInt(min, max) {\r\n      $scope.randomNumber = Math.floor(Math.random() * (max - min + 1)) + min;\r\n    }\r\n    //alert(templates[2])\r\n    $scope.backGroundImage = templates[$scope.randomNumber];\r\n    if ($scope.randomNumber == 0) {\r\n      $scope.testDrive = true;\r\n    }\r\n    if ($scope.randomNumber == 1) {\r\n      $scope.billCustomer = true;\r\n    }\r\n    if ($scope.randomNumber == 2) {\r\n      $scope.invoicingApp = true;\r\n    }\r\n    $scope.submit = function () {\r\n\r\n      /*$state.go('app.invoice-detail', {\r\n                \tid: 1002\r\n            \t});*/\r\n\r\n      $scope.showProgress = true;\r\n      var Params = {\r\n        username: vm.form.username,\r\n        password: vm.form.password,\r\n        email: vm.form.email,\r\n        ref_id: localStorage.getItem('INVOICETOKEN'),\r\n        confirm_password: vm.form.passwordConfirm,\r\n      }\r\n      //console.log(Params);\r\n      //return false;\r\n      //localStorage.getItem('CURRENT_CUSTOMER')\t\r\n      $scope.promise = InvoiceModel.Signup(Params);\r\n      $scope.promise.then(function (response) {\r\n        if (response.statuscode == 0) {\r\n          /*$state.go('app.invoice-detail', {\r\n\t\t\t\t\t\t\t\tid: $rootScope.InvoiceId\r\n\t\t\t\t\t\t\t});*/\r\n          $state.go('app.login');\r\n\r\n          Clique.showToast(response.statusmessage, 'bottom right', \"success\");\r\n        } else {\r\n          $scope.showProgress = false;\r\n          Clique.showToast(response.statusmessage, 'bottom right', \"error\");\r\n        }\r\n      });\r\n\r\n\r\n    }\r\n    /*******************************************************/\r\n    /***Redirect If user not come from pay invoice button**/\r\n    // vm.InvoiceDetail = localStorage.getItem('invoice_detail');\r\n    // if ((vm.InvoiceDetail == null) || (vm.InvoiceDetail == undefined) || (vm.InvoiceDetail == '')) {\r\n    //   $state.go('app.login');\r\n    // }\r\n\r\n    // to auto populate signup page\r\n    vm.InvoiceDetail = JSON.parse(localStorage.getItem('invoice_detail'));\r\n    vm.form = {}\r\n    try {\r\n      if (vm.InvoiceDetail != null) {\r\n        // $state.go('app.login');\r\n        vm.form.email = vm.InvoiceDetail.BillEmail.Address\r\n        vm.form.username = vm.InvoiceDetail.CustomerRef.name\r\n      }\r\n    } catch (err) {\r\n      //pass\r\n    }\r\n  }\r\n\r\n  function LoginController(api, $scope, Clique, $location, $rootScope, $cookieStore, $http, $window, $stateParams, InvoiceModel, $cookies, $state) {\r\n    // Data\r\n    $scope.showProgress = false;\r\n    var vm = this;\r\n    var appConfig = Clique.configApp();\r\n    $scope.appName = appConfig.appName;\r\n    $scope.appLogo = appConfig.appLogo;\r\n    var templates = [];\r\n    templates.push(appConfig.bgImg);\r\n    templates.push(appConfig.bgImg1);\r\n    templates.push(appConfig.bgImg2);\r\n\r\n    $scope.randomNumber = 1;\r\n    $scope.testDrive = false;\r\n    $scope.billCustomer = false;\r\n    $scope.invoicingApp = false;\r\n    getRandomInt(0, 2);\r\n\r\n\r\n    // var templates = [\r\n    //   'assets/images/backgrounds/registerbackground/new1.jpg',\r\n    //   'assets/images/backgrounds/registerbackground/new2.jpg',\r\n    //   'assets/images/backgrounds/registerbackground/new3.jpg',\r\n    // ];\r\n\r\n    function getRandomInt(min, max) {\r\n      $scope.randomNumber = Math.floor(Math.random() * (max - min + 1)) + min;\r\n    }\r\n    //alert(templates[2])\r\n    $scope.backGroundImage = templates[$scope.randomNumber];\r\n    //$scope.backGroundImage =\"assets/images/backgrounds/registerbackground/new2.jpg\";\r\n    if ($scope.randomNumber == 0) {\r\n      $scope.testDrive = true;\r\n    }\r\n    if ($scope.randomNumber == 1) {\r\n      $scope.billCustomer = true;\r\n    }\r\n    if ($scope.randomNumber == 2) {\r\n      $scope.invoicingApp = true;\r\n    }\r\n    vm.form = {\r\n      email: \"\",\r\n      password: \"\"\r\n    };\r\n    // vm.InvoiceDetail = localStorage.getItem('invoice_detail');\r\n    // if ((vm.InvoiceDetail != null) && (vm.InvoiceDetail != undefined) && (vm.InvoiceDetail != '')) {\r\n    //   vm.InvoiceDetail = JSON.parse(localStorage.getItem('invoice_detail'));\r\n    //   if ((vm.InvoiceDetail[0].BillEmail.Address != null) && (vm.InvoiceDetail[0].BillEmail.Address != undefined) && (vm.InvoiceDetail[0].BillEmail.Address != '')) {\r\n    //     vm.form.email = vm.InvoiceDetail[0].BillEmail.Address;\r\n    //   }\r\n    // }\r\n\r\n    var isCustomer = false;\r\n    // Methods\r\n    \r\n    $scope.submit = function () {\r\n      debugger;\r\n      $scope.showProgress = true;\r\n      var loginObj = {\r\n        username: vm.form.email,\r\n        password: vm.form.password\r\n      };\r\n\r\n      $scope.promise = InvoiceModel.Login(loginObj);\r\n     \r\n      $scope.promise.then(function (response) {\r\n        debugger;\r\n        console.log(response)\r\n        if (response.statuscode == 0) {\r\n       \r\n          isCustomer = response.data.is_customer\r\n         var isShowWizard =  response.data.show_wizard\r\n         localStorage.setItem('account_software',response.data.accounting_software)\r\n          if (isCustomer == true) {\r\n\r\n            sessionStorage.setItem('app_id', response.data.refapp_id);\r\n            localStorage.setItem('app_id', response.data.refapp_id);\r\n            localStorage.setItem('username', response.data.username);\r\n\r\n            //vm.InvoiceDetail = localStorage.getItem('invoice_detail');\r\n            getPaymentMethods();\r\n            if ((vm.InvoiceDetail != null) && (vm.InvoiceDetail != undefined) && (vm.InvoiceDetail != '')) {\r\n            \r\n              vm.InvoiceDetail = JSON.parse(localStorage.getItem('invoice_detail'));\r\n              $state.go('app.invoice-detail', {\r\n                id: vm.InvoiceDetail.DocNumber\r\n              });\r\n            }\r\n            localStorage.setItem('CUSTOMER_LIST', JSON.stringify(response.data.customerref));\r\n            localStorage.setItem('CURRENT_CUSTOMER', JSON.stringify(response.data.customerref[0]));\r\n            Clique.showToast(response.statusmessage, 'bottom right', \"success\");\r\n          } else {\r\n            var new_url = Clique.getServiceUrl().replace(/v1/g, '')\r\n\r\n            if(isShowWizard == true){\r\n              Clique.showToast(response.statusmessage, 'bottom right', \"success\"); \r\n              window.location = new_url + 'apps/wizard';\r\n             \r\n            }\r\n            else{\r\n              Clique.showToast(response.statusmessage, 'bottom right', \"success\");\r\n              window.location = new_url + 'apps/dashboard';\r\n             \r\n            }\r\n\r\n          \r\n          }\r\n        } else {\r\n          $scope.showProgress = false;\r\n          Clique.showToast(response.statusmessage, 'bottom right', \"error\");\r\n        }\r\n      });\r\n    };\r\n    //////////\r\n\r\n    function getPaymentMethods() {\r\n      $scope.promise = InvoiceModel.GetPaymentMethods();\r\n      $scope.promise.then(function (response) {\r\n        if (response.statuscode == 0) {\r\n          vm.paymentMethods = response.data.items;\r\n\r\n\r\n          angular.forEach(vm.paymentMethods, function (value, key) {\r\n\r\n            if (value.is_default == true) {\r\n              //console.log(value.is_default); \r\n              if (value.configuration.hasOwnProperty('supported_methods')) {\r\n                if (value.configuration.supported_methods.hasOwnProperty('ach')) {\r\n                  vm.isAchEnable = value.configuration.supported_methods.ach;\r\n                  //console.log(vm.isAchEnable);\r\n                  localStorage.setItem('is_ach_enable', vm.isAchEnable);\r\n\r\n                }\r\n              }\r\n            }\r\n          });\r\n        }\r\n\r\n      });\r\n\r\n    }\r\n\r\n  }\r\n\r\n  function ForgotPasswordController(api, $scope, Clique, $location, $rootScope, $cookieStore, $http, $window, $state, InvoiceModel) {\r\n    var vm = this;\r\n    $scope.showProgress = false;\r\n    var appConfig = Clique.configApp();\r\n    $scope.appName = appConfig.appName;\r\n    $scope.appLogo = appConfig.appLogo;\r\n    var templates = [];\r\n    templates.push(appConfig.bgImg);\r\n    templates.push(appConfig.bgImg1);\r\n    templates.push(appConfig.bgImg2);\r\n\r\n    getRandomInt(0, 2);\r\n    // var templates = [\r\n    //   'assets/images/backgrounds/registerbackground/forgetpassword1.jpg',\r\n    //   'assets/images/backgrounds/registerbackground/forgetpassword2.jpg',\r\n    //   'assets/images/backgrounds/registerbackground/forgetpassword3.jpg',\r\n    // ];\r\n\r\n    function getRandomInt(min, max) {\r\n      $scope.randomNumber = Math.floor(Math.random() * (max - min + 1)) + min;\r\n    }\r\n    //alert(templates[2])\r\n    $scope.backGroundImage = templates[$scope.randomNumber];\r\n    $scope.submit = function () {\r\n      $scope.showProgress = true;\r\n      //Clique.ClearCredentials();\r\n      var Params = {\r\n        email: vm.form.email\r\n      }\r\n      $scope.promise = InvoiceModel.ForgetPassword(Params);\r\n      $scope.promise.then(function (response) {\r\n        if (response.statuscode == 0) {\r\n          $scope.showProgress = false;\r\n          Clique.showToast(response.statusmessage, 'bottom right', \"success\");\r\n          $state.go(\"app.login\");\r\n        } else {\r\n          Clique.showToast(response.statusmessage, 'bottom right', \"error\");\r\n          $scope.showProgress = false;\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  function CustomerInvoicesController(api, $scope, $cookies, Clique, $location, $rootScope, $cookieStore, $http, $window, $filter, $state, InvoiceModel, msNavigationService, $timeout, $mdDialog, $document) {\r\n\r\n    $timeout(function () {\r\n      angular.element('.fold-toggle').triggerHandler('click');\r\n      angular.element('.fold-toggle').triggerHandler('click');\r\n    }, 1000);\r\n    // Data\r\n    var vm = this;\r\n    var date = new Date();\r\n    var firstDay = new Date(date.getFullYear(), date.getMonth(), 1);\r\n    vm.openInvoiceDetail = openInvoiceDetail;\r\n    vm.searchInvoice = searchInvoice;\r\n    vm.searchAdvance = searchAdvance;\r\n    vm.toolBarProcess = toolBarProcess;\r\n    vm.paymentInvoice = paymentInvoice;\r\n    $scope.searchingstatus = 'all';\r\n    //$rootScope.foldedLeftPannel = false;\r\n    $rootScope.title = \"Invoices\";\r\n    $scope.showProgressbar = false;\r\n    $scope.enableAdvanceSearch = false;\r\n    $scope.contentPage = false;\r\n    $scope.paid = '';\r\n    $scope.due = '';\r\n    $scope.overdue = '';\r\n\r\n\r\n    $rootScope.sendmessage = function (ev) {\r\n      $mdDialog.show({\r\n        controller: 'ComposeController',\r\n        controllerAs: 'vm',\r\n        templateUrl: 'app/main/account/compose-dialog.html',\r\n        parent: angular.element($document.body),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true\r\n      });\r\n    }\r\n\r\n    $scope.from_date = firstDay;\r\n    $scope.to_date = new Date();\r\n\r\n    $scope.currentCustomerInfo = JSON.parse(localStorage.getItem('CURRENT_CUSTOMER'));\r\n    vm.selectedCustomerID = $scope.currentCustomerInfo.customer_id;\r\n    vm.query = {\r\n      device_type: 'web',\r\n      status: $scope.searchingstatus,\r\n      limit: 100,\r\n      order: '-TxnDate',\r\n      customer: vm.selectedCustomerID,\r\n      page: 1\r\n    };\r\n    $scope.invoiceSelection = [];\r\n    $scope.selected = [];\r\n\r\n    function toolBarProcess() {\r\n      //alert(1);\r\n      $scope.selectedInvoiceData = [];\r\n      $scope.selectedCustomer = [];\r\n\r\n      if ($scope.invoiceSelection.length > 0) {\r\n        angular.forEach($scope.invoiceSelection, function (invoice_id, key) {\r\n          var filteredInvoice = $filter('filter')(vm.InvoiceData, {\r\n            'Id': invoice_id\r\n          }, true)[0];\r\n          $scope.selectedInvoiceData.push(filteredInvoice);\r\n\r\n          var customer_id = filteredInvoice.CustomerRef.value;\r\n          if (customer_id != undefined) {\r\n            if ($scope.selectedCustomer.indexOf(customer_id) == -1) {\r\n              $scope.selectedCustomer.push(customer_id);\r\n            }\r\n          }\r\n\r\n        });\r\n        $scope.showInvoiceToolBar = true;\r\n\r\n      } else {\r\n        $scope.showInvoiceToolBar = false;\r\n      }\r\n      // to hide invoice link and collect payment            \r\n      // $scope.showInvoiceLink = false;\r\n      // $scope.showInvoicePaymentButton = false;\r\n      if ($scope.selectedCustomer.length == 1 && $scope.selectedInvoiceData[0].IsPaid != 1) {\r\n        // $scope.showInvoiceLink = true;\r\n        $scope.showInvoicePaymentButton = true;\r\n      }\r\n      // if ($scope.invoiceSelection.length > 1) {\r\n      //   $scope.showInvoiceLink = false;\r\n      // }\r\n      // $scope.showInvoiceEmailToolBar = false;\r\n      // if ($scope.selectedInvoiceData.length == 1) {\r\n      //   $scope.showInvoiceEmailToolBar = true;\r\n      // }\r\n      // // console.log(\"length\", $scope.selectedInvoiceData.length)\r\n      // $scope.showRecurringToolBar = false;\r\n      // if ($scope.invoiceSelection.length == 1) {\r\n      //   $scope.showRecurringToolBar = true;\r\n      // }\r\n      // $scope.showBatchInvoices = false;\r\n      // if ($scope.invoiceSelection.length >= 1) {\r\n      //   $scope.showBatchInvoices = true;\r\n      // }\r\n\r\n    }\r\n\r\n    function paymentInvoice() {\r\n      $rootScope.dataObj = {};\r\n      $rootScope.dataObj = $scope.selectedInvoiceData;\r\n      $state.go(\"app.invoice-payment\");\r\n    }\r\n\r\n    function searchInvoice() {\r\n      vm.query.from = $filter('date')($scope.from_date, \"yyyy-MM-dd\");\r\n      vm.query.to = $filter('date')($scope.to_date, \"yyyy-MM-dd\");\r\n      vm.query.customer = vm.selectedCustomerID;\r\n      vm.query.device_type = 'web';\r\n      vm.query.status = $scope.searchingstatus;\r\n      $scope.showProgressbar = true;\r\n\r\n      vm.promise = InvoiceModel.GetAllInvoice(vm.query);\r\n\r\n      vm.promise.then(function (response) {\r\n        if (response.statuscode == 0) {\r\n          vm.invoices = response.data;\r\n          //vm.products = response.data;\r\n          vm.InvoiceData = vm.invoices.items;\r\n          $scope.showProgressbar = false;\r\n        } else {\r\n          Clique.showToast(response.statusmessage, 'bottom right', 'error');\r\n          $scope.showProgressbar = false;\r\n        }\r\n      });\r\n\r\n    }\r\n\r\n    function searchAdvance() {\r\n      $scope.enableAdvanceSearch = true;\r\n    }\r\n\r\n    function getInvoices() {\r\n      vm.query.from = $filter('date')($scope.from_date, \"yyyy-MM-dd\");\r\n      vm.query.to = $filter('date')($scope.to_date, \"yyyy-MM-dd\");\r\n      vm.promise = InvoiceModel.GetAllInvoice(vm.query);\r\n      vm.promise.then(function (response) {\r\n        if (response.statuscode == 0) {\r\n          vm.invoices = response.data;\r\n          //vm.products = response.data;\r\n          vm.InvoiceData = vm.invoices.items;\r\n          //console.log(vm.invoices.statistics);\r\n          $scope.paid = vm.invoices.statistics.paid;\r\n\r\n          $scope.due = vm.invoices.statistics.due;\r\n          $scope.overdue = vm.invoices.statistics.overdue;\r\n          $timeout(function () {\r\n            $scope.contentPage = true;\r\n          }, 900);\r\n        } else {\r\n          Clique.showToast(response.statusmessage, 'bottom right', 'error');\r\n        }\r\n      });\r\n    }\r\n    getInvoices();\r\n\r\n\r\n\r\n    function openInvoiceDetail(invoice) {\r\n      var invoice_status = '';\r\n      if (invoice.Balance == 0) {\r\n        invoice_status = 'paid';\r\n      } else {\r\n        invoice_status = 'unpaid';\r\n      }\r\n      var invoice_details = [];\r\n      invoice_details.push(invoice);\r\n      sessionStorage.setItem('invoice_detail', JSON.stringify(invoice_details));\r\n      localStorage.setItem('invoice_detail', JSON.stringify(invoice_details));\r\n      $state.go('app.invoice-detail', {\r\n        id: invoice.DocNumber\r\n      });\r\n\r\n    }\r\n\r\n\r\n\r\n  }\r\n  function InvoicesPaymentController(api, $scope, $cookies, Clique, $location, $rootScope, $cookieStore, $http, $window, $filter, $state, InvoiceModel, msNavigationService, $timeout, $mdDialog, $document) {\r\n\r\n    $timeout(function () {\r\n      angular.element('.fold-toggle').triggerHandler('click');\r\n      angular.element('.fold-toggle').triggerHandler('click');\r\n    }, 1000);\r\n    // Data\r\n    var vm = this;\r\n    var date = new Date();\r\n    var firstDay = new Date(date.getFullYear(), date.getMonth(), 1);\r\n    vm.openInvoiceDetail = openInvoiceDetail;\r\n    vm.searchInvoice = searchInvoice;\r\n    vm.searchAdvance = searchAdvance;\r\n    vm.toolBarProcess = toolBarProcess;\r\n    vm.paymentInvoice = paymentInvoice;\r\n    $scope.searchingstatus = 'all';\r\n    //$rootScope.foldedLeftPannel = false;\r\n    $rootScope.title = \"Invoices\";\r\n    $scope.showProgressbar = false;\r\n    $scope.enableAdvanceSearch = false;\r\n    $scope.contentPage = false;\r\n    $scope.paid = '';\r\n    $scope.due = '';\r\n    $scope.overdue = '';\r\n\r\n\r\n    $rootScope.sendmessage = function (ev) {\r\n      $mdDialog.show({\r\n        controller: 'ComposeController',\r\n        controllerAs: 'vm',\r\n        templateUrl: 'app/main/account/compose-dialog.html',\r\n        parent: angular.element($document.body),\r\n        targetEvent: ev,\r\n        clickOutsideToClose: true\r\n      });\r\n    }\r\n\r\n    $scope.from_date = firstDay;\r\n    $scope.to_date = new Date();\r\n\r\n    $scope.currentCustomerInfo = JSON.parse(localStorage.getItem('CURRENT_CUSTOMER'));\r\n    vm.selectedCustomerID = $scope.currentCustomerInfo.customer_id;\r\n    vm.query = {\r\n      device_type: 'web',\r\n      status: $scope.searchingstatus,\r\n      limit: 100,\r\n      order: '-TxnDate',\r\n      customer: vm.selectedCustomerID,\r\n      page: 1\r\n    };\r\n    $scope.invoiceSelection = [];\r\n    $scope.selected = [];\r\n\r\n    function toolBarProcess() {\r\n      //alert(1);\r\n      $scope.selectedInvoiceData = [];\r\n      $scope.selectedCustomer = [];\r\n\r\n      if ($scope.invoiceSelection.length > 0) {\r\n        angular.forEach($scope.invoiceSelection, function (invoice_id, key) {\r\n          var filteredInvoice = $filter('filter')(vm.InvoiceData, {\r\n            'Id': invoice_id\r\n          }, true)[0];\r\n          $scope.selectedInvoiceData.push(filteredInvoice);\r\n\r\n          var customer_id = filteredInvoice.CustomerRef.value;\r\n          if (customer_id != undefined) {\r\n            if ($scope.selectedCustomer.indexOf(customer_id) == -1) {\r\n              $scope.selectedCustomer.push(customer_id);\r\n            }\r\n          }\r\n\r\n        });\r\n        $scope.showInvoiceToolBar = true;\r\n\r\n      } else {\r\n        $scope.showInvoiceToolBar = false;\r\n      }\r\n      // to hide invoice link and collect payment            \r\n      // $scope.showInvoiceLink = false;\r\n      // $scope.showInvoicePaymentButton = false;\r\n      if ($scope.selectedCustomer.length == 1 && $scope.selectedInvoiceData[0].IsPaid != 1) {\r\n        // $scope.showInvoiceLink = true;\r\n        $scope.showInvoicePaymentButton = true;\r\n      }\r\n      // if ($scope.invoiceSelection.length > 1) {\r\n      //   $scope.showInvoiceLink = false;\r\n      // }\r\n      // $scope.showInvoiceEmailToolBar = false;\r\n      // if ($scope.selectedInvoiceData.length == 1) {\r\n      //   $scope.showInvoiceEmailToolBar = true;\r\n      // }\r\n      // // console.log(\"length\", $scope.selectedInvoiceData.length)\r\n      // $scope.showRecurringToolBar = false;\r\n      // if ($scope.invoiceSelection.length == 1) {\r\n      //   $scope.showRecurringToolBar = true;\r\n      // }\r\n      // $scope.showBatchInvoices = false;\r\n      // if ($scope.invoiceSelection.length >= 1) {\r\n      //   $scope.showBatchInvoices = true;\r\n      // }\r\n\r\n    }\r\n\r\n    function paymentInvoice() {\r\n      $rootScope.dataObj = {};\r\n      $rootScope.dataObj = $scope.selectedInvoiceData;\r\n      $state.go(\"app.invoice-payment\");\r\n    }\r\n\r\n    function searchInvoice() {\r\n      vm.query.from = $filter('date')($scope.from_date, \"yyyy-MM-dd\");\r\n      vm.query.to = $filter('date')($scope.to_date, \"yyyy-MM-dd\");\r\n      vm.query.customer = vm.selectedCustomerID;\r\n      vm.query.device_type = 'web';\r\n      vm.query.status = $scope.searchingstatus;\r\n      $scope.showProgressbar = true;\r\n\r\n      vm.promise = InvoiceModel.GetAllInvoice(vm.query);\r\n\r\n      vm.promise.then(function (response) {\r\n        if (response.statuscode == 0) {\r\n          vm.invoices = response.data;\r\n          //vm.products = response.data;\r\n          vm.InvoiceData = vm.invoices.items;\r\n          $scope.showProgressbar = false;\r\n        } else {\r\n          Clique.showToast(response.statusmessage, 'bottom right', 'error');\r\n          $scope.showProgressbar = false;\r\n        }\r\n      });\r\n\r\n    }\r\n\r\n    function searchAdvance() {\r\n      $scope.enableAdvanceSearch = true;\r\n    }\r\n\r\n    function getInvoices() {\r\n      vm.query.from = $filter('date')($scope.from_date, \"yyyy-MM-dd\");\r\n      vm.query.to = $filter('date')($scope.to_date, \"yyyy-MM-dd\");\r\n      vm.promise = InvoiceModel.GetAllInvoice(vm.query);\r\n      vm.promise.then(function (response) {\r\n        if (response.statuscode == 0) {\r\n          vm.invoices = response.data;\r\n          //vm.products = response.data;\r\n          vm.InvoiceData = vm.invoices.items;\r\n          //console.log(vm.invoices.statistics);\r\n          $scope.paid = vm.invoices.statistics.paid;\r\n\r\n          $scope.due = vm.invoices.statistics.due;\r\n          $scope.overdue = vm.invoices.statistics.overdue;\r\n          $timeout(function () {\r\n            $scope.contentPage = true;\r\n          }, 900);\r\n        } else {\r\n          Clique.showToast(response.statusmessage, 'bottom right', 'error');\r\n        }\r\n      });\r\n    }\r\n    getInvoices();\r\n\r\n\r\n\r\n    function openInvoiceDetail(invoice) {\r\n      var invoice_status = '';\r\n      if (invoice.Balance == 0) {\r\n        invoice_status = 'paid';\r\n      } else {\r\n        invoice_status = 'unpaid';\r\n      }\r\n      var invoice_details = [];\r\n      invoice_details.push(invoice);\r\n      sessionStorage.setItem('invoice_detail', JSON.stringify(invoice_details));\r\n      localStorage.setItem('invoice_detail', JSON.stringify(invoice_details));\r\n      $state.go('app.invoice-detail', {\r\n        id: invoice.DocNumber\r\n      });\r\n\r\n    }\r\n\r\n\r\n\r\n  }\r\n\r\n  function ReceiptsController(api, $scope, Clique, $location, $rootScope, $cookieStore, $http, $window, $filter, $state, InvoiceModel, msNavigationService, $timeout) {\r\n\r\n    $timeout(function () {\r\n      angular.element('.fold-toggle').triggerHandler('click');\r\n      angular.element('.fold-toggle').triggerHandler('click');\r\n    }, 1000);\r\n    // Data\r\n    var vm = this;\r\n    var date = new Date();\r\n    var firstDay = new Date(date.getFullYear(), date.getMonth(), 1);\r\n    vm.openInvoiceDetail = openInvoiceDetail;\r\n    vm.searchTransactions = searchTransactions;\r\n    vm.printTransaction = printTransaction;\r\n    vm.downloadReport = downloadReport;\r\n\r\n    vm.searchAdvance = searchAdvance;\r\n    $scope.searchingstatus = 'all';\r\n    //$rootScope.foldedLeftPannel = false;\r\n    $rootScope.title = \"Invoices\";\r\n    $scope.showProgressbar = false;\r\n    vm.invoiceSelectAction = false;\r\n    $scope.enableAdvanceSearch = false;\r\n    $scope.contentPage = false;\r\n    $scope.paid = '';\r\n    $scope.due = '';\r\n    $scope.overdue = '';\r\n    $scope.transSelection = [];\r\n    $scope.searching = {\r\n      amount_from: \"\",\r\n      amount_to: \"\",\r\n      customer: \"\",\r\n      status: \"\"\r\n\r\n    };\r\n\r\n    $scope.isOpen = false;\r\n    $scope.selectedDirection = 'up';\r\n    $scope.selectedMode = 'md-scale';\r\n\r\n\r\n    $rootScope.companyInfo = localStorage.getItem(\"companyinfo\");\r\n    $rootScope.companyInfo = JSON.parse($rootScope.companyInfo);\r\n\r\n\r\n\r\n    $scope.from_date = firstDay;\r\n    $scope.to_date = new Date();\r\n\r\n    $scope.currentCustomerInfo = JSON.parse(localStorage.getItem('CURRENT_CUSTOMER'));\r\n    vm.userName = localStorage.getItem('username');\r\n\r\n    vm.selectedCustomerID = $scope.currentCustomerInfo.customer_id;\r\n    vm.query = {\r\n      status: $scope.searchingstatus,\r\n      limit: 100,\r\n      order: '-TxnDate',\r\n      customer_id: vm.selectedCustomerID,\r\n      page: 1,\r\n      amount_from: \"\",\r\n      amount_to: \"\",\r\n      device_type: 'web',\r\n    };\r\n\r\n    function searchTransactions() {\r\n      vm.query.from = $filter('date')($scope.from_date, \"yyyy-MM-dd\");\r\n      vm.query.to = $filter('date')($scope.to_date, \"yyyy-MM-dd\");\r\n      vm.query.amount_from = $scope.searching.amount_from;\r\n      vm.query.amount_to = $scope.searching.amount_to;\r\n      if ($scope.searching.status == '') {\r\n        vm.query.status = \"approved\"\r\n      } else {\r\n        vm.query.status = $scope.searching.status;\r\n      }\r\n      $scope.showProgressbar = true;\r\n\r\n      vm.promise = InvoiceModel.searchTransaction(vm.query);\r\n      vm.promise.then(function (response) {\r\n        if (response.statuscode == 0) {\r\n          vm.invoices = response.data;\r\n          vm.InvoiceData = vm.invoices.items;\r\n          $scope.showProgressbar = false;\r\n          $timeout(function () {\r\n            $scope.contentPage = true;\r\n          }, 900);\r\n          $scope.transSelection = [];\r\n        } else {\r\n          Clique.showToast(response.statusmessage, 'bottom right', 'error');\r\n          $scope.showProgressbar = false;\r\n          $scope.transSelection = [];\r\n        }\r\n      });\r\n\r\n    }\r\n\r\n    function GetTransactions() {\r\n      searchTransactions()\r\n    }\r\n    GetTransactions();\r\n    GetInvoiceDetail();\r\n\r\n    function GetInvoiceDetail() {\r\n      $scope.promise = InvoiceModel.GetInvoiceDetails();\r\n      $scope.promise.then(function (response) {\r\n        if (response.statuscode == 0) {\r\n          var data = response.data;\r\n          vm.company = data.company;\r\n          $rootScope.companyInfo = vm.company;\r\n          localStorage.setItem('companyinfo', JSON.stringify($rootScope.companyInfo));\r\n        }\r\n      })\r\n    }\r\n\r\n    function printTransaction() {\r\n      var transDetails = '';\r\n      angular.forEach($scope.transSelection, function (value, key) {\r\n        var payment_data = value.payment_data;\r\n\r\n        if (value.trans_type != undefined) {\r\n          transDetails += '<tr>' +\r\n            '<td align=\"left\" width=\"50%\">Trans. Type:</td>' +\r\n            '<td width=\"50%\" class=\"ng-binding\">' + transactionType(value.trans_type) + '</td>' +\r\n            '</tr>';\r\n        }\r\n\r\n        if (value.customer_name != undefined) {\r\n          transDetails += '<tr>' +\r\n            '<td align=\"left\" width=\"50%\">Customer Name:</td>' +\r\n            '<td width=\"50%\" class=\"ng-binding\" style=\"text-transform: capitalize\">' + value.customer_name + '</td>' +\r\n            '</tr>' +\r\n            '<tr>';\r\n        }\r\n        if (value.trans_timestamp != undefined) {\r\n          transDetails += '<tr>' +\r\n            '<td align=\"left\">Trans. Date:</td>' +\r\n            '<td class=\"ng-binding\">' + timeConverter(value.trans_timestamp) + '</td>' +\r\n            '</tr>';\r\n        }\r\n        if (value.trans_amount != undefined) {\r\n          transDetails += '<tr>' +\r\n            '<td align=\"left\">Trans. Amount:</td>' +\r\n            '<td class=\"ng-binding\">$' + parseFloat(value.trans_amount).toFixed(2) + '</td>' +\r\n            '</tr>';\r\n        }\r\n        if (value.invoice_no != undefined) {\r\n          transDetails += '<tr>' +\r\n            '<td align=\"left\">Inv/Sale #:</td>' +\r\n            '<td class=\"ng-binding\">' + value.invoice_no + '</td>' +\r\n            '</tr>';\r\n        }\r\n        if (value.status != undefined) {\r\n          transDetails += '<tr>' +\r\n            '<td align=\"left\">Trans. Status:</td>' +\r\n            '<td class=\"ng-binding\" style=\"text-transform:capitalize;\">' + value.status + '</td>' +\r\n            '</tr>';\r\n        }\r\n        if (value.trans_type == \"sale\") {\r\n\r\n          transDetails += '<tr aria-hidden=\"true\" class=\"ng-hide\" style=\"\">' +\r\n            '<td align=\"left\">Card #:</td>' +\r\n            '<td class=\"ng-binding\">xxxxxxxxxxxx' + value.last4digit + '</td>' +\r\n            '</tr>' +\r\n            '<tr aria-hidden=\"true\" class=\"ng-hide\">' +\r\n            '<td align=\"left\">Card Type:</td>' +\r\n            '<td class=\"ng-binding\">' + value.cardtype + '</td>' +\r\n            '</tr>' +\r\n            '<tr aria-hidden=\"true\" class=\"ng-hide\">' +\r\n            '<td align=\"left\">Card Holder:</td>' +\r\n            '<td class=\"ng-binding\" style=\"text-transform:capitalize;\">' + value.cardholder_name + '</td>' +\r\n            '</tr>';\r\n        }\r\n        if (payment_data.retref != undefined) {\r\n          transDetails += '<tr>' +\r\n            '<td align=\"left\">Ref ID:</td>' +\r\n            '<td class=\"ng-binding\">' + payment_data.retref + '</td>' +\r\n            '</tr>' +\r\n            '<tr>';\r\n\r\n        }\r\n        if (payment_data.authcode != undefined) {\r\n          transDetails += '<tr>' +\r\n            '<td align=\"left\">Auth Response:</td>' +\r\n            '<td class=\"ng-binding\">' + value.authcode + '</td>' +\r\n            '</tr>' +\r\n            '<tr><td colspan=\"2\"><hr></td></tr>';\r\n        }\r\n      });\r\n\r\n      var popupWin = window.open('', '_blank', '');\r\n      popupWin.document.open();\r\n      var printContent = '<div class=\"md-dialog-content print_receipt\"><table id=\"print_receipt\" width=\"350px\">' +\r\n        '<tbody><tr>' +\r\n        '<td colspan=\"2\" align=\"center\"><img src=\"' + $rootScope.companyInfo.logo + '\" height=\"80\"></td>' +\r\n        '</tr> ' +\r\n        '<tr>' +\r\n        '<td colspan=\"2\">' +\r\n        '<p align=\"center\" class=\"ng-binding\">' +\r\n        '<strong class=\"ng-binding\">' + $rootScope.companyInfo.name + '</strong><br>' +\r\n        $rootScope.companyInfo.address1 + '<br>' +\r\n        $rootScope.companyInfo.city + $rootScope.companyInfo.state + $rootScope.companyInfo.zipcode + '<br>' +\r\n        'Phone: ' + $rootScope.companyInfo.phone +\r\n        '</p>' +\r\n        '</td>' +\r\n        '</tr> ' +\r\n        transDetails +\r\n        '<tr>' +\r\n        '<td colspan=\"2\">' +\r\n        '<p align=\"center\">' +\r\n        'Thank You<br>' +\r\n        '*****************************<br>' +\r\n        'Powered By<br>' +\r\n        'CliquePayments Inc<br>' +\r\n        '(www.cliquepayments.com)' +\r\n        '</p>' +\r\n        '</td>' +\r\n        '</tr>' +\r\n        '</tbody></table>' +\r\n        '</div>';\r\n\r\n      popupWin.document.write('<html><head></head><body>' + printContent + '</body></html>');\r\n      popupWin.document.close();\r\n\r\n      popupWin.moveTo(0, 0);\r\n      popupWin.resizeTo(screen.width, screen.height);\r\n      $(popupWin.window).on(\"load\", function () {\r\n        popupWin.print();\r\n        popupWin.close();\r\n      });\r\n    }\r\n\r\n    function downloadReport() {\r\n      $scope.selectedTransId = [];\r\n      angular.forEach($scope.transSelection, function (value, key) {\r\n        $scope.selectedTransId.push(value.trans_id);\r\n      });\r\n\r\n      vm.query.from = $filter('date')($scope.from_date, \"yyyy-MM-dd\");\r\n      vm.query.to = $filter('date')($scope.to_date, \"yyyy-MM-dd\");\r\n      // vm.query.customerName = $scope.searching.customer;\r\n      vm.query.customer_id = vm.selectedCustomerID;\r\n      vm.query.amount_from = $scope.searching.amount_from;\r\n      vm.query.amount_to = $scope.searching.amount_to;\r\n      vm.query.status = $scope.searching.status;\r\n      vm.query.limit = 100;\r\n      vm.query.order = '-TxnDate';\r\n      vm.query.page = 1;\r\n      vm.query.t_ids = $scope.selectedTransId;\r\n\r\n      var serviceurl = Clique.getServiceUrl();\r\n      var endPoint = \"/transaction/receiptdownload/?\";\r\n      vm.params = \"from=\" + vm.query.from + \"&to=\" + vm.query.to + \"&customer_id=\" + vm.query.customer + \"&amount_from=\" + vm.query.amount_from + \"&amount_to=\" + vm.query.amount_to + \"&status=\" + vm.query.status + \"&limit=\" + vm.query.limit + \"&order=\" + vm.query.order + \"&page=\" + vm.query.page + \"&t_ids=\" + vm.query.t_ids;\r\n      var url = serviceurl + endPoint + vm.params\r\n      $http({\r\n        method: 'GET',\r\n        url: url,\r\n        responseType: \"arraybuffer\"\r\n      }).then(function (response) {\r\n        var blob = new Blob([response.data], {\r\n          type: \"application/pdf\",\r\n        });\r\n        var fileURL = URL.createObjectURL(blob);\r\n        var a = document.createElement('a');\r\n        a.href = fileURL;\r\n        a.target = '_blank';\r\n        a.download = 'receipts.pdf';\r\n        document.body.appendChild(a);\r\n        a.click();\r\n      });\r\n    }\r\n\r\n    function searchAdvance() {\r\n      $scope.enableAdvanceSearch = true;\r\n    }\r\n\r\n    function openInvoiceDetail(invoice) {\r\n      var invoice_status = '';\r\n      if (invoice.Balance == 0) {\r\n        invoice_status = 'paid';\r\n      } else {\r\n        invoice_status = 'unpaid';\r\n      }\r\n      sessionStorage.setItem('invoice_detail', JSON.stringify(invoice));\r\n      $state.go('app.invoice-detail', {\r\n        id: invoice.DocNumber\r\n      });\r\n\r\n    }\r\n\r\n    function timeConverter(UNIX_timestamp) {\r\n      var a = new Date(UNIX_timestamp * 1000);\r\n      var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\r\n      var year = a.getFullYear();\r\n      var month = months[a.getMonth()];\r\n      var date = a.getDate();\r\n      var hour = a.getHours();\r\n      var min = a.getMinutes();\r\n\r\n\r\n      var ampm = hour >= 12 ? 'pm' : 'am';\r\n      hour = hour % 12;\r\n      hour = hour ? hour : 12; // the hour '0' should be '12'\r\n      min = min < 10 ? '0' + min : min;\r\n\r\n      var sec = a.getSeconds();\r\n      var time = date + ' ' + month + ' ' + year + ' ' + hour + ':' + min + ':' + sec + \" \" + ampm;\r\n      return time;\r\n    }\r\n\r\n    function transactionType(value) {\r\n      var trans_type = \"\";\r\n      switch (value) {\r\n        case \"sale\":\r\n          trans_type = \"Sale\";\r\n          break;\r\n        case \"void\":\r\n          trans_type = \"Void\";\r\n          break;\r\n        case \"refund\":\r\n          trans_type = \"Refund\";\r\n          break;\r\n        case \"profile_delete\":\r\n          trans_type = \"Profile Delete\";\r\n          break;\r\n        case \"profile_update\":\r\n          trans_type = \"Profile Update\";\r\n          break;\r\n        case \"profile_refund\":\r\n          trans_type = \"Profile Refund\";\r\n          break;\r\n        case \"profile_void\":\r\n          trans_type = \"Profile Void\";\r\n          break;\r\n        case \"profile_sale\":\r\n          trans_type = \"Profile Sale\";\r\n          break;\r\n        case \"bolt_sale\":\r\n          trans_type = \"Bolt Sale\";\r\n          break;\r\n        case \"cash\":\r\n          trans_type = \"Cash\";\r\n          break;\r\n        case \"ach_sale\":\r\n          trans_type = \"Ach Sale\";\r\n          break;\r\n        case \"triposipp350_credit\":\r\n          trans_type = \"Tripos Credit\";\r\n          break;\r\n        case \"triposipp350_debit\":\r\n          trans_type = \"Tripos Debit\";\r\n          break;\r\n        case \"triposipp350_gift\":\r\n          trans_type = \"Tripos Gift\";\r\n          break\r\n      }\r\n      return trans_type;\r\n\r\n    }\r\n  }\r\n\r\n\r\n  function InvoicesDetailController(api, $scope, $timeout, Clique, $location, $rootScope, $cookieStore, $http, $window, $filter, $httpParamSerializer, $stateParams, InvoiceModel, $mdDialog, $state) {\r\n\r\n    // Data\r\n    var vm = this;\r\n\r\n    $timeout(function () {\r\n      angular.element('.fold-toggle').triggerHandler('click');\r\n    }, 1000);\r\n    $timeout(function () {\r\n      $(document).ready(function () {\r\n        $(\"#transamount\").focus();\r\n        $(\"#transamount\").click();\r\n\r\n      });\r\n    }, 3000);\r\n\r\n\r\n\r\n\r\n    vm.showProgress = true;\r\n    vm.showContent = false;\r\n    $scope.showCCField = true;\r\n    $scope.showACHField = true;\r\n    $scope.showCCDiv = true;\r\n    $scope.showACHDiv = false;\r\n    $scope.IsSubmit = true;\r\n    $scope.ccprofile = {};\r\n    $scope.achprofile = {};\r\n    $scope.usedCardProfile = false;\r\n    $scope.isCCRequired = true;\r\n    $scope.isACHRequired = true;\r\n    $scope.isProfile = false;\r\n    $scope.ProfileId = \"\";\r\n    $scope.ACHProfileId = \"\";\r\n    $scope.TransType = \"sale\";\r\n    $scope.AchtransType = \"ach_sale\";\r\n    $scope.buttonDisable = false;\r\n    vm.isAchEnable = false;\r\n    vm.transamount = \"\";\r\n\r\n\r\n    $scope.checkoutFormCustomer = 'form.checkoutFormCustomer';\r\n    //vm.invoice_id = $stateParams.id;\r\n    //var template_id = localStorage.getItem(\"template_id\");\r\n    //var template_color = localStorage.getItem(\"template_color\");\r\n    var invoice_detail = sessionStorage.getItem(\"invoice_detail\");\r\n    invoice_detail = JSON.parse(invoice_detail);\r\n    invoice_detail = invoice_detail[0];\r\n    vm.invoice_id = invoice_detail.Id;\r\n    vm.Balance = invoice_detail.Balance;\r\n    vm.transamount = invoice_detail.Balance;\r\n    vm.customerName = invoice_detail.CustomerRef.name;\r\n    vm.customerID = invoice_detail.CustomerRef.value;\r\n    vm.customerEmail = '';\r\n\r\n\r\n    if (invoice_detail.BillEmail != null) {\r\n      vm.customerEmail = invoice_detail.BillEmail.Address;\r\n    }\r\n    $scope.ccinfo = {\r\n      type: undefined\r\n    };\r\n    vm.invoiceBalance = vm.Balance;\r\n    vm.form = {};\r\n    if (vm.Balance == 0) {\r\n      $scope.invoiceTemplateWidth = 100;\r\n    } else {\r\n      $scope.invoiceTemplateWidth = 70;\r\n    }\r\n    //alert($scope.invoiceTemplateWidth);\r\n    $rootScope.title = \"Invoice Details\";\r\n    //$rootScope.foldedLeftPannel = true;\r\n    //console.log(invoice_detail.Balance);\r\n\r\n    ////////////////////////////////////////////////////////\r\n    /////// Check ACH Enable or NOT ///////////////////////\r\n    vm.checkAchEnable = localStorage.getItem('is_ach_enable');\r\n\r\n    //console.log(vm.checkAchEnable);\r\n    if ((vm.checkAchEnable != null) && (vm.checkAchEnable != undefined) && (vm.checkAchEnable != '')) {\r\n      vm.isAchEnable = vm.checkAchEnable;\r\n    }\r\n\r\n    $scope.IsDefaultTemplate = false\r\n\r\n    function getSettings() {\r\n      $scope.promise = InvoiceModel.GetSettings();\r\n      $scope.promise.then(function (response) {\r\n        if (response.statuscode == 0) {\r\n          $scope.settings = response.data;\r\n          $scope.IsDefaultTemplate = $scope.settings.IsDefaultTemplate;\r\n\r\n          if ($scope.IsDefaultTemplate == true || $scope.IsDefaultTemplate == undefined) {\r\n            displayPDF(vm.invoice_id)\r\n          } else {\r\n            displayTemplate(vm.invoice_id)\r\n          }\r\n        } else {}\r\n      });\r\n    }\r\n    getSettings();\r\n\r\n    function displayPDF(invoice_id) {\r\n      $scope.src = null\r\n      var url = Clique.getServiceUrl()\r\n      $http.get(url + \"/erp/quickbooks/invoice/preview/?invoice_id=\" + invoice_id, {\r\n          responseType: 'arraybuffer'\r\n        })\r\n        .then(function (response) {\r\n          $scope.src = new Uint8Array(response.data);\r\n\r\n          // $timeout(function () {\r\n          vm.showProgress = false;\r\n          vm.showContent = true;\r\n          // }, 1200);\r\n\r\n          // $scope.showProgress = false;\r\n          // $scope.displayPaidStamp = true\r\n          // if ($scope.isInvoicePaid == false) {\r\n          //   $scope.fabMenu = true;\r\n          // }\r\n\r\n\r\n        }, function (error) {});\r\n    }\r\n\r\n    function displayTemplate(invoice_id) {\r\n      $scope.promise = InvoiceModel.GetInvoiceTemplate(invoice_id);\r\n      $scope.promise.then(function (response) {\r\n        // invoiceTemplate = response;\r\n        $(\"#invoice_detail\").html('');\r\n        $(\"#invoice_detail\").append(response);\r\n        // $timeout(function () {\r\n        vm.showProgress = false;\r\n        vm.showContent = true;\r\n        // }, 1200);\r\n      });\r\n    }\r\n\r\n    // $scope.promise = InvoiceModel.GetInvoiceTemplate(vm.invoice_id);\r\n    // $scope.promise.then(function (response) {\r\n    //   $(\"#invoice_detail\").html('');\r\n    //   $(\"#invoice_detail\").append(response);\r\n    //   $timeout(function () {\r\n    //     vm.showProgress = false;\r\n    //     vm.showContent = true;\r\n    //   }, 1200);\r\n    // });\r\n\r\n    $scope.changePaymentMode = function (value) {\r\n      if (value == true) {\r\n        $scope.showCCDiv = false;\r\n        $scope.showACHDiv = true;\r\n      } else {\r\n        $scope.showCCDiv = true;\r\n        $scope.showACHDiv = false;\r\n\r\n      }\r\n    };\r\n    /************************************/\r\n    /*************Is Save Profile*******/\r\n\r\n    $scope.isSaveProfile = function (value) {\r\n      $scope.isProfile = value;\r\n    };\r\n\r\n    /////////////////////////////////////////\r\n    ////////////// Year Drop Down //////////\r\n    vm.year = new Date().getFullYear();\r\n    vm.range = [];\r\n    vm.range.push(vm.year);\r\n    for (var i = 1; i < 15; i++) {\r\n      vm.range.push(vm.year + i);\r\n    }\r\n    vm.years = vm.range;\r\n    //vm.getTotalAmount=getTotalAmount;\r\n    ////////////////////////////////////////////\r\n    ///////////// Month Dropdown //////////////\r\n    vm.month = [];\r\n    for (var i = 1; i < 13; i++) {\r\n      if (i <= 9) {\r\n        vm.month.push(\"0\" + i);\r\n      } else {\r\n        vm.month.push(i);\r\n      }\r\n    }\r\n    ///////////////////////////////////////////////////\r\n    ///////////// Get Customer Dropdown //////////////\r\n\r\n\r\n    $scope.currentCustomerInfo = JSON.parse(localStorage.getItem('CURRENT_CUSTOMER'));\r\n    vm.customerId = $scope.currentCustomerInfo.customer_id;\r\n    getProfileList();\r\n\r\n    function getProfileList() {\r\n      $scope.showProgress = true;\r\n      $scope.promise = InvoiceModel.ProfileGet({\r\n        customer_id: vm.customerId\r\n      });\r\n      $scope.promise.then(function (response) {\r\n        if (response.statuscode == 0) {\r\n          //console.log(response.data);\r\n          $scope.con = response.data.item;\r\n          $scope.showProgress = false;\r\n        } else {\r\n          Clique.showToast(response.statusmessage, 'bottom right', 'error');\r\n          $scope.showProgress = false;\r\n        }\r\n      });\r\n    }\r\n\r\n\r\n\r\n\r\n    vm.months = vm.month;\r\n    $scope.submit = function () {\r\n      $scope.showProgress = true;\r\n      $scope.cardconnectError = false;\r\n      $scope.cardconnectSuccess = false;\r\n      $scope.buttonDisable = true;\r\n\r\n      var cardholder = vm.form.cardholder;\r\n      var creditCardNumber = vm.form.cardnumber;\r\n      var expMonth = vm.form.months;\r\n      var expYears = vm.form.years;\r\n      var cc2 = vm.form.cc2;\r\n      var streetaddress = vm.form.streetaddress;\r\n      var zipcode = vm.form.zipcode;\r\n      //console.log(vm.form.terms);\r\n      //var Balamount\t\t   = vm.invoice.Balance;\r\n      var Balamount = vm.transamount;\r\n      Balamount = parseFloat(Balamount).toFixed(2);\r\n\r\n\r\n      //var cardType         = angular.element(document.querySelector('#cardtype')).val();\r\n      var cardType = $scope.ccinfo.type;\r\n      var paymentObj = {\r\n        paymentinfo: {\r\n          Amount: Balamount,\r\n          Streetaddress: streetaddress,\r\n          Zipcode: zipcode,\r\n          TransType: $scope.TransType,\r\n          ProfileId: $scope.ProfileId,\r\n          Type: 'invoice',\r\n          ErpType: $rootScope.erpTypeMain,\r\n          Cardinfo: {\r\n            Cardholder: cardholder,\r\n            CreditCardNumber: creditCardNumber,\r\n            Month: expMonth,\r\n            Year: expYears,\r\n            CCV2: cc2,\r\n            CreateCardProfile: $scope.isProfile,\r\n            CardType: cardType\r\n          },\r\n          Custom: {\r\n            CustomerRef: {\r\n              Id: vm.customerID,\r\n              Name: vm.customerName,\r\n              Email: vm.customerEmail\r\n            },\r\n            Invoice: {\r\n              Id: vm.invoice_id,\r\n              DocId: vm.docId\r\n            }\r\n          }\r\n        }\r\n      };\r\n\r\n\r\n\r\n      //alert(vm.docNumber);\t\t\t\t\r\n      //console.log(paymentObj);\r\n      //console.log(JSON.stringify(paymentObj));\r\n      //return false;\r\n\r\n      $scope.promise = InvoiceModel.CardConnectPayment(paymentObj);\r\n      $scope.promise.then(function (response) {\r\n\r\n        //return false;\r\n        if (response.statuscode == 0) {\r\n\r\n          vm.payform.checkoutForm.$setUntouched();\r\n          vm.payform.checkoutForm.$setPristine();\r\n          vm.form = {};\r\n\r\n          //$scope.checkoutFormCustomer.$setPristine();\r\n          //$scope.checkoutFormCustomer.$setUntouched();\r\n          //$scope.checkoutFormCustomer.$submitted = false;\r\n          //delete $scope.data;\r\n\r\n          getSettings();\r\n          $scope.showProgress = false;\r\n          $scope.cardconnectSuccess = true;\r\n          $scope.buttonDisable = false;\r\n          $scope.cardconnectMsg = response.statusmessage;\r\n          //$scope.IsPaidInvoice=true;\r\n          //vm.transamount = response.data.balance.toFixed(2);\r\n\r\n          var transactionAmount = Balamount;\r\n\r\n          var totalAmount = parseFloat(vm.invoiceBalance).toFixed(2);\r\n          //console.log(transactionAmount+\"-\"+totalAmount);\r\n\r\n          if (transactionAmount == totalAmount) {\r\n            vm.transamount = \"0.00\";\r\n          } else {\r\n            vm.transamount = parseFloat(totalAmount) - parseFloat(transactionAmount);\r\n            vm.transamount = vm.transamount.toFixed(2);\r\n\r\n            //console.log(vm.transamount);\r\n          }\r\n          vm.invoiceBalance = vm.transamount;\r\n          vm.Balance = vm.transamount;\r\n          if (vm.Balance == 0) {\r\n            $scope.invoiceTemplateWidth = 100;\r\n            showPrerenderedDialog();\r\n          } else {\r\n            $scope.invoiceTemplateWidth = 70;\r\n          }\r\n          //$state.reload();\r\n        } else {\r\n          $scope.showProgress = false;\r\n          $scope.cardconnectError = true;\r\n          $scope.buttonDisable = false;\r\n          $scope.cardconnectMsg = response.statusmessage;\r\n\r\n          // vm.transamount = \"0.00\";\r\n          vm.payform.checkoutForm.$setUntouched();\r\n          vm.payform.checkoutForm.$setPristine();\r\n          vm.form = {};\r\n\r\n          //Clique.showToast(response.statusmessage,'bottom right','error');\r\n        }\r\n      });\r\n\r\n    };\r\n\r\n\r\n    $scope.submitACH = function () {\r\n      $scope.showProgress = true;\r\n      $scope.cardconnectError = false;\r\n      $scope.cardconnectSuccess = false;\r\n      $scope.buttonDisable = true;\r\n\r\n      var account = vm.form.account;\r\n      var name = vm.form.name;\r\n      var bankaba = vm.form.bankaba;\r\n      //console.log(vm.form.terms);\r\n      //var Balamount\t\t   = vm.invoice.Balance;\r\n      var Balamount = vm.transamount;\r\n      Balamount = parseFloat(Balamount).toFixed(2);\r\n      var paymentObj = {\r\n        paymentinfo: {\r\n          Amount: Balamount,\r\n          TransType: $scope.AchtransType,\r\n          ProfileId: $scope.ACHProfileId,\r\n          Type: 'invoice',\r\n          ErpType: $scope.erpType,\r\n          Achinfo: {\r\n            account: account,\r\n            name: name,\r\n            bankaba: bankaba,\r\n            CreateCardProfile: $scope.isProfile\r\n          },\r\n          Custom: {\r\n            CustomerRef: {\r\n              Id: vm.customerID,\r\n              Name: vm.customerName,\r\n              Email: vm.customerEmail\r\n            },\r\n            Invoice: {\r\n              Id: vm.invoice_id,\r\n              DocId: vm.docId\r\n            }\r\n          }\r\n        }\r\n      };\r\n\r\n\r\n\r\n      //alert(vm.docNumber);\t\t\t\t\r\n      //console.log(paymentObj);\r\n      //console.log(JSON.stringify(paymentObj));\r\n      //return false;\r\n\r\n      $scope.promise = InvoiceModel.CardConnectPayment(paymentObj);\r\n      $scope.promise.then(function (response) {\r\n\r\n        //return false;\r\n        if (response.statuscode == 0) {\r\n          vm.payform.ACHForm.$setUntouched();\r\n          vm.payform.ACHForm.$setPristine();\r\n          vm.form = {};\r\n          $scope.showProgress = false;\r\n          $scope.cardconnectSuccess = true;\r\n          $scope.buttonDisable = false;\r\n          $scope.cardconnectMsg = response.statusmessage;\r\n\r\n\r\n          var transactionAmount = Balamount;\r\n          var totalAmount = parseFloat(vm.invoiceBalance).toFixed(2);\r\n\r\n          if (transactionAmount == totalAmount) {\r\n            vm.transamount = \"0.00\";\r\n          } else {\r\n            vm.transamount = totalAmount - transactionAmount;\r\n            vm.transamount = vm.transamount.toFixed(2);\r\n          }\r\n          vm.invoiceBalance = vm.transamount;\r\n          vm.Balance = vm.transamount;\r\n          if (vm.Balance == 0) {\r\n            $scope.invoiceTemplateWidth = 100;\r\n            showPrerenderedDialog();\r\n          } else {\r\n            $scope.invoiceTemplateWidth = 70;\r\n          }\r\n\r\n          //console.log(transactionAmount+\"____\"+totalAmount);\r\n\r\n          //vm.invoice.Balance = vm.transamount;\r\n          //console.log(vm.invoice.Balance);\r\n          //vm.invoice.Balance.toFixed(2)\r\n          /*if($scope.feedbackEnable==true)\r\n          {\r\n          \tshowPrerenderedDialog();\t\r\n          }*/\r\n\r\n          //Clique.showToast(response.statusmessage,'bottom right','success');\r\n          vm.form = {};\r\n          //$scope.ACHForm.$setUntouched();\r\n          //$scope.ACHForm.$setPristine();\r\n\r\n        } else {\r\n          $scope.showProgress = false;\r\n          $scope.cardconnectError = true;\r\n          $scope.buttonDisable = false;\r\n          $scope.cardconnectMsg = response.statusmessage;\r\n\r\n          // vm.transamount = \"0.00\";\r\n          vm.payform.ACHForm.$setUntouched();\r\n          vm.payform.ACHForm.$setPristine();\r\n          vm.form = {};\r\n\r\n          //Clique.showToast(response.statusmessage,'bottom right','error');\r\n        }\r\n      });\r\n\r\n\r\n\r\n\r\n\r\n\r\n    };\r\n    $scope.keyPressed = function (keyEvent, value) {\r\n      //alert(value);\r\n      //console.log(value);\r\n      var currentAmount = value;\r\n      if (currentAmount != \"undefined\" && currentAmount != null) {\r\n        //console.log(\"hio\");\r\n        if (currentAmount != 0) {\r\n\r\n          var invoiceAmount = parseFloat(vm.Balance);\r\n          //console.log(currentAmount+\"\"+invoiceAmount);\r\n          if (currentAmount > invoiceAmount) {\r\n            $scope.IsGreater = true;\r\n            vm.amounterror = \"Amount must be less then or equal to invoice amount\";\r\n          } else {\r\n            $scope.IsGreater = false;\r\n          }\r\n        } else {\r\n          //console.log(\"less\"+currentAmount);\r\n          $scope.IsGreater = true;\r\n          vm.amounterror = \"Amount must be greater then zero\";\r\n\r\n        }\r\n      }\r\n\r\n    };\r\n\r\n    $scope.UpdateCCFields = function (value) {\r\n      //console.log(value);\r\n      if (value != null) {\r\n        vm.form.cardholder = value.cardholder_name;\r\n        vm.form.cardnumber = \"\";\r\n        vm.form.months = \"\";\r\n        vm.form.years = \"\";\r\n        vm.form.cc2 = \"\";\r\n        vm.form.streetaddress = value.address;\r\n        vm.form.zipcode = value.postal;\r\n        $scope.TransType = \"profile_sale\";\r\n        $scope.ProfileId = value.profile_id;\r\n        $scope.usedCardProfile = true;\r\n        $scope.isCCRequired = false;\r\n        $scope.showCCField = false;\r\n      } else {\r\n        vm.form = {};\r\n        $scope.TransType = \"sale\";\r\n        $scope.ProfileId = \"\";\r\n        $scope.usedCardProfile = false;\r\n        $scope.isCCRequired = true;\r\n        $scope.showCCField = true;\r\n      }\r\n    };\r\n    $scope.UpdateACHFields = function (value) {\r\n      if (value != null) {\r\n        vm.form.name = value.cardholder_name;\r\n        vm.form.account = \"\";\r\n        vm.form.bankaba = \"\";\r\n\r\n        $scope.AchtransType = \"profile_sale\";\r\n        $scope.ACHProfileId = value.profile_id;\r\n        $scope.isACHRequired = false;\r\n        $scope.showACHField = false;\r\n      } else {\r\n        vm.form = {};\r\n        $scope.AchtransType = \"ach_sale\";\r\n        $scope.ProfileId = \"\";\r\n        $scope.isACHRequired = true;\r\n        $scope.showACHField = true;\r\n      }\r\n    };\r\n\r\n    function showPrerenderedDialog() {\r\n      $mdDialog.show({\r\n        contentElement: '#myDialog',\r\n        parent: angular.element(document.body),\r\n        //targetEvent: ev,\r\n        clickOutsideToClose: true\r\n      });\r\n    }\r\n  }\r\n\r\n  function ProfileController(api, $scope, Clique, $location, $rootScope, $cookieStore, $http, $window, $filter, $mdDialog, $httpParamSerializer, $stateParams, $timeout, InvoiceModel, $state) {\r\n    // Data\r\n    var vm = this;\r\n    $rootScope.title = \"Card Profiles\";\r\n    $scope.text = \"Add New Credit/Debit Card\";\r\n    $rootScope.foldedLeftPannel = false;\r\n    $scope.showProfileBar = false;\r\n    $scope.ButtonDisable = false;\r\n    $scope.showACHDiv = false;\r\n    $scope.showCCDiv = true;\r\n    $scope.showDropDown = true;\r\n    $scope.showProgress = true;\r\n\r\n    $scope.profile_id = '';\r\n    $scope.acctid = '';\r\n    $scope.profile = 'profile';\r\n    $scope.ccinfo = {\r\n      type: undefined\r\n    };\r\n    $scope.first_character = {\r\n      type: undefined\r\n    };\r\n    $scope.profile_selection_type = 'cc';\r\n    vm.form = {};\r\n\r\n    $scope.currentCustomerInfo = JSON.parse(localStorage.getItem('CURRENT_CUSTOMER'));\r\n    vm.customerId = $scope.currentCustomerInfo.customer_id;\r\n\r\n    $timeout(function () {\r\n      angular.element('.fold-toggle').triggerHandler('click');\r\n      angular.element('.fold-toggle').triggerHandler('click');\r\n    }, 1000);\r\n    getProfileList();\r\n\r\n    function getProfileList() {\r\n      $scope.promise = InvoiceModel.ProfileGet({\r\n        customer_id: vm.customerId\r\n      });\r\n      $scope.promise.then(function (response) {\r\n        if (response.statuscode == 0) {\r\n          //console.log(response.data);\r\n          $scope.con = response.data.item;\r\n          console.log($scope.con);\r\n          $timeout(function () {\r\n            $scope.showProgress = false;\r\n            $scope.showProfiletable = true;\r\n          }, 700);\r\n        } else {\r\n          Clique.showToast(response.statusmessage, 'bottom right', 'error');\r\n          $scope.showProgress = false;\r\n        }\r\n      });\r\n    }\r\n\r\n\r\n    /////////////////////////////////////////////////////////\r\n    ////////////////// Edit Profile //////////////////////\r\n\r\n    $scope.editProfile = function (contact) {\r\n\r\n      $scope.text = \"Edit Profile\";\r\n      //console.log(contact);\r\n      vm.form.address = contact.address;\r\n      vm.form.cardholder_name = contact.cardholder_name;\r\n      vm.form.cardnumber = \"XXXXX-XXX-\" + contact.last_digits;\r\n      vm.form.zipcode = contact.postal;\r\n      vm.form.address = contact.address;\r\n      $scope.profile_id = contact.token.profileid;\r\n      $scope.acctid = contact.acctid;\r\n\r\n      $scope.showACHDiv = false;\r\n      $scope.showCCDiv = false;\r\n      $scope.showDropDown = false;\r\n\r\n      if (contact.card_type == \"ECHK\") {\r\n        $scope.showACHDiv = true;\r\n        $scope.selectedProfileType = \"echeck\";\r\n        vm.form.name = contact.cardholder_name;\r\n        vm.form.account = \"XXXXX-XXX-\" + contact.last_digits;\r\n      } else {\r\n        $scope.showCCDiv = true;\r\n        $scope.selectedProfileType = \"cc\";\r\n      }\r\n\r\n\r\n\r\n\r\n    };\r\n    $scope.editSaveProfile = function () {\r\n      $scope.showProfileBar = true;\r\n      $scope.ButtonDisable = true;\r\n\r\n      var profileObj = {\r\n        paymentinfo: {\r\n          Streetaddress: vm.form.address,\r\n          Zipcode: vm.form.zipcode,\r\n          TransType: \"cc_sale\",\r\n          Type: \"profileadd\",\r\n          Profile_Id: $scope.profile_id,\r\n          Acct_Id: $scope.acctid,\r\n          Cardinfo: {\r\n            Cardholder: vm.form.cardholder_name,\r\n            CreditCardNumber: vm.form.cardnumber,\r\n            Month: vm.form.expmonth,\r\n            Year: vm.form.expyear,\r\n            CCV2: vm.form.cc2,\r\n            CardType: $scope.ccinfo.type\r\n          },\r\n          Custom: {\r\n            CustomerRef: {\r\n              Id: vm.customerId,\r\n              Name: \"\"\r\n            }\r\n          }\r\n        }\r\n      };\r\n\r\n\r\n      $scope.promise = InvoiceModel.ProfileAdd(profileObj);\r\n      $scope.promise.then(function (response) {\r\n        $scope.ButtonDisable = false;\r\n        if (response.statuscode == 0) {\r\n          $scope.showProfileBar = false;\r\n          Clique.showToast(response.statusmessage, 'bottom right', \"success\");\r\n          vm.form = {};\r\n          $scope.profileForm.$setUntouched();\r\n          $scope.profileForm.$setPristine();\r\n          getProfileList();\r\n          $scope.profile_id = '';\r\n          $scope.acctid = '';\r\n          $timeout(function () {\r\n            $state.reload();\r\n          }, 500);\r\n\r\n        } else {\r\n          $scope.showProfileBar = false;\r\n          Clique.showToast(response.statusmessage, 'bottom right', \"error\");\r\n        }\r\n      });\r\n    };\r\n\r\n    $scope.editACHProfile = function () {\r\n      $scope.showProfileBar = true;\r\n      $scope.ButtonDisable = true;\r\n\r\n      var profileObj = {\r\n        paymentinfo: {\r\n          TransType: \"ach_sale\",\r\n          Type: \"profileadd\",\r\n          Profile_Id: $scope.profile_id,\r\n          Acct_Id: $scope.acctid,\r\n          Achinfo: {\r\n            account: vm.form.account,\r\n            name: vm.form.name,\r\n            bankaba: vm.form.bankaba,\r\n          },\r\n          Custom: {\r\n            CustomerRef: {\r\n              Id: vm.customerId,\r\n              Name: \"\"\r\n            }\r\n          }\r\n        }\r\n      };\r\n\r\n      //console.log(JSON.stringify(profileObj));\r\n      //return false;\r\n      $scope.promise = InvoiceModel.ProfileAdd(profileObj);\r\n      $scope.promise.then(function (response) {\r\n        $scope.ButtonDisable = false;\r\n        if (response.statuscode == 0) {\r\n          $scope.showProfileBar = false;\r\n          Clique.showToast(response.statusmessage, 'bottom right', \"success\");\r\n          vm.form = {};\r\n          $scope.ACHProfileForm.$setUntouched();\r\n          $scope.ACHProfileForm.$setPristine();\r\n          getProfileList();\r\n          $scope.profile_id = '';\r\n          $scope.acctid = '';\r\n          $timeout(function () {\r\n            $state.reload();\r\n          }, 500);\r\n\r\n          //$scope.profile.$setPristine();\r\n          //location.reload();\r\n          //vm.cardholder_name = null;\r\n          //$state.go('app.profile');\r\n\r\n        } else {\r\n          $scope.showProfileBar = false;\r\n          Clique.showToast(response.statusmessage, 'bottom right', \"error\");\r\n        }\r\n      });\r\n    };\r\n\r\n\r\n    /////////////////////////////////////////////////////////\r\n    ////////////////// Delete Profile //////////////////////\r\n    $scope.deleteProfile = function (contact) {\r\n      $scope.showProgress = true;\r\n      vm.profile_id = contact.profile_id;\r\n      $scope.promise = InvoiceModel.ProfileDelete({\r\n        id: vm.profile_id\r\n      });\r\n      $scope.promise.then(function (response) {\r\n        if (response.statuscode == 0) {\r\n          $scope.showProgress = false;\r\n          $scope.showlist = true;\r\n          $scope.showProfileEdit = false;\r\n          Clique.showToast(response.statusmessage, 'bottom right', \"success\");\r\n          getProfileList();\r\n\r\n        } else {\r\n          $scope.showProgress = false;\r\n          Clique.showToast(response.statusmessage, 'bottom right', \"error\");\r\n        }\r\n      });\r\n    };\r\n\r\n\r\n    $scope.selectedProfileType;\r\n    $scope.getSelectedText = function () {\r\n      if ($scope.selectedProfileType !== undefined) {\r\n        $scope.showACHDiv = false;\r\n        $scope.showCCDiv = false;\r\n        if ($scope.selectedProfileType == \"cc\") {\r\n          $scope.showCCDiv = true;\r\n        }\r\n        if ($scope.selectedProfileType == \"echeck\") {\r\n          $scope.showACHDiv = true;\r\n        }\r\n\r\n      }\r\n    };\r\n\r\n\r\n\r\n    $scope.openCustomerProfileTransactionModel = function (customerdetail, $event) {\r\n      $mdDialog.show({\r\n        controller: \"CustomerProfileTransactionController\",\r\n        templateUrl: 'app/main/account/customer-profile-transaction.html',\r\n        parent: angular.element(document.body),\r\n        //targetEvent: $event,\r\n        locals: {\r\n          params: customerdetail\r\n        },\r\n        clickOutsideToClose: false\r\n      });\r\n    };\r\n\r\n\r\n\r\n\r\n\r\n\r\n    /////////////////////////////////////////\r\n    ////////////// Year Drop Down //////////\r\n    vm.year = new Date().getFullYear();\r\n    vm.range = [];\r\n    vm.range.push(vm.year);\r\n    for (var i = 1; i < 15; i++) {\r\n      vm.range.push(vm.year + i);\r\n    }\r\n    vm.years = vm.range;\r\n    //vm.getTotalAmount=getTotalAmount;\r\n    ////////////////////////////////////////////\r\n    ///////////// Month Dropdown //////////////\r\n    vm.month = [];\r\n    for (var i = 1; i < 13; i++) {\r\n      if (i <= 9) {\r\n        vm.month.push(\"0\" + i);\r\n      } else {\r\n        vm.month.push(i);\r\n      }\r\n    }\r\n    vm.months = vm.month;\r\n\r\n    $scope.reload = function () {\r\n      $state.reload();\r\n    };\r\n\r\n  }\r\n\r\n  function CustomerProfileTransactionController(api, $scope, $mdDialog, Clique, $location, $rootScope, $cookieStore, $http, $window, $filter, $httpParamSerializer, params, $stateParams, $timeout, InvoiceModel) {\r\n    // Data\r\n    var vm = this;\r\n    var contact = params;\r\n    $scope.showContent = false;\r\n    $scope.showProgress = true;\r\n    //console.log(contact);\r\n    $scope.cardholder_name = contact.cardholder_name;\r\n    vm.customerId = contact.id;\r\n    vm.profileID = contact.profile_id;\r\n    $scope.last4gigits = contact.last_digits;\r\n    $scope.cardtype = contact.card_type;\r\n\r\n    $scope.promise = InvoiceModel.CustomerTransactionGet({\r\n      profile_id: vm.profileID\r\n    });\r\n    $scope.promise.then(function (response) {\r\n      if (response.statuscode == 0) {\r\n        //console.log(response.data);\r\n        $scope.transactionData = response.data.items;\r\n        $timeout(function () {\r\n          $scope.showProgress = false;\r\n          $scope.showContent = true;\r\n        }, 2000);\r\n      } else {\r\n        Clique.showToast(response.statusmessage, 'bottom right', 'error');\r\n        $scope.showProgress = false;\r\n      }\r\n    });\r\n\r\n    $scope.cancel = function () {\r\n      $mdDialog.cancel();\r\n    };\r\n\r\n\r\n  }\r\n\r\n  function ComposeController(api, $scope, $mdDialog, Clique, $location, $rootScope, $cookieStore, $http, $window, $filter, $httpParamSerializer, $stateParams, $timeout, InvoiceModel) {\r\n    var vm = this;\r\n\r\n    // Data\r\n    $rootScope.companyInfo = localStorage.getItem(\"companyinfo\");\r\n    $rootScope.companyInfo = JSON.parse($rootScope.companyInfo);\r\n\r\n\r\n    vm.form = {\r\n      from: $rootScope.companyInfo.email\r\n    };\r\n\r\n    vm.hiddenCC = true;\r\n    vm.hiddenBCC = false;\r\n    $scope.showProgress = false;\r\n\r\n    // If replying\r\n    /*if ( angular.isDefined(selectedMail) )\r\n    {\r\n        vm.form.to = selectedMail.from.email;\r\n        vm.form.subject = 'RE: ' + selectedMail.subject;\r\n        vm.form.message = '<blockquote>' + selectedMail.message + '</blockquote>';\r\n    }*/\r\n    $scope.submit = function () {\r\n      $scope.showProgress = true;\r\n      var messageObj = {\r\n        from: vm.form.from,\r\n        to: vm.form.to,\r\n        cc: vm.form.cc,\r\n        subject: vm.form.subject,\r\n        message: vm.form.message\r\n      };\r\n\r\n\r\n      $scope.promise = InvoiceModel.Login(messageObj);\r\n      $scope.promise.then(function (response) {\r\n        //console.log(response)\r\n        $scope.showProgress = false;\r\n        if (response.statuscode == 0) {\r\n          Clique.showToast(response.statusmessage, 'bottom right', \"success\");\r\n        } else {\r\n          Clique.showToast(response.statusmessage, 'bottom right', \"error\");\r\n        }\r\n      });\r\n    };\r\n\r\n    // Methods\r\n    vm.closeDialog = closeDialog;\r\n\r\n    //////////\r\n\r\n    function closeDialog() {\r\n      $mdDialog.hide();\r\n    }\r\n  }\r\n\r\n\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .service('fuseTheming', fuseThemingService);\r\n\r\n    /** @ngInject */\r\n    function fuseThemingService($cookies, $log, $mdTheming)\r\n    {\r\n        var service = {\r\n            getRegisteredPalettes: getRegisteredPalettes,\r\n            getRegisteredThemes  : getRegisteredThemes,\r\n            setActiveTheme       : setActiveTheme,\r\n            setThemesList        : setThemesList,\r\n            themes               : {\r\n                list  : {},\r\n                active: {\r\n                    'name' : '',\r\n                    'theme': {}\r\n                }\r\n            }\r\n        };\r\n\r\n        return service;\r\n\r\n        //////////\r\n\r\n        /**\r\n         * Get registered palettes\r\n         *\r\n         * @returns {*}\r\n         */\r\n        function getRegisteredPalettes()\r\n        {\r\n            return $mdTheming.PALETTES;\r\n        }\r\n\r\n        /**\r\n         * Get registered themes\r\n         *\r\n         * @returns {*}\r\n         */\r\n        function getRegisteredThemes()\r\n        {\r\n            return $mdTheming.THEMES;\r\n        }\r\n\r\n        /**\r\n         * Set active theme\r\n         *\r\n         * @param themeName\r\n         */\r\n        function setActiveTheme(themeName)\r\n        {\r\n            // If theme does not exist, fallback to the default theme\r\n            if ( angular.isUndefined(service.themes.list[themeName]) )\r\n            {\r\n                // If there is no theme called \"default\"...\r\n                if ( angular.isUndefined(service.themes.list.default) )\r\n                {\r\n                    $log.error('You must have at least one theme named \"default\"');\r\n                    return;\r\n                }\r\n\r\n                $log.warn('The theme \"' + themeName + '\" does not exist! Falling back to the \"default\" theme.');\r\n\r\n                // Otherwise set theme to default theme\r\n                service.themes.active.name = 'default';\r\n                service.themes.active.theme = service.themes.list.default;\r\n                $cookies.put('selectedTheme', service.themes.active.name);\r\n\r\n                return;\r\n            }\r\n\r\n            service.themes.active.name = themeName;\r\n            service.themes.active.theme = service.themes.list[themeName];\r\n            $cookies.put('selectedTheme', themeName);\r\n        }\r\n\r\n        /**\r\n         * Set available themes list\r\n         *\r\n         * @param themeList\r\n         */\r\n        function setThemesList(themeList)\r\n        {\r\n            service.themes.list = themeList;\r\n        }\r\n    }\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .config(config);\r\n\r\n    /** @ngInject */\r\n    function config($mdThemingProvider, fusePalettes, fuseThemes)\r\n    {\r\n        // Inject Cookies Service\r\n        var $cookies;\r\n        angular.injector(['ngCookies']).invoke([\r\n            '$cookies', function (_$cookies)\r\n            {\r\n                $cookies = _$cookies;\r\n            }\r\n        ]);\r\n\r\n        // Check if custom theme exist in cookies\r\n        var customTheme = $cookies.getObject('customTheme');\r\n        if ( customTheme )\r\n        {\r\n            fuseThemes['custom'] = customTheme;\r\n        }\r\n\r\n        $mdThemingProvider.alwaysWatchTheme(true);\r\n\r\n        // Define custom palettes\r\n        angular.forEach(fusePalettes, function (palette)\r\n        {\r\n            $mdThemingProvider.definePalette(palette.name, palette.options);\r\n        });\r\n\r\n        // Register custom themes\r\n        angular.forEach(fuseThemes, function (theme, themeName)\r\n        {\r\n            $mdThemingProvider.theme(themeName)\r\n                .primaryPalette(theme.primary.name, theme.primary.hues)\r\n                .accentPalette(theme.accent.name, theme.accent.hues)\r\n                .warnPalette(theme.warn.name, theme.warn.hues)\r\n                .backgroundPalette(theme.background.name, theme.background.hues);\r\n        });\r\n    }\r\n\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    var fuseThemes = {\r\n        default  : {\r\n            primary   : {\r\n                name: 'fuse-paleblue',\r\n                hues: {\r\n                    'default': '700',\r\n                    'hue-1'  : '500',\r\n                    'hue-2'  : '600',\r\n                    'hue-3'  : '400'\r\n                }\r\n            },\r\n            accent    : {\r\n                name: 'light-blue',\r\n                hues: {\r\n                    'default': '600',\r\n                    'hue-1'  : '400',\r\n                    'hue-2'  : '700',\r\n                    'hue-3'  : 'A100'\r\n                }\r\n            },\r\n            warn      : {\r\n                name: 'red'\r\n            },\r\n            background: {\r\n                name: 'grey',\r\n                hues: {\r\n                    'default': 'A100',\r\n                    'hue-1'  : 'A100',\r\n                    'hue-2'  : '100',\r\n                    'hue-3'  : '300'\r\n                }\r\n            }\r\n        },\r\n        'pinkTheme': {\r\n            primary   : {\r\n                name: 'blue-grey',\r\n                hues: {\r\n                    'default': '800',\r\n                    'hue-1'  : '600',\r\n                    'hue-2'  : '400',\r\n                    'hue-3'  : 'A100'\r\n                }\r\n            },\r\n            accent    : {\r\n                name: 'pink',\r\n                hues: {\r\n                    'default': '400',\r\n                    'hue-1'  : '300',\r\n                    'hue-2'  : '600',\r\n                    'hue-3'  : 'A100'\r\n                }\r\n            },\r\n            warn      : {\r\n                name: 'blue'\r\n            },\r\n            background: {\r\n                name: 'grey',\r\n                hues: {\r\n                    'default': 'A100',\r\n                    'hue-1'  : 'A100',\r\n                    'hue-2'  : '100',\r\n                    'hue-3'  : '300'\r\n                }\r\n            }\r\n        },\r\n        'tealTheme': {\r\n            primary   : {\r\n                name: 'fuse-blue',\r\n                hues: {\r\n                    'default': '900',\r\n                    'hue-1'  : '600',\r\n                    'hue-2'  : '500',\r\n                    'hue-3'  : 'A100'\r\n                }\r\n            },\r\n            accent    : {\r\n                name: 'teal',\r\n                hues: {\r\n                    'default': '500',\r\n                    'hue-1'  : '400',\r\n                    'hue-2'  : '600',\r\n                    'hue-3'  : 'A100'\r\n                }\r\n            },\r\n            warn      : {\r\n                name: 'deep-orange'\r\n            },\r\n            background: {\r\n                name: 'grey',\r\n                hues: {\r\n                    'default': 'A100',\r\n                    'hue-1'  : 'A100',\r\n                    'hue-2'  : '100',\r\n                    'hue-3'  : '300'\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    angular\r\n        .module('app.core')\r\n        .constant('fuseThemes', fuseThemes);\r\n})();\n(function () {\r\n    'use strict';\r\n\r\n    var fusePalettes = [\r\n        {\r\n            name: 'fuse-blue',\r\n            options: {\r\n                '50': '#ebf1fa',\r\n                '100': '#c2d4ef',\r\n                '200': '#9ab8e5',\r\n                '300': '#78a0dc',\r\n                '400': '#5688d3',\r\n                '500': '#3470ca',\r\n                '600': '#2e62b1',\r\n                '700': '#275498',\r\n                '800': '#21467e',\r\n                '900': '#1a3865',\r\n                'A100': '#c2d4ef',\r\n                'A200': '#9ab8e5',\r\n                'A400': '#5688d3',\r\n                'A700': '#275498',\r\n                'contrastDefaultColor': 'light',\r\n                'contrastDarkColors': '50 100 200 A100',\r\n                'contrastStrongLightColors': '300 400'\r\n            }\r\n        },\r\n        {\r\n            name: 'fuse-paleblue',\r\n            options: {\r\n                '50': '#ececee',\r\n                '100': '#c5c6cb',\r\n                '200': '#9ea1a9',\r\n                '300': '#7d818c',\r\n                '400': '#5c616f',\r\n                '500': '#3c4252',\r\n                '600': '#353a48',\r\n                '700': '#2d323e',\r\n                '800': '#262933',\r\n                '900': '#1e2129',\r\n                'A100': '#c5c6cb',\r\n                'A200': '#9ea1a9',\r\n                'A400': '#5c616f',\r\n                'A700': '#2d323e',\r\n                'contrastDefaultColor': 'light',\r\n                'contrastDarkColors': '50 100 200 A100',\r\n                'contrastStrongLightColors': '300 400'\r\n            }\r\n        }\r\n    ];\r\n\r\n    angular\r\n        .module('app.core')\r\n        .constant('fusePalettes', fusePalettes);\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .factory('fuseGenerator', fuseGeneratorService);\r\n\r\n    /** @ngInject */\r\n    function fuseGeneratorService($cookies, $log, fuseTheming)\r\n    {\r\n        // Storage for simplified themes object\r\n        var themes = {};\r\n\r\n        var service = {\r\n            generate: generate,\r\n            rgba    : rgba\r\n        };\r\n\r\n        return service;\r\n\r\n        //////////\r\n\r\n        /**\r\n         * Generate less variables for each theme from theme's\r\n         * palette by using material color naming conventions\r\n         */\r\n        function generate()\r\n        {\r\n            // Get registered themes and palettes and copy\r\n            // them so we don't modify the original objects\r\n            var registeredThemes = angular.copy(fuseTheming.getRegisteredThemes());\r\n            var registeredPalettes = angular.copy(fuseTheming.getRegisteredPalettes());\r\n\r\n            // First, create a simplified object that stores\r\n            // all registered themes and their colors\r\n\r\n            // Iterate through registered themes\r\n            angular.forEach(registeredThemes, function (registeredTheme)\r\n            {\r\n                themes[registeredTheme.name] = {};\r\n\r\n                // Iterate through color types (primary, accent, warn & background)\r\n                angular.forEach(registeredTheme.colors, function (colorType, colorTypeName)\r\n                {\r\n                    themes[registeredTheme.name][colorTypeName] = {\r\n                        'name'  : colorType.name,\r\n                        'levels': {\r\n                            'default': {\r\n                                'color'    : rgba(registeredPalettes[colorType.name][colorType.hues.default].value),\r\n                                'contrast1': rgba(registeredPalettes[colorType.name][colorType.hues.default].contrast, 1),\r\n                                'contrast2': rgba(registeredPalettes[colorType.name][colorType.hues.default].contrast, 2),\r\n                                'contrast3': rgba(registeredPalettes[colorType.name][colorType.hues.default].contrast, 3),\r\n                                'contrast4': rgba(registeredPalettes[colorType.name][colorType.hues.default].contrast, 4)\r\n                            },\r\n                            'hue1'   : {\r\n                                'color'    : rgba(registeredPalettes[colorType.name][colorType.hues['hue-1']].value),\r\n                                'contrast1': rgba(registeredPalettes[colorType.name][colorType.hues['hue-1']].contrast, 1),\r\n                                'contrast2': rgba(registeredPalettes[colorType.name][colorType.hues['hue-1']].contrast, 2),\r\n                                'contrast3': rgba(registeredPalettes[colorType.name][colorType.hues['hue-1']].contrast, 3),\r\n                                'contrast4': rgba(registeredPalettes[colorType.name][colorType.hues['hue-1']].contrast, 4)\r\n                            },\r\n                            'hue2'   : {\r\n                                'color'    : rgba(registeredPalettes[colorType.name][colorType.hues['hue-2']].value),\r\n                                'contrast1': rgba(registeredPalettes[colorType.name][colorType.hues['hue-2']].contrast, 1),\r\n                                'contrast2': rgba(registeredPalettes[colorType.name][colorType.hues['hue-2']].contrast, 2),\r\n                                'contrast3': rgba(registeredPalettes[colorType.name][colorType.hues['hue-2']].contrast, 3),\r\n                                'contrast4': rgba(registeredPalettes[colorType.name][colorType.hues['hue-2']].contrast, 4)\r\n                            },\r\n                            'hue3'   : {\r\n                                'color'    : rgba(registeredPalettes[colorType.name][colorType.hues['hue-3']].value),\r\n                                'contrast1': rgba(registeredPalettes[colorType.name][colorType.hues['hue-3']].contrast, 1),\r\n                                'contrast2': rgba(registeredPalettes[colorType.name][colorType.hues['hue-3']].contrast, 2),\r\n                                'contrast3': rgba(registeredPalettes[colorType.name][colorType.hues['hue-3']].contrast, 3),\r\n                                'contrast4': rgba(registeredPalettes[colorType.name][colorType.hues['hue-3']].contrast, 4)\r\n                            }\r\n                        }\r\n                    };\r\n                });\r\n            });\r\n\r\n            // Process themes one more time and then store them in the service for external use\r\n            processAndStoreThemes(themes);\r\n\r\n            // Iterate through simplified themes\r\n            // object and create style variables\r\n            var styleVars = {};\r\n\r\n            // Iterate through registered themes\r\n            angular.forEach(themes, function (theme, themeName)\r\n            {\r\n                styleVars = {};\r\n                styleVars['@themeName'] = themeName;\r\n\r\n                // Iterate through color types (primary, accent, warn & background)\r\n                angular.forEach(theme, function (colorTypes, colorTypeName)\r\n                {\r\n                    // Iterate through color levels (default, hue1, hue2 & hue3)\r\n                    angular.forEach(colorTypes.levels, function (colors, colorLevelName)\r\n                    {\r\n                        // Iterate through color name (color, contrast1, contrast2, contrast3 & contrast4)\r\n                        angular.forEach(colors, function (color, colorName)\r\n                        {\r\n                            styleVars['@' + colorTypeName + ucfirst(colorLevelName) + ucfirst(colorName)] = color;\r\n                        });\r\n                    });\r\n                });\r\n\r\n                // Render styles\r\n                render(styleVars);\r\n            });\r\n        }\r\n\r\n        // ---------------------------\r\n        //  INTERNAL HELPER FUNCTIONS\r\n        // ---------------------------\r\n\r\n        /**\r\n         * Process and store themes for global use\r\n         *\r\n         * @param _themes\r\n         */\r\n        function processAndStoreThemes(_themes)\r\n        {\r\n            // Here we will go through every registered theme one more time\r\n            // and try to simplify their objects as much as possible for\r\n            // easier access to their properties.\r\n            var themes = angular.copy(_themes);\r\n\r\n            // Iterate through themes\r\n            angular.forEach(themes, function (theme)\r\n            {\r\n                // Iterate through color types (primary, accent, warn & background)\r\n                angular.forEach(theme, function (colorType, colorTypeName)\r\n                {\r\n                    theme[colorTypeName] = colorType.levels;\r\n                    theme[colorTypeName].color = colorType.levels.default.color;\r\n                    theme[colorTypeName].contrast1 = colorType.levels.default.contrast1;\r\n                    theme[colorTypeName].contrast2 = colorType.levels.default.contrast2;\r\n                    theme[colorTypeName].contrast3 = colorType.levels.default.contrast3;\r\n                    theme[colorTypeName].contrast4 = colorType.levels.default.contrast4;\r\n                    delete theme[colorTypeName].default;\r\n                });\r\n            });\r\n\r\n            // Store themes and set selected theme for the first time\r\n            fuseTheming.setThemesList(themes);\r\n\r\n            // Remember selected theme.\r\n            var selectedTheme = $cookies.get('selectedTheme');\r\n\r\n            if ( selectedTheme )\r\n            {\r\n                fuseTheming.setActiveTheme(selectedTheme);\r\n            }\r\n            else\r\n            {\r\n                fuseTheming.setActiveTheme('default');\r\n            }\r\n        }\r\n\r\n\r\n        /**\r\n         * Render css files\r\n         *\r\n         * @param styleVars\r\n         */\r\n        function render(styleVars)\r\n        {\r\n            var cssTemplate = '/* Content hack because they wont fix */\\n/* https://github.com/angular/material/pull/8067 */\\n[md-theme=\"@themeName\"] md-content.md-hue-1,\\nmd-content.md-@themeName-theme.md-hue-1 {\\n    color: @backgroundHue1Contrast1;\\n    background-color: @backgroundHue1Color;\\n}\\n\\n[md-theme=\"@themeName\"] md-content.md-hue-2,\\nmd-content.md-@themeName-theme.md-hue-2 {\\n    color: @backgroundHue2Contrast1;\\n    background-color: @backgroundHue2Color;\\n}\\n\\n[md-theme=\"@themeName\"] md-content.md-hue-3,\\n md-content.md-@themeName-theme.md-hue-3 {\\n    color: @backgroundHue3Contrast1;\\n    background-color: @backgroundHue3Color;\\n}\\n\\n/* Text Colors */\\n[md-theme=\"@themeName\"] a {\\n    color: @accentDefaultColor;\\n}\\n\\n[md-theme=\"@themeName\"] .secondary-text,\\n[md-theme=\"@themeName\"] .icon {\\n    color: @backgroundDefaultContrast2;\\n}\\n\\n[md-theme=\"@themeName\"] .hint-text,\\n[md-theme=\"@themeName\"] .disabled-text {\\n    color: @backgroundDefaultContrast3;\\n}\\n\\n[md-theme=\"@themeName\"] .fade-text,\\n[md-theme=\"@themeName\"] .divider {\\n    color: @backgroundDefaultContrast4;\\n}\\n\\n/* Primary */\\n[md-theme=\"@themeName\"] .md-primary-bg {\\n    background-color: @primaryDefaultColor;\\n    color: @primaryDefaultContrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-primary-bg .secondary-text,\\n[md-theme=\"@themeName\"] .md-primary-bg .icon {\\n    color: @primaryDefaultContrast2;\\n}\\n\\n[md-theme=\"@themeName\"] .md-primary-bg .hint-text,\\n[md-theme=\"@themeName\"] .md-primary-bg .disabled-text {\\n    color: @primaryDefaultContrast3;\\n}\\n\\n[md-theme=\"@themeName\"] .md-primary-bg .fade-text,\\n[md-theme=\"@themeName\"] .md-primary-bg .divider {\\n    color: @primaryDefaultContrast4;\\n}\\n\\n/* Primary, Hue-1 */\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-1 {\\n    background-color: @primaryHue1Color;\\n    color: @primaryHue1Contrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-1 .secondary-text,\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-1 .icon {\\n    color: @primaryHue1Contrast2;\\n}\\n\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-1 .hint-text,\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-1 .disabled-text {\\n    color: @primaryHue1Contrast3;\\n}\\n\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-1 .fade-text,\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-1 .divider {\\n    color: @primaryHue1Contrast4;\\n}\\n\\n/* Primary, Hue-2 */\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-2 {\\n    background-color: @primaryHue2Color;\\n    color: @primaryHue2Contrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-2 .secondary-text,\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-2 .icon {\\n    color: @primaryHue2Contrast2;\\n}\\n\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-2 .hint-text,\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-2 .disabled-text {\\n    color: @primaryHue2Contrast3;\\n}\\n\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-2 .fade-text,\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-2 .divider {\\n    color: @primaryHue2Contrast4;\\n}\\n\\n/* Primary, Hue-3 */\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-3 {\\n    background-color: @primaryHue3Color;\\n    color: @primaryHue3Contrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-3 .secondary-text,\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-3 .icon {\\n    color: @primaryHue3Contrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-3 .hint-text,\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-3 .disabled-text {\\n    color: @primaryHue3Contrast3;\\n}\\n\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-3 .fade-text,\\n[md-theme=\"@themeName\"] .md-primary-bg.md-hue-3 .divider {\\n    color: @primaryHue3Contrast4;\\n}\\n\\n/* Primary foreground */\\n[md-theme=\"@themeName\"] .md-primary-fg {\\n    color: @primaryDefaultColor !important;\\n}\\n\\n/* Primary foreground, Hue-1 */\\n[md-theme=\"@themeName\"] .md-primary-fg.md-hue-1 {\\n    color: @primaryHue1Color !important;\\n}\\n\\n/* Primary foreground, Hue-2 */\\n[md-theme=\"@themeName\"] .md-primary-fg.md-hue-2 {\\n    color: @primaryHue2Color !important;\\n}\\n\\n/* Primary foreground, Hue-3 */\\n[md-theme=\"@themeName\"] .md-primary-fg.md-hue-3 {\\n    color: @primaryHue3Color !important;\\n}\\n\\n/* Accent */\\n[md-theme=\"@themeName\"] .md-accent-bg {\\n    background-color: @accentDefaultColor;\\n    color: @accentDefaultContrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-accent-bg .secondary-text,\\n[md-theme=\"@themeName\"] .md-accent-bg .icon {\\n    color: @accentDefaultContrast2;\\n}\\n\\n[md-theme=\"@themeName\"] .md-accent-bg .hint-text,\\n[md-theme=\"@themeName\"] .md-accent-bg .disabled-text {\\n    color: @accentDefaultContrast3;\\n}\\n\\n[md-theme=\"@themeName\"] .md-accent-bg .fade-text,\\n[md-theme=\"@themeName\"] .md-accent-bg .divider {\\n    color: @accentDefaultContrast4;\\n}\\n\\n/* Accent, Hue-1 */\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-1 {\\n    background-color: @accentHue1Color;\\n    color: @accentHue1Contrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-1 .secondary-text,\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-1 .icon {\\n    color: @accentHue1Contrast2;\\n}\\n\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-1 .hint-text,\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-1 .disabled-text {\\n    color: @accentHue1Contrast3;\\n}\\n\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-1 .fade-text,\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-1 .divider {\\n    color: @accentHue1Contrast4;\\n}\\n\\n/* Accent, Hue-2 */\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-2 {\\n    background-color: @accentHue2Color;\\n    color: @accentHue2Contrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-2 .secondary-text,\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-2 .icon {\\n    color: @accentHue2Contrast2;\\n}\\n\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-2 .hint-text,\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-2 .disabled-text {\\n    color: @accentHue2Contrast3;\\n}\\n\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-2 .fade-text,\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-2 .divider {\\n    color: @accentHue2Contrast4;\\n}\\n\\n/* Accent, Hue-3 */\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-3 {\\n    background-color: @accentHue3Color;\\n    color: @accentHue3Contrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-3 .secondary-text,\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-3 .icon {\\n    color: @accentHue3Contrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-3 .hint-text,\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-3 .disabled-text {\\n    color: @accentHue3Contrast3;\\n}\\n\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-3 .fade-text,\\n[md-theme=\"@themeName\"] .md-accent-bg.md-hue-3 .divider {\\n    color: @accentHue3Contrast4;\\n}\\n\\n/* Accent foreground */\\n[md-theme=\"@themeName\"] .md-accent-fg {\\n    color: @accentDefaultColor !important;\\n}\\n\\n/* Accent foreground, Hue-1 */\\n[md-theme=\"@themeName\"] .md-accent-fg.md-hue-1 {\\n    color: @accentHue1Color !important;\\n}\\n\\n/* Accent foreground, Hue-2 */\\n[md-theme=\"@themeName\"] .md-accent-fg.md-hue-2 {\\n    color: @accentHue2Color !important;\\n}\\n\\n/* Accent foreground, Hue-3 */\\n[md-theme=\"@themeName\"] .md-accent-fg.md-hue-3 {\\n    color: @accentHue3Color !important;\\n}\\n\\n/* Warn */\\n[md-theme=\"@themeName\"] .md-warn-bg {\\n    background-color: @warnDefaultColor;\\n    color: @warnDefaultContrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-warn-bg .secondary-text,\\n[md-theme=\"@themeName\"] .md-warn-bg .icon {\\n    color: @warnDefaultContrast2;\\n}\\n\\n[md-theme=\"@themeName\"] .md-warn-bg .hint-text,\\n[md-theme=\"@themeName\"] .md-warn-bg .disabled-text {\\n    color: @warnDefaultContrast3;\\n}\\n\\n[md-theme=\"@themeName\"] .md-warn-bg .fade-text,\\n[md-theme=\"@themeName\"] .md-warn-bg .divider {\\n    color: @warnDefaultContrast4;\\n}\\n\\n/* Warn, Hue-1 */\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-1 {\\n    background-color: @warnHue1Color;\\n    color: @warnHue1Contrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-1 .secondary-text,\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-1 .icon {\\n    color: @warnHue1Contrast2;\\n}\\n\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-1 .hint-text,\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-1 .disabled-text {\\n    color: @warnHue1Contrast3;\\n}\\n\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-1 .fade-text,\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-1 .divider {\\n    color: @warnHue1Contrast4;\\n}\\n\\n/* Warn, Hue-2 */\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-2 {\\n    background-color: @warnHue2Color;\\n    color: @warnHue2Contrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-2 .secondary-text,\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-2 .icon {\\n    color: @warnHue2Contrast2;\\n}\\n\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-2 .hint-text,\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-2 .disabled-text {\\n    color: @warnHue2Contrast3;\\n}\\n\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-2 .fade-text,\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-2 .divider {\\n    color: @warnHue2Contrast4;\\n}\\n\\n/* Warn, Hue-3 */\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-3 {\\n    background-color: @warnHue3Color;\\n    color: @warnHue3Contrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-3 .secondary-text,\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-3 .icon {\\n    color: @warnHue3Contrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-3 .hint-text,\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-3 .disabled-text {\\n    color: @warnHue3Contrast3;\\n}\\n\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-3 .fade-text,\\n[md-theme=\"@themeName\"] .md-warn-bg.md-hue-3 .divider {\\n    color: @warnHue3Contrast4;\\n}\\n\\n/* Warn foreground */\\n[md-theme=\"@themeName\"] .md-warn-fg {\\n    color: @warnDefaultColor !important;\\n}\\n\\n/* Warn foreground, Hue-1 */\\n[md-theme=\"@themeName\"] .md-warn-fg.md-hue-1 {\\n    color: @warnHue1Color !important;\\n}\\n\\n/* Warn foreground, Hue-2 */\\n[md-theme=\"@themeName\"] .md-warn-fg.md-hue-2 {\\n    color: @warnHue2Color !important;\\n}\\n\\n/* Warn foreground, Hue-3 */\\n[md-theme=\"@themeName\"] .md-warn-fg.md-hue-3 {\\n    color: @warnHue3Color !important;\\n}\\n\\n/* Background */\\n[md-theme=\"@themeName\"] .md-background-bg {\\n    background-color: @backgroundDefaultColor;\\n    color: @backgroundDefaultContrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-background-bg .secondary-text,\\n[md-theme=\"@themeName\"] .md-background-bg .icon {\\n    color: @backgroundDefaultContrast2;\\n}\\n\\n[md-theme=\"@themeName\"] .md-background-bg .hint-text,\\n[md-theme=\"@themeName\"] .md-background-bg .disabled-text {\\n    color: @backgroundDefaultContrast3;\\n}\\n\\n[md-theme=\"@themeName\"] .md-background-bg .fade-text,\\n[md-theme=\"@themeName\"] .md-background-bg .divider {\\n    color: @backgroundDefaultContrast4;\\n}\\n\\n/* Background, Hue-1 */\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-1 {\\n    background-color: @backgroundHue1Color;\\n    color: @backgroundHue1Contrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-1 .secondary-text,\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-1 .icon {\\n    color: @backgroundHue1Contrast2;\\n}\\n\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-1 .hint-text,\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-1 .disabled-text {\\n    color: @backgroundHue1Contrast3;\\n}\\n\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-1 .fade-text,\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-1 .divider {\\n    color: @backgroundHue1Contrast4;\\n}\\n\\n/* Background, Hue-2 */\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-2 {\\n    background-color: @backgroundHue2Color;\\n    color: @backgroundHue2Contrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-2 .secondary-text,\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-2 .icon {\\n    color: @backgroundHue2Contrast2;\\n}\\n\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-2 .hint-text,\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-2 .disabled-text {\\n    color: @backgroundHue2Contrast3;\\n}\\n\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-2 .fade-text,\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-2 .divider {\\n    color: @backgroundHue2Contrast4;\\n}\\n\\n/* Background, Hue-3 */\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-3 {\\n    background-color: @backgroundHue3Color;\\n    color: @backgroundHue3Contrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-3 .secondary-text,\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-3 .icon {\\n    color: @backgroundHue3Contrast1;\\n}\\n\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-3 .hint-text,\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-3 .disabled-text {\\n    color: @backgroundHue3Contrast3;\\n}\\n\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-3 .fade-text,\\n[md-theme=\"@themeName\"] .md-background-bg.md-hue-3 .divider {\\n    color: @backgroundHue3Contrast4;\\n}\\n\\n/* Background foreground */\\n[md-theme=\"@themeName\"] .md-background-fg {\\n    color: @backgroundDefaultColor !important;\\n}\\n\\n/* Background foreground, Hue-1 */\\n[md-theme=\"@themeName\"] .md-background-fg.md-hue-1 {\\n    color: @backgroundHue1Color !important;\\n}\\n\\n/* Background foreground, Hue-2 */\\n[md-theme=\"@themeName\"] .md-background-fg.md-hue-2 {\\n    color: @backgroundHue2Color !important;\\n}\\n\\n/* Background foreground, Hue-3 */\\n[md-theme=\"@themeName\"] .md-background-fg.md-hue-3 {\\n    color: @backgroundHue3Color !important;\\n}';\r\n\r\n            var regex = new RegExp(Object.keys(styleVars).join('|'), 'gi');\r\n            var css = cssTemplate.replace(regex, function (matched)\r\n            {\r\n                return styleVars[matched];\r\n            });\r\n\r\n            var headEl = angular.element('head');\r\n            var styleEl = angular.element('<style type=\"text/css\"></style>');\r\n            styleEl.html(css);\r\n            headEl.append(styleEl);\r\n        }\r\n\r\n        /**\r\n         * Convert color array to rgb/rgba\r\n         * Also apply contrasts if needed\r\n         *\r\n         * @param color\r\n         * @param _contrastLevel\r\n         * @returns {string}\r\n         */\r\n        function rgba(color, _contrastLevel)\r\n        {\r\n            var contrastLevel = _contrastLevel || false;\r\n\r\n            // Convert 255,255,255,0.XX to 255,255,255\r\n            // According to Google's Material design specs, white primary\r\n            // text must have opacity of 1 and we will fix that here\r\n            // because Angular Material doesn't care about that spec\r\n            if ( color.length === 4 && color[0] === 255 && color[1] === 255 && color[2] === 255 )\r\n            {\r\n                color.splice(3, 4);\r\n            }\r\n\r\n            // If contrast level provided, apply it to the current color\r\n            if ( contrastLevel )\r\n            {\r\n                color = applyContrast(color, contrastLevel);\r\n            }\r\n\r\n            // Convert color array to color string (rgb/rgba)\r\n            if ( color.length === 3 )\r\n            {\r\n                return 'rgb(' + color.join(',') + ')';\r\n            }\r\n            else if ( color.length === 4 )\r\n            {\r\n                return 'rgba(' + color.join(',') + ')';\r\n            }\r\n            else\r\n            {\r\n                $log.error('Invalid number of arguments supplied in the color array: ' + color.length + '\\n' + 'The array must have 3 or 4 colors.');\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Apply given contrast level to the given color\r\n         *\r\n         * @param color\r\n         * @param contrastLevel\r\n         */\r\n        function applyContrast(color, contrastLevel)\r\n        {\r\n            var contrastLevels = {\r\n                'white': {\r\n                    '1': '1',\r\n                    '2': '0.7',\r\n                    '3': '0.3',\r\n                    '4': '0.12'\r\n                },\r\n                'black': {\r\n                    '1': '0.87',\r\n                    '2': '0.54',\r\n                    '3': '0.26',\r\n                    '4': '0.12'\r\n                }\r\n            };\r\n\r\n            // If white\r\n            if ( color[0] === 255 && color[1] === 255 && color[2] === 255 )\r\n            {\r\n                color[3] = contrastLevels.white[contrastLevel];\r\n            }\r\n            // If black\r\n            else if ( color[0] === 0 && color[1] === 0 && color[2] === 0 )\r\n            {\r\n                color[3] = contrastLevels.black[contrastLevel];\r\n            }\r\n\r\n            return color;\r\n        }\r\n\r\n        /**\r\n         * Uppercase first\r\n         */\r\n        function ucfirst(string)\r\n        {\r\n            return string.charAt(0).toUpperCase() + string.slice(1);\r\n        }\r\n    }\r\n\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .controller('MsThemeOptionsController', MsThemeOptionsController)\r\n        .directive('msThemeOptions', msThemeOptions);\r\n\r\n    /** @ngInject */\r\n    function MsThemeOptionsController($cookies, fuseTheming)\r\n    {\r\n        var vm = this;\r\n\r\n        // Data\r\n        vm.themes = fuseTheming.themes;\r\n\r\n        vm.layoutModes = [\r\n            {\r\n                label: 'Boxed',\r\n                value: 'boxed'\r\n            },\r\n            {\r\n                label: 'Wide',\r\n                value: 'wide'\r\n            }\r\n        ];\r\n        vm.layoutStyles = [\r\n            {\r\n                label : 'Vertical Navigation',\r\n                value : 'verticalNavigation',\r\n                //figure: '/assets/images/theme-options/vertical-nav.jpg'\r\n\t\t\t\tfigure: ''\r\n            },\r\n            {\r\n                label : 'Vertical Navigation with Fullwidth Toolbar',\r\n                value : 'verticalNavigationFullwidthToolbar',\r\n                //figure: '/assets/images/theme-options/vertical-nav-with-full-toolbar.jpg'\r\n\t\t\t\tfigure: ''\r\n            },\r\n            {\r\n                label : 'Vertical Navigation with Fullwidth Toolbar 2',\r\n                value : 'verticalNavigationFullwidthToolbar2',\r\n                //figure: '/assets/images/theme-options/vertical-nav-with-full-toolbar-2.jpg'\r\n\t\t\t\tfigure: ''\r\n            },\r\n            {\r\n                label : 'Horizontal Navigation',\r\n                value : 'horizontalNavigation',\r\n                //figure: '/assets/images/theme-options/horizontal-nav.jpg'\r\n\t\t\t\tfigure: ''\r\n            },\r\n            {\r\n                label : 'Content with Toolbar',\r\n                value : 'contentWithToolbar',\r\n                //figure: '/assets/images/theme-options/content-with-toolbar.jpg'\r\n\t\t\t\tfigure: ''\r\n            },\r\n            {\r\n                label : 'Content Only',\r\n                value : 'contentOnly',\r\n                //figure: '/assets/images/theme-options/content-only.jpg'\r\n            },\r\n        ];\r\n\r\n        vm.layoutMode = 'wide';\r\n        vm.layoutStyle = $cookies.get('layoutStyle') || 'verticalNavigation';\r\n\r\n        // Methods\r\n        vm.setActiveTheme = setActiveTheme;\r\n        vm.getActiveTheme = getActiveTheme;\r\n        vm.updateLayoutMode = updateLayoutMode;\r\n        vm.updateLayoutStyle = updateLayoutStyle;\r\n\r\n        //////////\r\n\r\n        /**\r\n         * Set active theme\r\n         *\r\n         * @param themeName\r\n         */\r\n        function setActiveTheme(themeName)\r\n        {\r\n            fuseTheming.setActiveTheme(themeName);\r\n        }\r\n\r\n        /**\r\n         * Get active theme\r\n         *\r\n         * @returns {service.themes.active|{name, theme}}\r\n         */\r\n        function getActiveTheme()\r\n        {\r\n            return fuseTheming.themes.active;\r\n        }\r\n\r\n        /**\r\n         * Update layout mode\r\n         */\r\n        function updateLayoutMode()\r\n        {\r\n            var bodyEl = angular.element('body');\r\n\r\n            // Update class on body element\r\n            bodyEl.toggleClass('boxed', (vm.layoutMode === 'boxed'));\r\n        }\r\n\r\n        /**\r\n         * Update layout style\r\n         */\r\n        function updateLayoutStyle()\r\n        {\r\n            // Update the cookie\r\n            $cookies.put('layoutStyle', vm.layoutStyle);\r\n\r\n            // Reload the page to apply the changes\r\n            location.reload();\r\n        }\r\n    }\r\n\r\n    /** @ngInject */\r\n    function msThemeOptions($mdSidenav)\r\n    {\r\n        return {\r\n            restrict   : 'E',\r\n            scope      : {},\r\n            controller : 'MsThemeOptionsController as vm',\r\n            templateUrl: 'app/core/theme-options/theme-options.html',\r\n            compile    : function (tElement)\r\n            {\r\n                tElement.addClass('ms-theme-options');\r\n\r\n                return function postLink(scope)\r\n                {\r\n                    /**\r\n                     * Toggle options sidenav\r\n                     */\r\n                    function toggleOptionsSidenav()\r\n                    {\r\n                        // Toggle the fuse theme options panel\r\n                        $mdSidenav('fuse-theme-options').toggle();\r\n                    }\r\n\r\n                    // Expose the toggle function\r\n                    scope.toggleOptionsSidenav = toggleOptionsSidenav;\r\n                };\r\n            }\r\n        };\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .factory('msUtils', msUtils);\r\n\r\n    /** @ngInject */\r\n    function msUtils($window)\r\n    {\r\n        // Private variables\r\n        var mobileDetect = new MobileDetect($window.navigator.userAgent),\r\n            browserInfo = null;\r\n\r\n        var service = {\r\n            exists       : exists,\r\n            detectBrowser: detectBrowser,\r\n            guidGenerator: guidGenerator,\r\n            isMobile     : isMobile,\r\n            toggleInArray: toggleInArray\r\n        };\r\n\r\n        return service;\r\n\r\n        //////////\r\n\r\n        /**\r\n         * Check if item exists in a list\r\n         *\r\n         * @param item\r\n         * @param list\r\n         * @returns {boolean}\r\n         */\r\n        function exists(item, list)\r\n        {\r\n            return list.indexOf(item) > -1;\r\n        }\r\n\r\n        /**\r\n         * Returns browser information\r\n         * from user agent data\r\n         *\r\n         * Found at http://www.quirksmode.org/js/detect.html\r\n         * but modified and updated to fit for our needs\r\n         */\r\n        function detectBrowser()\r\n        {\r\n            // If we already tested, do not test again\r\n            if ( browserInfo )\r\n            {\r\n                return browserInfo;\r\n            }\r\n\r\n            var browserData = [\r\n                {\r\n                    string       : $window.navigator.userAgent,\r\n                    subString    : 'Edge',\r\n                    versionSearch: 'Edge',\r\n                    identity     : 'Edge'\r\n                },\r\n                {\r\n                    string   : $window.navigator.userAgent,\r\n                    subString: 'Chrome',\r\n                    identity : 'Chrome'\r\n                },\r\n                {\r\n                    string       : $window.navigator.userAgent,\r\n                    subString    : 'OmniWeb',\r\n                    versionSearch: 'OmniWeb/',\r\n                    identity     : 'OmniWeb'\r\n                },\r\n                {\r\n                    string       : $window.navigator.vendor,\r\n                    subString    : 'Apple',\r\n                    versionSearch: 'Version',\r\n                    identity     : 'Safari'\r\n                },\r\n                {\r\n                    prop    : $window.opera,\r\n                    identity: 'Opera'\r\n                },\r\n                {\r\n                    string   : $window.navigator.vendor,\r\n                    subString: 'iCab',\r\n                    identity : 'iCab'\r\n                },\r\n                {\r\n                    string   : $window.navigator.vendor,\r\n                    subString: 'KDE',\r\n                    identity : 'Konqueror'\r\n                },\r\n                {\r\n                    string   : $window.navigator.userAgent,\r\n                    subString: 'Firefox',\r\n                    identity : 'Firefox'\r\n                },\r\n                {\r\n                    string   : $window.navigator.vendor,\r\n                    subString: 'Camino',\r\n                    identity : 'Camino'\r\n                },\r\n                {\r\n                    string   : $window.navigator.userAgent,\r\n                    subString: 'Netscape',\r\n                    identity : 'Netscape'\r\n                },\r\n                {\r\n                    string       : $window.navigator.userAgent,\r\n                    subString    : 'MSIE',\r\n                    identity     : 'Explorer',\r\n                    versionSearch: 'MSIE'\r\n                },\r\n                {\r\n                    string       : $window.navigator.userAgent,\r\n                    subString    : 'Trident/7',\r\n                    identity     : 'Explorer',\r\n                    versionSearch: 'rv'\r\n                },\r\n                {\r\n                    string       : $window.navigator.userAgent,\r\n                    subString    : 'Gecko',\r\n                    identity     : 'Mozilla',\r\n                    versionSearch: 'rv'\r\n                },\r\n                {\r\n                    string       : $window.navigator.userAgent,\r\n                    subString    : 'Mozilla',\r\n                    identity     : 'Netscape',\r\n                    versionSearch: 'Mozilla'\r\n                }\r\n            ];\r\n\r\n            var osData = [\r\n                {\r\n                    string   : $window.navigator.platform,\r\n                    subString: 'Win',\r\n                    identity : 'Windows'\r\n                },\r\n                {\r\n                    string   : $window.navigator.platform,\r\n                    subString: 'Mac',\r\n                    identity : 'Mac'\r\n                },\r\n                {\r\n                    string   : $window.navigator.platform,\r\n                    subString: 'Linux',\r\n                    identity : 'Linux'\r\n                },\r\n                {\r\n                    string   : $window.navigator.platform,\r\n                    subString: 'iPhone',\r\n                    identity : 'iPhone'\r\n                },\r\n                {\r\n                    string   : $window.navigator.platform,\r\n                    subString: 'iPod',\r\n                    identity : 'iPod'\r\n                },\r\n                {\r\n                    string   : $window.navigator.platform,\r\n                    subString: 'iPad',\r\n                    identity : 'iPad'\r\n                },\r\n                {\r\n                    string   : $window.navigator.platform,\r\n                    subString: 'Android',\r\n                    identity : 'Android'\r\n                }\r\n            ];\r\n\r\n            var versionSearchString = '';\r\n\r\n            function searchString(data)\r\n            {\r\n                for ( var i = 0; i < data.length; i++ )\r\n                {\r\n                    var dataString = data[i].string;\r\n                    var dataProp = data[i].prop;\r\n\r\n                    versionSearchString = data[i].versionSearch || data[i].identity;\r\n\r\n                    if ( dataString )\r\n                    {\r\n                        if ( dataString.indexOf(data[i].subString) !== -1 )\r\n                        {\r\n                            return data[i].identity;\r\n\r\n                        }\r\n                    }\r\n                    else if ( dataProp )\r\n                    {\r\n                        return data[i].identity;\r\n                    }\r\n                }\r\n            }\r\n\r\n            function searchVersion(dataString)\r\n            {\r\n                var index = dataString.indexOf(versionSearchString);\r\n\r\n                if ( index === -1 )\r\n                {\r\n                    return;\r\n                }\r\n\r\n                return parseInt(dataString.substring(index + versionSearchString.length + 1));\r\n            }\r\n\r\n            var browser = searchString(browserData) || 'unknown-browser';\r\n            var version = searchVersion($window.navigator.userAgent) || searchVersion($window.navigator.appVersion) || 'unknown-version';\r\n            var os = searchString(osData) || 'unknown-os';\r\n\r\n            // Prepare and store the object\r\n            browser = browser.toLowerCase();\r\n            version = browser + '-' + version;\r\n            os = os.toLowerCase();\r\n\r\n            browserInfo = {\r\n                browser: browser,\r\n                version: version,\r\n                os     : os\r\n            };\r\n\r\n            return browserInfo;\r\n        }\r\n\r\n        /**\r\n         * Generates a globally unique id\r\n         *\r\n         * @returns {*}\r\n         */\r\n        function guidGenerator()\r\n        {\r\n            var S4 = function ()\r\n            {\r\n                return (((1 + Math.random()) * 0x10000) || 0).toString(16).substring(1);\r\n            };\r\n            return (S4() + S4() + S4() + S4() + S4() + S4());\r\n        }\r\n\r\n        /**\r\n         * Return if current device is a\r\n         * mobile device or not\r\n         */\r\n        function isMobile()\r\n        {\r\n            return mobileDetect.mobile();\r\n        }\r\n\r\n        /**\r\n         * Toggle in array (push or splice)\r\n         *\r\n         * @param item\r\n         * @param array\r\n         */\r\n        function toggleInArray(item, array)\r\n        {\r\n            if ( array.indexOf(item) === -1 )\r\n            {\r\n                array.push(item);\r\n            }\r\n            else\r\n            {\r\n                array.splice(array.indexOf(item), 1);\r\n            }\r\n        }\r\n    }\r\n}());\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .provider('msApi', msApiProvider);\r\n\r\n    /** @ngInject **/\r\n    function msApiProvider()\r\n    {\r\n        /* ----------------- */\r\n        /* Provider          */\r\n        /* ----------------- */\r\n        var provider = this;\r\n\r\n        // Inject the $log service\r\n        var $log = angular.injector(['ng']).get('$log');\r\n\r\n        // Data\r\n        var baseUrl = '';\r\n        var api = [];\r\n\r\n        // Methods\r\n        provider.setBaseUrl = setBaseUrl;\r\n        provider.getBaseUrl = getBaseUrl;\r\n        provider.getApiObject = getApiObject;\r\n        provider.register = register;\r\n\r\n        //////////\r\n\r\n        /**\r\n         * Set base url for API endpoints\r\n         *\r\n         * @param url {string}\r\n         */\r\n        function setBaseUrl(url)\r\n        {\r\n            baseUrl = url;\r\n        }\r\n\r\n        /**\r\n         * Return the base url\r\n         *\r\n         * @returns {string}\r\n         */\r\n        function getBaseUrl()\r\n        {\r\n            return baseUrl;\r\n        }\r\n\r\n        /**\r\n         * Return the api object\r\n         *\r\n         * @returns {object}\r\n         */\r\n        function getApiObject()\r\n        {\r\n            return api;\r\n        }\r\n\r\n        /**\r\n         * Register API endpoint\r\n         *\r\n         * @param key\r\n         * @param resource\r\n         */\r\n        function register(key, resource)\r\n        {\r\n            if ( !angular.isString(key) )\r\n            {\r\n                $log.error('\"path\" must be a string (eg. `dashboard.project`)');\r\n                return;\r\n            }\r\n\r\n            if ( !angular.isArray(resource) )\r\n            {\r\n                $log.error('\"resource\" must be an array and it must follow $resource definition');\r\n                return;\r\n            }\r\n\r\n            // Store the API object\r\n            api[key] = {\r\n                url          : baseUrl + (resource[0] || ''),\r\n                paramDefaults: resource[1] || [],\r\n                actions      : resource[2] || [],\r\n                options      : resource[3] || {}\r\n            };\r\n        }\r\n\r\n        /* ----------------- */\r\n        /* Service           */\r\n        /* ----------------- */\r\n        this.$get = function ($log, $q, $resource, $rootScope)\r\n        {\r\n            // Data\r\n\r\n            // Methods\r\n            var service = {\r\n                setBaseUrl: setBaseUrl,\r\n                getBaseUrl: getBaseUrl,\r\n                register  : register,\r\n                resolve   : resolve,\r\n                request   : request\r\n            };\r\n\r\n            return service;\r\n\r\n            //////////\r\n\r\n            /**\r\n             * Resolve an API endpoint\r\n             *\r\n             * @param action {string}\r\n             * @param parameters {object}\r\n             * @returns {promise|boolean}\r\n             */\r\n            function resolve(action, parameters)\r\n            {\r\n                // Emit an event\r\n                $rootScope.$broadcast('msApi::resolveStart');\r\n                \r\n                var actionParts = action.split('@'),\r\n                    resource = actionParts[0],\r\n                    method = actionParts[1],\r\n                    params = parameters || {};\r\n\r\n                if ( !resource || !method )\r\n                {\r\n                    $log.error('msApi.resolve requires correct action parameter (resourceName@methodName)');\r\n                    return false;\r\n                }\r\n\r\n                // Create a new deferred object\r\n                var deferred = $q.defer();\r\n\r\n                // Get the correct resource definition from api object\r\n                var apiObject = api[resource];\r\n\r\n                if ( !apiObject )\r\n                {\r\n                    $log.error('Resource \"' + resource + '\" is not defined in the api service!');\r\n                    deferred.reject('Resource \"' + resource + '\" is not defined in the api service!');\r\n                }\r\n                else\r\n                {\r\n                    // Generate the $resource object based on the stored API object\r\n                    var resourceObject = $resource(apiObject.url, apiObject.paramDefaults, apiObject.actions, apiObject.options);\r\n\r\n                    // Make the call...\r\n                    resourceObject[method](params,\r\n\r\n                        // Success\r\n                        function (response)\r\n                        {\r\n                            deferred.resolve(response);\r\n\r\n                            // Emit an event\r\n                            $rootScope.$broadcast('msApi::resolveSuccess');\r\n                        },\r\n\r\n                        // Error\r\n                        function (response)\r\n                        {\r\n                            deferred.reject(response);\r\n\r\n                            // Emit an event\r\n                            $rootScope.$broadcast('msApi::resolveError');\r\n                        }\r\n                    );\r\n                }\r\n\r\n                // Return the promise\r\n                return deferred.promise;\r\n            }\r\n\r\n            /**\r\n             * Make a request to an API endpoint\r\n             *\r\n             * @param action {string}\r\n             * @param [parameters] {object}\r\n             * @param [success] {function}\r\n             * @param [error] {function}\r\n             *\r\n             * @returns {promise|boolean}\r\n             */\r\n            function request(action, parameters, success, error)\r\n            {\r\n                // Emit an event\r\n                $rootScope.$broadcast('msApi::requestStart');\r\n                \r\n                var actionParts = action.split('@'),\r\n                    resource = actionParts[0],\r\n                    method = actionParts[1],\r\n                    params = parameters || {};\r\n\r\n                if ( !resource || !method )\r\n                {\r\n                    $log.error('msApi.resolve requires correct action parameter (resourceName@methodName)');\r\n                    return false;\r\n                }\r\n\r\n                // Create a new deferred object\r\n                var deferred = $q.defer();\r\n\r\n                // Get the correct resource definition from api object\r\n                var apiObject = api[resource];\r\n\r\n                if ( !apiObject )\r\n                {\r\n                    $log.error('Resource \"' + resource + '\" is not defined in the api service!');\r\n                    deferred.reject('Resource \"' + resource + '\" is not defined in the api service!');\r\n                }\r\n                else\r\n                {\r\n                    // Generate the $resource object based on the stored API object\r\n                    var resourceObject = $resource(apiObject.url, apiObject.paramDefaults, apiObject.actions, apiObject.options);\r\n\r\n                    // Make the call...\r\n                    resourceObject[method](params,\r\n\r\n                        // SUCCESS\r\n                        function (response)\r\n                        {\r\n                            // Emit an event\r\n                            $rootScope.$broadcast('msApi::requestSuccess');\r\n                            \r\n                            // Resolve the promise\r\n                            deferred.resolve(response);\r\n\r\n                            // Call the success function if there is one\r\n                            if ( angular.isDefined(success) && angular.isFunction(success) )\r\n                            {\r\n                                success(response);\r\n                            }\r\n                        },\r\n\r\n                        // ERROR\r\n                        function (response)\r\n                        {\r\n                            // Emit an event\r\n                            $rootScope.$broadcast('msApi::requestError');\r\n                            \r\n                            // Reject the promise\r\n                            deferred.reject(response);\r\n\r\n                            // Call the error function if there is one\r\n                            if ( angular.isDefined(error) && angular.isFunction(error) )\r\n                            {\r\n                                error(response);\r\n                            }\r\n                        }\r\n                    );\r\n                }\r\n\r\n                // Return the promise\r\n                return deferred.promise;\r\n            }\r\n        };\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .factory('apiResolver', apiResolverService);\r\n\r\n    /** @ngInject */\r\n    function apiResolverService($q, $log, api)\r\n    {\r\n        var service = {\r\n            resolve: resolve\r\n        };\r\n\r\n        return service;\r\n\r\n        //////////\r\n        /**\r\n         * Resolve api\r\n         * @param action\r\n         * @param parameters\r\n         */\r\n        function resolve(action, parameters)\r\n        {\r\n            var actionParts = action.split('@'),\r\n                resource = actionParts[0],\r\n                method = actionParts[1],\r\n                params = parameters || {};\r\n\r\n            if ( !resource || !method )\r\n            {\r\n                $log.error('apiResolver.resolve requires correct action parameter (ResourceName@methodName)');\r\n                return false;\r\n            }\r\n\r\n            // Create a new deferred object\r\n            var deferred = $q.defer();\r\n\r\n            // Get the correct api object from api service\r\n            var apiObject = getApiObject(resource);\r\n\r\n            if ( !apiObject )\r\n            {\r\n                $log.error('Resource \"' + resource + '\" is not defined in the api service!');\r\n                deferred.reject('Resource \"' + resource + '\" is not defined in the api service!');\r\n            }\r\n            else\r\n            {\r\n                apiObject[method](params,\r\n\r\n                    // Success\r\n                    function (response)\r\n                    {\r\n                        deferred.resolve(response);\r\n                    },\r\n\r\n                    // Error\r\n                    function (response)\r\n                    {\r\n                        deferred.reject(response);\r\n                    }\r\n                );\r\n            }\r\n\r\n            // Return the promise\r\n            return deferred.promise;\r\n        }\r\n\r\n        /**\r\n         * Get correct api object\r\n         *\r\n         * @param resource\r\n         * @returns {*}\r\n         */\r\n        function getApiObject(resource)\r\n        {\r\n            // Split the resource in case if we have a dot notated object\r\n            var resourceParts = resource.split('.'),\r\n                apiObject = api;\r\n\r\n            // Loop through the resource parts and go all the way through\r\n            // the api object and return the correct one\r\n            for ( var l = 0; l < resourceParts.length; l++ )\r\n            {\r\n                if ( angular.isUndefined(apiObject[resourceParts[l]]) )\r\n                {\r\n                    $log.error('Resource part \"' + resourceParts[l] + '\" is not defined!');\r\n                    apiObject = false;\r\n                    break;\r\n                }\r\n\r\n                apiObject = apiObject[resourceParts[l]];\r\n            }\r\n\r\n            if ( !apiObject )\r\n            {\r\n                return false;\r\n            }\r\n\r\n            return apiObject;\r\n        }\r\n    }\r\n\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .filter('filterByTags', filterByTags)\r\n        .filter('filterSingleByTags', filterSingleByTags);\r\n\r\n    /** @ngInject */\r\n    function filterByTags()\r\n    {\r\n        return function (items, tags)\r\n        {\r\n            if ( items.length === 0 || tags.length === 0 )\r\n            {\r\n                return items;\r\n            }\r\n\r\n            var filtered = [];\r\n\r\n            items.forEach(function (item)\r\n            {\r\n                var match = tags.every(function (tag)\r\n                {\r\n                    var tagExists = false;\r\n\r\n                    item.tags.forEach(function (itemTag)\r\n                    {\r\n                        if ( itemTag.name === tag.name )\r\n                        {\r\n                            tagExists = true;\r\n                            return;\r\n                        }\r\n                    });\r\n\r\n                    return tagExists;\r\n                });\r\n\r\n                if ( match )\r\n                {\r\n                    filtered.push(item);\r\n                }\r\n            });\r\n\r\n            return filtered;\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function filterSingleByTags()\r\n    {\r\n        return function (itemTags, tags)\r\n        {\r\n            if ( itemTags.length === 0 || tags.length === 0 )\r\n            {\r\n                return;\r\n            }\r\n\r\n            if ( itemTags.length < tags.length )\r\n            {\r\n                return [];\r\n            }\r\n\r\n            var filtered = [];\r\n\r\n            var match = tags.every(function (tag)\r\n            {\r\n                var tagExists = false;\r\n\r\n                itemTags.forEach(function (itemTag)\r\n                {\r\n                    if ( itemTag.name === tag.name )\r\n                    {\r\n                        tagExists = true;\r\n                        return;\r\n                    }\r\n                });\r\n\r\n                return tagExists;\r\n            });\r\n\r\n            if ( match )\r\n            {\r\n                filtered.push(itemTags);\r\n            }\r\n\r\n            return filtered;\r\n        };\r\n    }\r\n\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .filter('filterByPropIds', filterByPropIds);\r\n\r\n    /** @ngInject */\r\n    function filterByPropIds()\r\n    {\r\n        return function (items, parameter, ids)\r\n        {\r\n            if ( items.length === 0 || !ids || ids.length === 0 )\r\n            {\r\n                return items;\r\n            }\r\n\r\n            var filtered = [];\r\n\r\n            for ( var i = 0; i < items.length; i++ )\r\n            {\r\n                var item = items[i];\r\n                var match = false;\r\n\r\n                for ( var j = 0; j < ids.length; j++ )\r\n                {\r\n                    var id = ids[j];\r\n                    if ( item[parameter].indexOf(id) > -1 )\r\n                    {\r\n                        match = true;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                if ( match )\r\n                {\r\n                    filtered.push(item);\r\n                }\r\n\r\n            }\r\n\r\n            return filtered;\r\n\r\n        };\r\n    }\r\n\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .filter('filterByIds', filterByIds);\r\n\r\n    /** @ngInject */\r\n    function filterByIds()\r\n    {\r\n        return function (items, ids)\r\n        {\r\n\r\n            if ( items.length === 0 || !ids )\r\n            {\r\n                return items;\r\n            }\r\n\r\n            if ( ids.length === 0 )\r\n            {\r\n                return [];\r\n            }\r\n\r\n            var filtered = [];\r\n\r\n            for ( var i = 0; i < items.length; i++ )\r\n            {\r\n                var item = items[i];\r\n                var match = false;\r\n\r\n                for ( var j = 0; j < ids.length; j++ )\r\n                {\r\n                    var id = ids[j];\r\n                    if ( item.id === id )\r\n                    {\r\n                        match = true;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                if ( match )\r\n                {\r\n                    filtered.push(item);\r\n                }\r\n\r\n            }\r\n\r\n            return filtered;\r\n\r\n        };\r\n    }\r\n\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .filter('toTrusted', toTrustedFilter)\r\n        .filter('htmlToPlaintext', htmlToPlainTextFilter)\r\n        .filter('nospace', nospaceFilter)\r\n        .filter('humanizeDoc', humanizeDocFilter);\r\n\r\n    /** @ngInject */\r\n    function toTrustedFilter($sce)\r\n    {\r\n        return function (value)\r\n        {\r\n            return $sce.trustAsHtml(value);\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function htmlToPlainTextFilter()\r\n    {\r\n        return function (text)\r\n        {\r\n            return String(text).replace(/<[^>]+>/gm, '');\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function nospaceFilter()\r\n    {\r\n        return function (value)\r\n        {\r\n            return (!value) ? '' : value.replace(/ /g, '');\r\n        };\r\n    }\r\n\r\n    /** @ngInject */\r\n    function humanizeDocFilter()\r\n    {\r\n        return function (doc)\r\n        {\r\n            if ( !doc )\r\n            {\r\n                return;\r\n            }\r\n            if ( doc.type === 'directive' )\r\n            {\r\n                return doc.name.replace(/([A-Z])/g, function ($1)\r\n                {\r\n                    return '-' + $1.toLowerCase();\r\n                });\r\n            }\r\n            return doc.label || doc.name;\r\n        };\r\n    }\r\n\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .filter('altDate', altDate);\r\n\r\n    /** @ngInject */\r\n    function altDate()\r\n    {\r\n        return function (value)\r\n        {\r\n            var diff = Date.now() - new Date(value);\r\n\r\n            /**\r\n             * If in a hour\r\n             * e.g. \"2 minutes ago\"\r\n             */\r\n            if ( diff < (60 * 60 * 1000) )\r\n            {\r\n                return moment(value).fromNow();\r\n            }\r\n            /*\r\n             * If in the day\r\n             * e.g. \"11:23\"\r\n             */\r\n            else if ( diff < (60 * 60 * 24 * 1000) )\r\n            {\r\n                return moment(value).format('HH:mm');\r\n            }\r\n            /*\r\n             * If in week\r\n             * e.g \"Tuesday\"\r\n             */\r\n            else if ( diff < (60 * 60 * 24 * 7 * 1000) )\r\n            {\r\n                return moment(value).format('dddd');\r\n            }\r\n            /*\r\n             * If more than a week\r\n             * e.g. 03/29/2016\r\n             */\r\n            else\r\n            {\r\n                return moment(value).calendar();\r\n            }\r\n\r\n        };\r\n    }\r\n\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .directive('hljs', hljsDirective);\r\n\r\n    /** @ngInject */\r\n    function hljsDirective($timeout, $q, $interpolate)\r\n    {\r\n        return {\r\n            restrict: 'E',\r\n            compile : function (element, attr)\r\n            {\r\n                var code;\r\n                //No attribute? code is the content\r\n                if ( !attr.code )\r\n                {\r\n                    code = element.html();\r\n                    element.empty();\r\n                }\r\n\r\n                return function (scope, element, attr)\r\n                {\r\n\r\n                    if ( attr.code )\r\n                    {\r\n                        // Attribute? code is the evaluation\r\n                        code = scope.$eval(attr.code);\r\n                    }\r\n                    var shouldInterpolate = scope.$eval(attr.shouldInterpolate);\r\n\r\n                    $q.when(code).then(function (code)\r\n                    {\r\n                        if ( code )\r\n                        {\r\n                            if ( shouldInterpolate )\r\n                            {\r\n                                code = $interpolate(code)(scope);\r\n                            }\r\n                            var contentParent = angular.element(\r\n                                '<pre><code class=\"highlight\" ng-non-bindable></code></pre>'\r\n                            );\r\n                            element.append(contentParent);\r\n                            // Defer highlighting 1-frame to prevent GA interference...\r\n                            $timeout(function ()\r\n                            {\r\n                                render(code, contentParent);\r\n                            }, 34, false);\r\n                        }\r\n                    });\r\n\r\n                    function render(contents, parent)\r\n                    {\r\n\r\n                        var codeElement = parent.find('code');\r\n                        var lines = contents.split('\\n');\r\n\r\n                        // Remove empty lines\r\n                        lines = lines.filter(function (line)\r\n                        {\r\n                            return line.trim().length;\r\n                        });\r\n\r\n                        // Make it so each line starts at 0 whitespace\r\n                        var firstLineWhitespace = lines[0].match(/^\\s*/)[0];\r\n                        var startingWhitespaceRegex = new RegExp('^' + firstLineWhitespace);\r\n                        lines = lines.map(function (line)\r\n                        {\r\n                            return line\r\n                                .replace(startingWhitespaceRegex, '')\r\n                                .replace(/\\s+$/, '');\r\n                        });\r\n\r\n                        var highlightedCode = hljs.highlight(attr.language || attr.lang, lines.join('\\n'), true);\r\n                        highlightedCode.value = highlightedCode.value\r\n                            .replace(/=<span class=\"hljs-value\">\"\"<\\/span>/gi, '')\r\n                            .replace('<head>', '')\r\n                            .replace('<head/>', '');\r\n                        codeElement.append(highlightedCode.value).addClass('highlight');\r\n                    }\r\n                };\r\n            }\r\n        };\r\n    }\r\n})();\n(function (root, factory) {\r\n  if (typeof define === 'function' && define.amd) {\r\n    define(factory);\r\n  } else if (typeof exports === 'object') {\r\n    module.exports = factory(require, exports, module);\r\n  } else {\r\n    root.CountUp = factory();\r\n  }\r\n}(this, function (require, exports, module) {\r\n\r\n  /*\r\n\r\n      countUp.js\r\n      (c) 2014-2015 @inorganik\r\n      Licensed under the MIT license.\r\n\r\n  */\r\n\r\n  // target = id of html element or var of previously selected html element where counting occurs\r\n  // startVal = the value you want to begin at\r\n  // endVal = the value you want to arrive at\r\n  // decimals = number of decimal places, default 0\r\n  // duration = duration of animation in seconds, default 2\r\n  // options = optional object of options (see below)\r\n\r\n  var CountUp = function (target, startVal, endVal, decimals, duration, options) {\r\n\r\n    // make sure requestAnimationFrame and cancelAnimationFrame are defined\r\n    // polyfill for browsers without native support\r\n    // by Opera engineer Erik Mller\r\n    var lastTime = 0;\r\n    var vendors = ['webkit', 'moz', 'ms', 'o'];\r\n    for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\r\n      window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\r\n      window.cancelAnimationFrame =\r\n        window[vendors[x] + 'CancelAnimationFrame'] || window[vendors[x] + 'CancelRequestAnimationFrame'];\r\n    }\r\n    if (!window.requestAnimationFrame) {\r\n      window.requestAnimationFrame = function (callback, element) {\r\n        var currTime = new Date().getTime();\r\n        var timeToCall = Math.max(0, 16 - (currTime - lastTime));\r\n        var id = window.setTimeout(function () {\r\n            callback(currTime + timeToCall);\r\n          },\r\n          timeToCall);\r\n        lastTime = currTime + timeToCall;\r\n        return id;\r\n      };\r\n    }\r\n    if (!window.cancelAnimationFrame) {\r\n      window.cancelAnimationFrame = function (id) {\r\n        clearTimeout(id);\r\n      };\r\n    }\r\n\r\n    // default options\r\n    this.options = {\r\n      useEasing: true, // toggle easing\r\n      useGrouping: true, // 1,000,000 vs 1000000\r\n      separator: ',', // character to use as a separator\r\n      decimal: '.', // character to use as a decimal\r\n      postFormatter: null // post formatter to run after internal formatting\r\n    };\r\n    // extend default options with passed options object\r\n    for (var key in options) {\r\n      if (options.hasOwnProperty(key)) {\r\n        this.options[key] = options[key];\r\n      }\r\n    }\r\n    if (this.options.separator === '') this.options.useGrouping = false;\r\n    if (!this.options.prefix) this.options.prefix = '';\r\n    if (!this.options.suffix) this.options.suffix = '';\r\n\r\n    this.d = (typeof target === 'string') ? document.getElementById(target) : target;\r\n    this.startVal = Number(startVal);\r\n    this.endVal = Number(endVal);\r\n    this.countDown = (this.startVal > this.endVal);\r\n    this.frameVal = this.startVal;\r\n    this.decimals = Math.max(0, decimals || 0);\r\n    this.dec = Math.pow(10, this.decimals);\r\n    this.duration = Number(duration) * 1000 || 2000;\r\n    var self = this;\r\n\r\n    this.version = function () {\r\n      return '1.6.1';\r\n    };\r\n\r\n    // Print value to target\r\n    this.printValue = function (value) {\r\n      var result = (!isNaN(value)) ? self.formatNumber(value) : '--';\r\n      /*if (self.d.tagName == 'INPUT') {\r\n          this.d.value = result;\r\n      }\r\n      else if (self.d.tagName == 'text' ||self.d.tagName == 'tspan') {\r\n          this.d.textContent = result;\r\n      }\r\n      else {\r\n          this.d.innerHTML = result;\r\n      }*/\r\n      this.d.innerHTML = result;\r\n    };\r\n\r\n    // Robert Penner's easeOutExpo\r\n    this.easeOutExpo = function (t, b, c, d) {\r\n      return c * (-Math.pow(2, -10 * t / d) + 1) * 1024 / 1023 + b;\r\n    };\r\n    this.count = function (timestamp) {\r\n      if (timestamp == undefined) {\r\n        var now = new Date();\r\n        var datetime = now.getFullYear() + '-' + (now.getMonth() + 1) + '-' + now.getDate();\r\n        datetime += ' ' + now.getHours() + ':' + now.getMinutes() + ':' + now.getSeconds();\r\n\r\n\r\n        // var date = new Date().getUTCDate();\r\n        var t = datetime.split(/[- :]/);\r\n        var d = new Date(t[0], t[1] - 1, t[2], t[3], t[4], t[5]);\r\n        timestamp = d\r\n      }\r\n      if (!self.startTime) self.startTime = timestamp;\r\n\r\n      self.timestamp = timestamp;\r\n\r\n      var progress = timestamp - self.startTime;\r\n      self.remaining = self.duration - progress;\r\n\r\n      // to ease or not to ease\r\n      if (self.options.useEasing) {\r\n        if (self.countDown) {\r\n          self.frameVal = self.startVal - self.easeOutExpo(progress, 0, self.startVal - self.endVal, self.duration);\r\n        } else {\r\n          self.frameVal = self.easeOutExpo(progress, self.startVal, self.endVal - self.startVal, self.duration);\r\n        }\r\n      } else {\r\n        if (self.countDown) {\r\n          self.frameVal = self.startVal - ((self.startVal - self.endVal) * (progress / self.duration));\r\n        } else {\r\n          self.frameVal = self.startVal + (self.endVal - self.startVal) * (progress / self.duration);\r\n        }\r\n      }\r\n\r\n      // don't go past endVal since progress can exceed duration in the last frame\r\n      if (self.countDown) {\r\n        self.frameVal = (self.frameVal < self.endVal) ? self.endVal : self.frameVal;\r\n      } else {\r\n        self.frameVal = (self.frameVal > self.endVal) ? self.endVal : self.frameVal;\r\n      }\r\n\r\n      // decimal\r\n      self.frameVal = Math.floor(self.frameVal * self.dec) / self.dec;\r\n\r\n      // format and print value\r\n      self.printValue(self.frameVal);\r\n      // whether to continue\r\n      if (progress < self.duration) {\r\n        self.rAF = requestAnimationFrame(self.count);\r\n      } else {\r\n        if (self.callback) self.callback();\r\n      }\r\n    };\r\n    // start your animation\r\n    this.start = function (callback) {\r\n      self.callback = callback;\r\n      self.rAF = requestAnimationFrame(self.count);\r\n      return false;\r\n    };\r\n    // toggles pause/resume animation\r\n    this.pauseResume = function () {\r\n      if (!self.paused) {\r\n        self.paused = true;\r\n        cancelAnimationFrame(self.rAF);\r\n      } else {\r\n        self.paused = false;\r\n        delete self.startTime;\r\n        self.duration = self.remaining;\r\n        self.startVal = self.frameVal;\r\n        requestAnimationFrame(self.count);\r\n      }\r\n    };\r\n    // reset to startVal so animation can be run again\r\n    this.reset = function () {\r\n      self.paused = false;\r\n      delete self.startTime;\r\n      self.startVal = startVal;\r\n      cancelAnimationFrame(self.rAF);\r\n      self.printValue(self.startVal);\r\n    };\r\n    // pass a new endVal and start animation\r\n    this.update = function (newEndVal) {\r\n      cancelAnimationFrame(self.rAF);\r\n      self.paused = false;\r\n      delete self.startTime;\r\n      self.startVal = self.frameVal;\r\n      self.endVal = Number(newEndVal);\r\n      self.countDown = (self.startVal > self.endVal);\r\n      self.rAF = requestAnimationFrame(self.count);\r\n    };\r\n    this.formatNumber = function (nStr) {\r\n      nStr = nStr.toFixed(self.decimals);\r\n      nStr += '';\r\n      var x, x1, x2, rgx;\r\n      x = nStr.split('.');\r\n      x1 = x[0];\r\n      x2 = x.length > 1 ? self.options.decimal + x[1] : '';\r\n      rgx = /(\\d+)(\\d{3})/;\r\n      if (self.options.useGrouping) {\r\n        while (rgx.test(x1)) {\r\n          x1 = x1.replace(rgx, '$1' + self.options.separator + '$2');\r\n        }\r\n      }\r\n      var value = self.options.prefix + x1 + x2 + self.options.suffix;\r\n      if (self.options.postFormatter != null) {\r\n        value = self.options.postFormatter(value);\r\n      }\r\n      return value;\r\n    };\r\n\r\n    // format startVal on initialization\r\n    self.printValue(self.startVal);\r\n  };\r\n\r\n  // Example:\r\n  // var numAnim = new countUp(\"SomeElementYouWantToAnimate\", 0, 99.99, 2, 2.5);\r\n  // numAnim.start();\r\n  // numAnim.update(135);\r\n  // with optional callback:\r\n  // numAnim.start(someMethodToCallOnComplete);\r\n\r\n  return CountUp;\r\n\r\n}));\r\n\r\n\r\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.core')\r\n    .directive('countupto', countupto);\r\n\r\n  /* @ngInject */\r\n  function countupto($timeout) {\r\n    // Usage:\r\n    //\r\n    // ```html\r\n    // <h1 countupto=\"100\"></h1>\r\n    // ```\r\n    // Creates:\r\n    //\r\n    var directive = {\r\n      link: link,\r\n      restrict: 'A',\r\n      scope: {\r\n        'countupto': '=',\r\n        'options': '='\r\n      }\r\n    };\r\n    return directive;\r\n\r\n    function link($scope, $element, attrs) {\r\n\r\n      var options = {\r\n        useEasing: true,\r\n        useGrouping: true,\r\n        separator: ',',\r\n        decimal: '.',\r\n        prefix: '',\r\n        suffix: ''\r\n      };\r\n\r\n      var numAnim;\r\n\r\n      // override default options?\r\n      if ($scope.options) {\r\n\r\n        for (var option in options) {\r\n          if (angular.isDefined($scope.options[option])) {\r\n            options[option] = $scope.options[option];\r\n          }\r\n        }\r\n      }\r\n      //console.log(\"-----\");\r\n      //console.log(attrs.duration);\r\n      attrs.from = angular.isUndefined(attrs.from) ? 0 : parseInt(attrs.from);\r\n      attrs.decimals = angular.isUndefined(attrs.decimals) ? 2 : parseFloat(attrs.decimals);\r\n      attrs.duration = angular.isUndefined(attrs.duration) ? 3 : parseFloat(attrs.duration);\r\n\r\n      $timeout(function () {\r\n        //console.log(\"--countup--\");\t\r\n        //console.log( $scope.countupto);\t\r\n        numAnim = new CountUp($element[0], attrs.from, $scope.countupto, attrs.decimals, attrs.duration, options);\r\n        numAnim.start();\r\n\r\n        $scope.$watch('countupto', function (value, oldValue) {\r\n          if (angular.isDefined(value) && value != oldValue) {\r\n            numAnim.update(value);\r\n          }\r\n        });\r\n\r\n      }, 500);\r\n    }\r\n  }\r\n\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .provider('fuseConfig', fuseConfigProvider);\r\n\r\n    /** @ngInject */\r\n    function fuseConfigProvider()\r\n    {\r\n        // Default configuration\r\n        var fuseConfiguration = {\r\n            'disableCustomScrollbars'        : false,\r\n            'disableMdInkRippleOnMobile'     : true,\r\n            'disableCustomScrollbarsOnMobile': true\r\n        };\r\n\r\n        // Methods\r\n        this.config = config;\r\n\r\n        //////////\r\n\r\n        /**\r\n         * Extend default configuration with the given one\r\n         *\r\n         * @param configuration\r\n         */\r\n        function config(configuration)\r\n        {\r\n            fuseConfiguration = angular.extend({}, fuseConfiguration, configuration);\r\n        }\r\n\r\n        /**\r\n         * Service\r\n         */\r\n        this.$get = function ()\r\n        {\r\n            var service = {\r\n                getConfig: getConfig,\r\n                setConfig: setConfig\r\n            };\r\n\r\n            return service;\r\n\r\n            //////////\r\n\r\n            /**\r\n             * Returns a config value\r\n             */\r\n            function getConfig(configName)\r\n            {\r\n                if ( angular.isUndefined(fuseConfiguration[configName]) )\r\n                {\r\n                    return false;\r\n                }\r\n\r\n                return fuseConfiguration[configName];\r\n            }\r\n\r\n            /**\r\n             * Creates or updates config object\r\n             *\r\n             * @param configName\r\n             * @param configValue\r\n             */\r\n            function setConfig(configName, configValue)\r\n            {\r\n                fuseConfiguration[configName] = configValue;\r\n            }\r\n        };\r\n    }\r\n\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.toolbar', [])\r\n        .config(config);\r\n\r\n    /** @ngInject */\r\n    function config($translatePartialLoaderProvider)\r\n    {\r\n        $translatePartialLoaderProvider.addPart('app/toolbar');\r\n    }\r\n})();\r\n\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.toolbar')\r\n    .controller('ToolbarController', ToolbarController);\r\n\r\n  /** @ngInject */\r\n  function ToolbarController($rootScope, $scope, $q, $state, $timeout, $mdSidenav, $translate, $mdToast, msNavigationService, Clique, $window,$mdMedia) {\r\n    var vm = this;\r\n    var appConfig = Clique.configApp();\r\n    $scope.appName = appConfig.appName;\r\n    $scope.appLogo = appConfig.appLogo;\r\n\r\n    vm.selectCompany = selectCompany;\r\n    // Data\r\n    $rootScope.global = {\r\n      search: ''\r\n    };\r\n\r\n    $scope.customerInfo = null;\r\n    $scope.companyName = '';\r\n\r\n    vm.bodyEl = angular.element('body');\r\n    if ((localStorage.getItem(\"CUSTOMER_LIST\") != '') && (localStorage.getItem(\"CUSTOMER_LIST\") != undefined) && (localStorage.getItem(\"CUSTOMER_LIST\") != null)) {\r\n      $scope.customerInfo = JSON.parse(localStorage.getItem(\"CUSTOMER_LIST\"));\r\n      $scope.currentCustomerInfo = JSON.parse(localStorage.getItem('CURRENT_CUSTOMER'));\r\n      $scope.companyName = $scope.currentCustomerInfo.company_name;\r\n\r\n    }\r\n\r\n    function selectCompany(customer) {\r\n      localStorage.setItem('CURRENT_CUSTOMER', JSON.stringify(customer));\r\n      $scope.companyName = customer.company_name\r\n      $state.reload();\r\n    }\r\n\r\n\r\n    vm.userStatusOptions = [{\r\n        'title': 'Online',\r\n        'icon': 'icon-checkbox-marked-circle',\r\n        'color': '#4CAF50'\r\n      },\r\n      {\r\n        'title': 'Away',\r\n        'icon': 'icon-clock',\r\n        'color': '#FFC107'\r\n      },\r\n      {\r\n        'title': 'Do not Disturb',\r\n        'icon': 'icon-minus-circle',\r\n        'color': '#F44336'\r\n      },\r\n      {\r\n        'title': 'Invisible',\r\n        'icon': 'icon-checkbox-blank-circle-outline',\r\n        'color': '#BDBDBD'\r\n      },\r\n      {\r\n        'title': 'Offline',\r\n        'icon': 'icon-checkbox-blank-circle-outline',\r\n        'color': '#616161'\r\n      }\r\n    ];\r\n    vm.languages = {\r\n      en: {\r\n        'title': 'English',\r\n        'translation': 'TOOLBAR.ENGLISH',\r\n        'code': 'en',\r\n        'flag': 'us'\r\n      },\r\n      es: {\r\n        'title': 'Spanish',\r\n        'translation': 'TOOLBAR.SPANISH',\r\n        'code': 'es',\r\n        'flag': 'es'\r\n      },\r\n      tr: {\r\n        'title': 'Turkish',\r\n        'translation': 'TOOLBAR.TURKISH',\r\n        'code': 'tr',\r\n        'flag': 'tr'\r\n      }\r\n    };\r\n    vm.customMenu = [{\r\n      'name': \"Logout\",\r\n      'url': \"/apps/customerportal/login\",\r\n      'icon': \"icon-logout\"\r\n    }];\r\n    //console.log(vm.topMenuList);\r\n    // Methods\r\n    vm.toggleSidenav = toggleSidenav;\r\n    vm.logout = logout;\r\n    vm.changeLanguage = changeLanguage;\r\n    vm.setUserStatus = setUserStatus;\r\n    vm.toggleHorizontalMobileMenu = toggleHorizontalMobileMenu;\r\n    vm.toggleMsNavigationFolded = toggleMsNavigationFolded;\r\n    vm.search = search;\r\n    vm.searchResultClick = searchResultClick;\r\n    vm.user_name = Clique.getUserName();\r\n    vm.topMenuList = Clique.topMenus;\r\n    vm.TopMenu = TopMenu;\r\n\r\n    //////////\r\n\r\n    init();\r\n\r\n    /**\r\n     * Initialize\r\n     */\r\n    function init() {\r\n      // console.log(vm.topMenuList);\r\n      // Select the first status as a default\r\n      vm.userStatus = vm.userStatusOptions[0];\r\n\r\n      // Get the selected language directly from angular-translate module setting\r\n      vm.selectedLanguage = vm.languages[$translate.preferredLanguage()];\r\n    }\r\n\r\n    function TopMenu(menu) {\r\n      if (menu.url == \"/apps/customerportal/login\") {\r\n        localStorage.removeItem('CURRENT_CUSTOMER');\r\n        localStorage.removeItem('CUSTOMER_LIST');\r\n        localStorage.removeItem('invoice_detail');\r\n        localStorage.removeItem('is_ach_enable');\r\n\r\n        sessionStorage.removeItem('app_id');\r\n        localStorage.removeItem('app_id');\r\n\r\n      }\r\n      $window.location.assign(menu.url);\r\n    }\r\n    /**\r\n     * Toggle sidenav\r\n     *\r\n     * @param sidenavId\r\n     */\r\n    function toggleSidenav(sidenavId) {\r\n      $mdMedia('md')\r\n      $mdSidenav(sidenavId).toggle();\r\n    }\r\n\r\n    /**\r\n     * Sets User Status\r\n     * @param status\r\n     */\r\n    function setUserStatus(status) {\r\n      vm.userStatus = status;\r\n    }\r\n\r\n    /**\r\n     * Logout Function\r\n     */\r\n    function logout() {\r\n      // Do logout here..\r\n    }\r\n\r\n    /**\r\n     * Change Language\r\n     */\r\n    function changeLanguage(lang) {\r\n      vm.selectedLanguage = lang;\r\n\r\n      /**\r\n       * Show temporary message if user selects a language other than English\r\n       *\r\n       * angular-translate module will try to load language specific json files\r\n       * as soon as you change the language. And because we don't have them, there\r\n       * will be a lot of errors in the page potentially breaking couple functions\r\n       * of the template.\r\n       *\r\n       * To prevent that from happening, we added a simple \"return;\" statement at the\r\n       * end of this if block. If you have all the translation files, remove this if\r\n       * block and the translations should work without any problems.\r\n       */\r\n      if (lang.code !== 'en') {\r\n        var message = 'Fuse supports translations through angular-translate module, but currently we do not have any translations other than English language. If you want to help us, send us a message through ThemeForest profile page.';\r\n\r\n        $mdToast.show({\r\n          template: '<md-toast id=\"language-message\" layout=\"column\" layout-align=\"center start\"><div class=\"md-toast-content\">' + message + '</div></md-toast>',\r\n          hideDelay: 7000,\r\n          position: 'top right',\r\n          parent: '#content'\r\n        });\r\n\r\n        return;\r\n      }\r\n\r\n      // Change the language\r\n      $translate.use(lang.code);\r\n    }\r\n\r\n    /**\r\n     * Toggle horizontal mobile menu\r\n     */\r\n    function toggleHorizontalMobileMenu() {\r\n      vm.bodyEl.toggleClass('ms-navigation-horizontal-mobile-menu-active');\r\n    }\r\n\r\n    /**\r\n     * Toggle msNavigation folded\r\n     */\r\n    function toggleMsNavigationFolded() {\r\n      msNavigationService.toggleFolded();\r\n    }\r\n\r\n    /**\r\n     * Search action\r\n     *\r\n     * @param query\r\n     * @returns {Promise}\r\n     */\r\n    function search(query) {\r\n      var navigation = [],\r\n        flatNavigation = msNavigationService.getFlatNavigation(),\r\n        deferred = $q.defer();\r\n\r\n      // Iterate through the navigation array and\r\n      // make sure it doesn't have any groups or\r\n      // none ui-sref items\r\n      for (var x = 0; x < flatNavigation.length; x++) {\r\n        if (flatNavigation[x].uisref) {\r\n          navigation.push(flatNavigation[x]);\r\n        }\r\n      }\r\n\r\n      // If there is a query, filter the navigation;\r\n      // otherwise we will return the entire navigation\r\n      // list. Not exactly a good thing to do but it's\r\n      // for demo purposes.\r\n      if (query) {\r\n        navigation = navigation.filter(function (item) {\r\n          if (angular.lowercase(item.title).search(angular.lowercase(query)) > -1) {\r\n            return true;\r\n          }\r\n        });\r\n      }\r\n\r\n      // Fake service delay\r\n      $timeout(function () {\r\n        deferred.resolve(navigation);\r\n      }, 1000);\r\n\r\n      return deferred.promise;\r\n    }\r\n\r\n    /**\r\n     * Search result click action\r\n     *\r\n     * @param item\r\n     */\r\n    function searchResultClick(item) {\r\n      // If item has a link\r\n      if (item.uisref) {\r\n        // If there are state params,\r\n        // use them...\r\n        if (item.stateParams) {\r\n          $state.go(item.state, item.stateParams);\r\n        } else {\r\n          $state.go(item.state);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.quick-panel')\r\n        .controller('QuickPanelController', QuickPanelController);\r\n\r\n    /** @ngInject */\r\n    function QuickPanelController(msApi)\r\n    {\r\n        var vm = this;\r\n\r\n        // Data\r\n        vm.date = new Date();\r\n        vm.settings = {\r\n            notify: true,\r\n            cloud : false,\r\n            retro : true\r\n        };\r\n\r\n        msApi.request('quickPanel.activities@get', {},\r\n            // Success\r\n            function (response)\r\n            {\r\n                vm.activities = response.data;\r\n            }\r\n        );\r\n\r\n        msApi.request('quickPanel.events@get', {},\r\n            // Success\r\n            function (response)\r\n            {\r\n                vm.events = response.data;\r\n            }\r\n        );\r\n\r\n        msApi.request('quickPanel.notes@get', {},\r\n            // Success\r\n            function (response)\r\n            {\r\n                vm.notes = response.data;\r\n            }\r\n        );\r\n\r\n        // Methods\r\n\r\n        //////////\r\n    }\r\n\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.navigation', [])\r\n        .config(config);\r\n\r\n    /** @ngInject */\r\n    function config()\r\n    {\r\n        \r\n    }\r\n\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.navigation')\r\n        .controller('NavigationController', NavigationController);\r\n\r\n    /** @ngInject */\r\n    function NavigationController($scope,$rootScope,Clique)\r\n    {\r\n        var vm = this;\r\n        var appConfig = Clique.configApp();\r\n        $scope.appName = appConfig.appName;\r\n        $scope.appLogo = appConfig.appLogo;\r\n        \r\n        // Data\r\n        vm.bodyEl = angular.element('body');\r\n        vm.folded = false;\r\n        vm.msScrollOptions = {\r\n            suppressScrollX: true\r\n        };\r\n\r\n        // Methods\r\n        vm.toggleMsNavigationFolded = toggleMsNavigationFolded;\r\n\r\n        //////////\r\n\r\n        /**\r\n         * Toggle folded status\r\n         */\r\n        function toggleMsNavigationFolded()\r\n        {\r\n            vm.folded = !vm.folded;\r\n\t\t\t//alert($rootScope.foldedLeftPannel);\r\n\t\t\t//$rootScope.foldedLeftPannel = !$rootScope.foldedLeftPannel;\r\n\t\t\t//vm.folded = false;\r\n        }\r\n\r\n        // Close the mobile menu on $stateChangeSuccess\r\n        $scope.$on('$stateChangeSuccess', function ()\r\n        {\r\n            vm.bodyEl.removeClass('ms-navigation-horizontal-mobile-menu-active');\r\n        });\r\n    }\r\n\r\n})();\n(function () {\r\n  'use strict';\r\n\r\n  /**\r\n   * Main module of the Fuse\r\n   */\r\n  angular\r\n    .module('fuse', [\r\n\r\n      // Core\r\n      'app.core',\r\n\r\n      // Navigation\r\n      'app.navigation',\r\n\r\n      // Toolbar\r\n      'app.toolbar',\r\n\r\n      // Quick panel\r\n      'app.quick-panel',\r\n\r\n      //'app.pages',\r\n\r\n      // Sample\r\n      //'app.sample'\r\n      'app.invoice',\r\n      'app.account',\r\n      'app.statement',\r\n\r\n      'app.cardconnect',\r\n      'md.data.table',\r\n      //\r\n      'pdfjsViewer',\r\n    ]);\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n    angular\r\n        .module('fuse')\r\n        .controller('MainController', MainController);\r\n\r\n    /** @ngInject */\r\n    function MainController($scope, $rootScope)\r\n    {\r\n        // Data\r\n\r\n        //////////\r\n\r\n        // Remove the splash screen\r\n        $scope.$on('$viewContentAnimationEnded', function (event)\r\n        {\r\n            if ( event.targetScope.$id === $scope.$id )\r\n            {\r\n                $rootScope.$broadcast('msSplashScreen::remove');\r\n            }\r\n        });\r\n\t\t\r\n\t\t$rootScope.sendmessage = function(ev) {\r\n   \t\t\talert('hello');\r\n\t\t }\r\n\t\t\r\n\t\t\r\n    }\r\n})();\n(function () {\r\n  'use strict';\r\n  angular\r\n    .module('fuse')\r\n    .factory('InvoiceModel', InvoiceModel);\r\n\r\n  InvoiceModel.$inject = ['$http', 'Clique', '$httpParamSerializer'];\r\n\r\n  function InvoiceModel($http, Clique, $httpParamSerializer) {\r\n    var service = {};\r\n\r\n    service.GetInvoiceDetails = GetInvoiceDetails;\r\n    service.GetInvoiceTemplate = GetInvoiceTemplate;\r\n    service.CardConnectPayment = CardConnectPayment;\r\n    service.customerFeedback = customerFeedback;\r\n    service.GetAllInvoice = GetAllInvoice;\r\n    service.ProfileGet = ProfileGet;\r\n    service.ProfileDelete = ProfileDelete;\r\n    service.ProfileEdit = ProfileEdit;\r\n    service.CustomerTransactionGet = CustomerTransactionGet;\r\n    service.Signup = Signup;\r\n    service.Login = Login;\r\n    service.ForgetPassword = ForgetPassword;\r\n    service.ProfileAdd = ProfileAdd;\r\n    service.GetPaymentMethods = GetPaymentMethods;\r\n    service.AllTransaction = AllTransaction;\r\n    service.CardConnectPaymentPartially = CardConnectPaymentPartially;\r\n    service.downloadReceipt = downloadReceipt;\r\n    service.GetSettings = GetSettings;\r\n    service.searchTransaction = searchTransaction;\r\n    service.GetInvoiceTemplateBase64 = GetInvoiceTemplateBase64;\r\n    service.GetInvoiceDetailsBase64 = GetInvoiceDetailsBase64;\r\n\r\n    return service;\r\n\r\n    function GetInvoiceDetailsBase64(token) {\r\n      //     return Clique.callService('get','/erp/quickbooks/getinvoice/','').then(handleSuccess, handleError);\r\n      return Clique.callService('get', '/erp/quickbooks/getinvoice/?q=' + token, '').then(handleSuccess, handleError);\r\n    }\r\n\r\n    function GetInvoiceTemplateBase64(Invoice_id, temp_id, inv_color) {\r\n      //return Clique.callService('get','/erp/quickbooks/invoice/preview/','').then(handleSuccess, handleError);\r\n      return Clique.callService('get', '/erp/quickbooks/invoice/preview/?invoice_id=' + Invoice_id + '&temp_id=' + temp_id + '&temp_color=' + inv_color, '').then(handleSuccess, handleError);\r\n    }\r\n\r\n    function GetSettings() {\r\n      return Clique.callService('get', '/settings/', '').then(handleSuccess, handleError);\r\n    }\r\n\r\n    function GetInvoiceDetails(token) {\r\n      //     return Clique.callService('get','/erp/quickbooks/getinvoice/','').then(handleSuccess, handleError);\r\n      return Clique.callService('get', '/erp/quickbooks/getinvoice/?q=' + token, '').then(handleSuccess, handleError);\r\n    }\r\n    // function GetInvoiceDetails() {\r\n    //   return Clique.callService('get', '/erp/quickbooks/getinvoice/', '').then(handleSuccess, handleError);\r\n    //   //return Clique.callService('get','/erp/quickbooks/getinvoice/?q='+ token,'').then(handleSuccess, handleError);\r\n    // }\r\n\r\n    function CardConnectPayment(params) {\r\n      return Clique.callService('post', '/cardconnect/sale/', params).then(handleSuccess, handleError);\r\n    }\r\n\r\n    function CardConnectPaymentPartially(params) {\r\n      return Clique.callService('post', '/cardconnect/partialsale/', params).then(handleSuccess, handleError);\r\n    }\r\n\r\n    function customerFeedback(params) {\r\n      return Clique.callService('post', '/customer/feedback/', params).then(handleSuccess, handleError);\r\n    }\r\n\r\n\r\n    function GetInvoiceTemplate(Invoice_id) {\r\n      //return Clique.callService('get','/erp/quickbooks/invoice/preview/','').then(handleSuccess, handleError);\r\n      return Clique.callService('get', '/erp/quickbooks/invoice/preview/?invoice_id=' + Invoice_id, '').then(handleSuccess, handleError);\r\n    }\r\n\r\n    function GetAllInvoice(query) {\r\n      var qs = $httpParamSerializer(query);\r\n      return Clique.callService('get', '/erp/quickbooks/invoice/?' + qs, '').then(handleSuccess, handleError);\r\n    }\r\n\r\n    function CustomerTransactionGet(params) {\r\n      return Clique.callService('post', '/customer/transaction/', params).then(handleSuccess, handleError);\r\n    }\r\n\r\n    function ProfileGet(params) {\r\n      return Clique.callService('post', '/profile/get/', params).then(handleSuccess, handleError);\r\n    }\r\n\r\n    function ProfileDelete(params) {\r\n      return Clique.callService('post', '/profile/delete/', params).then(handleSuccess, handleError);\r\n    }\r\n\r\n    function ProfileEdit(params) {\r\n      return Clique.callService('post', '/profile/edit/', params).then(handleSuccess, handleError);\r\n    }\r\n\r\n    function ProfileAdd(params) {\r\n      return Clique.callService('post', '/profile/add/', params).then(handleSuccess, handleError);\r\n    }\r\n\r\n    function Login(params) {\r\n      return Clique.callService('post', '/account/login', params).then(handleSuccess, handleError);\r\n    }\r\n\r\n    function Signup(params) {\r\n      return Clique.callService('post', '/account/signup', params).then(handleSuccess, handleError);\r\n    }\r\n\r\n    function ForgetPassword(params) {\r\n      return Clique.callService('post', '/account/forget', params).then(handleSuccess, handleError);\r\n    }\r\n\r\n    function GetPaymentMethods() {\r\n      return Clique.callService('get', '/paymentmethods', '').then(handleSuccess, handleError);\r\n      //return Clique.callService('get','/erp/quickbooks/getinvoice/?q='+ token,'').then(handleSuccess, handleError);\r\n    }\r\n\r\n    function AllTransaction(params) {\r\n      return Clique.callService('get', '/invoice/transactions/', params).then(handleSuccess, handleError);\r\n    }\r\n\r\n    function searchTransaction(params) {\r\n      var qs = $httpParamSerializer(params);\r\n      return Clique.callService('get', '/invoice/transactions/?' + qs, '').then(handleSuccess, handleError);\r\n    }\r\n\r\n\r\n    function downloadReceipt(params) {\r\n      // var qs = $httpParamSerializer(params);\r\n      return Clique.callService('get', '/transaction/receiptdownload/?' + params, '').then(handleSuccess, handleError);\r\n\r\n      //return Clique.callService('get','/transaction/receiptdownload/?',params).then(handleSuccess, handleError);\r\n    }\r\n\r\n    // private functions\r\n\r\n    function handleSuccess(res) {\r\n      //console.log(res);\r\n      return res.data;\r\n    }\r\n\r\n    function handleError(error) {\r\n      //console.log(error);\r\n      return error;\r\n    }\r\n  }\r\n\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .run(runBlock);\r\n\r\n    /** @ngInject */\r\n    function runBlock(msUtils, fuseGenerator, fuseConfig)\r\n    {\r\n        /**\r\n         * Generate extra classes based on registered themes so we\r\n         * can use same colors with non-angular-material elements\r\n         */\r\n        fuseGenerator.generate();\r\n\r\n        /**\r\n         * Disable md-ink-ripple effects on mobile\r\n         * if 'disableMdInkRippleOnMobile' config enabled\r\n         */\r\n        if ( fuseConfig.getConfig('disableMdInkRippleOnMobile') && msUtils.isMobile() )\r\n        {\r\n            var bodyEl = angular.element('body');\r\n            bodyEl.attr('md-no-ink', true);\r\n        }\r\n\r\n        /**\r\n         * Put isMobile() to the html as a class\r\n         */\r\n        if ( msUtils.isMobile() )\r\n        {\r\n            angular.element('html').addClass('is-mobile');\r\n        }\r\n\r\n        /**\r\n         * Put browser information to the html as a class\r\n         */\r\n        var browserInfo = msUtils.detectBrowser();\r\n        if ( browserInfo )\r\n        {\r\n            var htmlClass = browserInfo.browser + ' ' + browserInfo.version + ' ' + browserInfo.os;\r\n            angular.element('html').addClass(htmlClass);\r\n        }\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core')\r\n        .config(config);\r\n\r\n    /** @ngInject */\r\n    function config($ariaProvider, $logProvider, msScrollConfigProvider, $translateProvider, fuseConfigProvider)\r\n    {\r\n        // Enable debug logging\r\n        $logProvider.debugEnabled(true);\r\n        \r\n        // angular-translate configuration\r\n        $translateProvider.useLoader('$translatePartialLoader', {\r\n            urlTemplate: '{part}/i18n/{lang}.json'\r\n        });\r\n        $translateProvider.preferredLanguage('en');\r\n        $translateProvider.useSanitizeValueStrategy('sanitize');\r\n\r\n        /*eslint-disable */\r\n\r\n        // ng-aria configuration\r\n        $ariaProvider.config({\r\n            tabindex: false\r\n        });\r\n\r\n        // Fuse theme configurations\r\n        fuseConfigProvider.config({\r\n            'disableCustomScrollbars'        : false,\r\n            'disableCustomScrollbarsOnMobile': true,\r\n            'disableMdInkRippleOnMobile'     : true\r\n        });\r\n\r\n        // msScroll configuration\r\n        msScrollConfigProvider.config({\r\n            wheelPropagation: true\r\n        });\r\n\r\n        /*eslint-enable */\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('fuse')\r\n        .run(runBlock);\r\n\r\n    /** @ngInject */\r\n    function runBlock($rootScope, $timeout, $state)\r\n    {\r\n        // Activate loading indicator\r\n        var stateChangeStartEvent = $rootScope.$on('$stateChangeStart', function ()\r\n        {\r\n            $rootScope.loadingProgress = true;\r\n        });\r\n\r\n        // De-activate loading indicator\r\n        var stateChangeSuccessEvent = $rootScope.$on('$stateChangeSuccess', function ()\r\n        {\r\n            $timeout(function ()\r\n            {\r\n                $rootScope.loadingProgress = false;\r\n            });\r\n        });\r\n\r\n        // Store state in the root scope for easy access\r\n        $rootScope.state = $state;\r\n\r\n        // Cleanup\r\n        $rootScope.$on('$destroy', function ()\r\n        {\r\n            stateChangeStartEvent();\r\n            stateChangeSuccessEvent();\r\n        });\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('fuse')\r\n        .config(routeConfig);\r\n\r\n    /** @ngInject */\r\n    function routeConfig($stateProvider, $urlRouterProvider, $locationProvider)\r\n    {\r\n        $locationProvider.html5Mode(true);\r\n\r\n        $urlRouterProvider.otherwise('/login');\r\n\r\n        /**\r\n         * Layout Style Switcher\r\n         *\r\n         * This code is here for demonstration purposes.\r\n         * If you don't need to switch between the layout\r\n         * styles like in the demo, you can set one manually by\r\n         * typing the template urls into the `State definitions`\r\n         * area and remove this code\r\n         */\r\n        // Inject $cookies\r\n        var $cookies;\r\n\r\n        angular.injector(['ngCookies']).invoke([\r\n            '$cookies', function (_$cookies)\r\n            {\r\n                $cookies = _$cookies;\r\n            }\r\n        ]);\r\n\r\n        // Get active layout\r\n        var layoutStyle = $cookies.get('layoutStyle') || 'contentWithToolbar';\r\n\r\n        var layouts = {\r\n            verticalNavigation  : {\r\n                main      : 'app/core/layouts/vertical-navigation.html',\r\n                toolbar   : 'app/toolbar/layouts/vertical-navigation/toolbar.html',\r\n                navigation: 'app/navigation/layouts/vertical-navigation/navigation.html'\r\n            },\r\n            verticalNavigationFullwidthToolbar  : {\r\n                main      : 'app/core/layouts/vertical-navigation-fullwidth-toolbar.html',\r\n                toolbar   : 'app/toolbar/layouts/vertical-navigation-fullwidth-toolbar/toolbar.html',\r\n                navigation: 'app/navigation/layouts/vertical-navigation/navigation.html'\r\n            },\r\n            verticalNavigationFullwidthToolbar2  : {\r\n                main      : 'app/core/layouts/vertical-navigation-fullwidth-toolbar-2.html',\r\n                toolbar   : 'app/toolbar/layouts/vertical-navigation-fullwidth-toolbar-2/toolbar.html',\r\n                navigation: 'app/navigation/layouts/vertical-navigation-fullwidth-toolbar-2/navigation.html'\r\n            },\r\n            horizontalNavigation: {\r\n                main      : 'app/core/layouts/horizontal-navigation.html',\r\n                toolbar   : 'app/toolbar/layouts/horizontal-navigation/toolbar.html',\r\n                navigation: 'app/navigation/layouts/horizontal-navigation/navigation.html'\r\n            },\r\n            contentOnly         : {\r\n                main      : 'app/core/layouts/content-only.html',\r\n                toolbar   : '',\r\n                navigation: ''\r\n            },\r\n            contentWithToolbar  : {\r\n                main      : 'app/core/layouts/content-with-toolbar.html',\r\n                toolbar   : 'app/toolbar/layouts/content-with-toolbar/toolbar.html',\r\n                navigation: ''\r\n            }\r\n        };\r\n        // END - Layout Style Switcher\r\n\r\n        // State definitions\r\n        $stateProvider\r\n            .state('app', {\r\n                abstract: true,\r\n                views   : {\r\n                    'main@'         : {\r\n                        templateUrl: layouts[layoutStyle].main,\r\n                        controller : 'MainController as vm'\r\n                    },\r\n                    'toolbar@app'   : {\r\n                        templateUrl: layouts[layoutStyle].toolbar,\r\n                        controller : 'ToolbarController as vm'\r\n                    },\r\n                    'navigation@app': {\r\n                        templateUrl: layouts[layoutStyle].navigation,\r\n                        controller : 'NavigationController as vm'\r\n                    },\r\n                    'quickPanel@app': {\r\n                        templateUrl: 'app/quick-panel/quick-panel.html',\r\n                        controller : 'QuickPanelController as vm'\r\n                    }\r\n                }\r\n            });\r\n    }\r\n\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('fuse')\r\n        .controller('IndexController', IndexController);\r\n\r\n    /** @ngInject */\r\n    function IndexController(fuseTheming)\r\n    {\r\n        var vm = this;\r\n\r\n        // Data\r\n        vm.themes = fuseTheming.themes;\r\n\t\t\r\n\r\n        //////////\r\n    }\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('fuse');\r\n})();\r\n\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('fuse')\r\n        .config(config);\r\n\r\n    /** @ngInject */\r\n    function config()\r\n    {\r\n        // Put your custom configurations here\r\n    }\r\n\r\n})();\n(function ()\r\n{\r\n    'use strict';\r\n\r\n    angular\r\n        .module('fuse')\r\n        .factory('api', apiService);\r\n\r\n    /** @ngInject */\r\n    function apiService($resource,Clique,$http)\r\n    {\r\n        /**\r\n         * You can use this service to define your API urls. The \"api\" service\r\n         * is designed to work in parallel with \"apiResolver\" service which you can\r\n         * find in the \"app/core/services/api-resolver.service.js\" file.\r\n         *\r\n         * You can structure your API urls whatever the way you want to structure them.\r\n         * You can either use very simple definitions, or you can use multi-dimensional\r\n         * objects.\r\n         *\r\n         * Here's a very simple API url definition example:\r\n         *\r\n         *      api.getBlogList = $resource('http://api.example.com/getBlogList');\r\n         *\r\n         * While this is a perfectly valid $resource definition, most of the time you will\r\n         * find yourself in a more complex situation where you want url parameters:\r\n         *\r\n         *      api.getBlogById = $resource('http://api.example.com/blog/:id', {id: '@id'});\r\n         *\r\n         * You can also define your custom methods. Custom method definitions allow you to\r\n         * add hardcoded parameters to your API calls that you want to sent every time you\r\n         * make that API call:\r\n         *\r\n         *      api.getBlogById = $resource('http://api.example.com/blog/:id', {id: '@id'}, {\r\n         *         'getFromHomeCategory' : {method: 'GET', params: {blogCategory: 'home'}}\r\n         *      });\r\n         *\r\n         * In addition to these definitions, you can also create multi-dimensional objects.\r\n         * They are nothing to do with the $resource object, it's just a more convenient\r\n         * way that we have created for you to packing your related API urls together:\r\n         *\r\n         *      api.blog = {\r\n         *                   list     : $resource('http://api.example.com/blog'),\r\n         *                   getById  : $resource('http://api.example.com/blog/:id', {id: '@id'}),\r\n         *                   getByDate: $resource('http://api.example.com/blog/:date', {id: '@date'}, {\r\n         *                       get: {\r\n         *                            method: 'GET',\r\n         *                            params: {\r\n         *                                getByDate: true\r\n         *                            }\r\n         *                       }\r\n         *                   })\r\n         *       }\r\n         *\r\n         * If you look at the last example from above, we overrode the 'get' method to put a\r\n         * hardcoded parameter. Now every time we make the \"getByDate\" call, the {getByDate: true}\r\n         * object will also be sent along with whatever data we are sending.\r\n         *\r\n         * All the above methods are using standard $resource service. You can learn more about\r\n         * it at: https://docs.angularjs.org/api/ngResource/service/$resource\r\n         *\r\n         * -----\r\n         *\r\n         * After you defined your API urls, you can use them in Controllers, Services and even\r\n         * in the UIRouter state definitions.\r\n         *\r\n         * If we use the last example from above, you can do an API call in your Controllers and\r\n         * Services like this:\r\n         *\r\n         *      function MyController (api)\r\n         *      {\r\n         *          // Get the blog list\r\n         *          api.blog.list.get({},\r\n         *\r\n         *              // Success\r\n         *              function (response)\r\n         *              {\r\n         *                  console.log(response);\r\n         *              },\r\n         *\r\n         *              // Error\r\n         *              function (response)\r\n         *              {\r\n         *                  console.error(response);\r\n         *              }\r\n         *          );\r\n         *\r\n         *          // Get the blog with the id of 3\r\n         *          var id = 3;\r\n         *          api.blog.getById.get({'id': id},\r\n         *\r\n         *              // Success\r\n         *              function (response)\r\n         *              {\r\n         *                  console.log(response);\r\n         *              },\r\n         *\r\n         *              // Error\r\n         *              function (response)\r\n         *              {\r\n         *                  console.error(response);\r\n         *              }\r\n         *          );\r\n         *\r\n         *          // Get the blog with the date by using custom defined method\r\n         *          var date = 112314232132;\r\n         *          api.blog.getByDate.get({'date': date},\r\n         *\r\n         *              // Success\r\n         *              function (response)\r\n         *              {\r\n         *                  console.log(response);\r\n         *              },\r\n         *\r\n         *              // Error\r\n         *              function (response)\r\n         *              {\r\n         *                  console.error(response);\r\n         *              }\r\n         *          );\r\n         *      }\r\n         *\r\n         * Because we are directly using $resource service, all your API calls will return a\r\n         * $promise object.\r\n         *\r\n         * --\r\n         *\r\n         * If you want to do the same calls in your UI Router state definitions, you need to use\r\n         * \"apiResolver\" service we have prepared for you:\r\n         *\r\n         *      $stateProvider.state('app.blog', {\r\n         *          url      : '/blog',\r\n         *          views    : {\r\n         *               'content@app': {\r\n         *                   templateUrl: 'app/main/apps/blog/blog.html',\r\n         *                   controller : 'BlogController as vm'\r\n         *               }\r\n         *          },\r\n         *          resolve  : {\r\n         *              Blog: function (apiResolver)\r\n         *              {\r\n         *                  return apiResolver.resolve('blog.list@get');\r\n         *              }\r\n         *          }\r\n         *      });\r\n         *\r\n         *  You can even use parameters with apiResolver service:\r\n         *\r\n         *      $stateProvider.state('app.blog.show', {\r\n         *          url      : '/blog/:id',\r\n         *          views    : {\r\n         *               'content@app': {\r\n         *                   templateUrl: 'app/main/apps/blog/blog.html',\r\n         *                   controller : 'BlogController as vm'\r\n         *               }\r\n         *          },\r\n         *          resolve  : {\r\n         *              Blog: function (apiResolver, $stateParams)\r\n         *              {\r\n         *                  return apiResolver.resolve('blog.getById@get', {'id': $stateParams.id);\r\n         *              }\r\n         *          }\r\n         *      });\r\n         *\r\n         *  And the \"Blog\" object will be available in your BlogController:\r\n         *\r\n         *      function BlogController(Blog)\r\n         *      {\r\n         *          var vm = this;\r\n         *\r\n         *          // Data\r\n         *          vm.blog = Blog;\r\n         *\r\n         *          ...\r\n         *      }\r\n         */\r\n\r\n        var api = {};\r\n\t\t\r\n\t\t//$http.defaults.headers.common['Authorization']=HelperService.getUserToken();\r\n\t\t\r\n        // Base Url\r\n        //api.baseUrl = 'http://apps.clique.center/';\r\n\t\t\r\n\t\t//api.baseUrl = 'http://192.168.1.100:8000/';\r\n\t\t\r\n\t\t\r\n\t\t//api.version=\"v1/\";\r\n\t\t\r\n        //api.invoicedetail = $resource(api.baseUrl + api.version+ 'erp/quickbooks/invoice/130');\r\n\r\n        return api;\r\n\t\t\r\n\t\t\r\n    }\r\n\r\n})();\nangular.module(\"fuse\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/quick-panel/quick-panel.html\",\"<md-content><md-tabs md-no-pagination md-swipe-content md-stretch-tabs=\\\"always\\\"><md-tab><md-tab-label><span \\ntranslate=\\\"QUICKPANEL.TODAY\\\">TODAY</span></md-tab-label><md-tab-body><md-content class=\\\"today-tab scrollable\\\" \\nms-scroll ng-include=\\\"\\'app/quick-panel/tabs/today/today-tab.html\\'\\\"></md-content></md-tab-body></md-tab><md-tab>\\n<md-tab-label><span translate=\\\"QUICKPANEL.CHAT\\\">CHAT</span></md-tab-label><md-tab-body><md-content \\nclass=\\\"chat-tab scrollable\\\" ms-scroll ng-include=\\\"\\'app/quick-panel/tabs/chat/chat-tab.html\\'\\\" \\nng-controller=\\\"ChatTabController as vm\\\"></md-content></md-tab-body></md-tab><md-tab><md-tab-label><span \\ntranslate=\\\"QUICKPANEL.ACTIVITY\\\">ACTIVITY</span></md-tab-label><md-tab-body><md-content class=\\\"activity-tab scrollable\\\" \\nms-scroll ng-include=\\\"\\'app/quick-panel/tabs/activity/activity-tab.html\\'\\\"></md-content></md-tab-body></md-tab></md-tabs>\\n</md-content>\");\n$templateCache.put(\"app/core/layouts/content-only.html\",\"<div id=\\\"layout-content-only\\\" class=\\\"template-layout\\\" layout=\\\"column\\\" flex><md-content id=\\\"content\\\" \\nclass=\\\"animate-slide-up md-hue-2\\\" ui-view=\\\"content\\\" flex></md-content></div>\");\n$templateCache.put(\"app/core/layouts/content-with-toolbar.html\",\"<div id=\\\"layout-content-with-toolbar\\\" class=\\\"template-layout\\\" layout=\\\"column\\\" flex><md-toolbar id=\\\"toolbar\\\" \\nclass=\\\"md-menu-toolbar md-whiteframe-1dp\\\" ui-view=\\\"toolbar\\\"></md-toolbar><md-content id=\\\"content\\\" \\nclass=\\\"animate-slide-up md-hue-2\\\" ui-view=\\\"content\\\" flex></md-content><md-sidenav id=\\\"quick-panel\\\" \\nclass=\\\"md-sidenav-right md-whiteframe-4dp\\\" md-component-id=\\\"quick-panel\\\" ms-scroll ui-view=\\\"quickPanel\\\"></md-sidenav>\\n</div>\");\n$templateCache.put(\"app/core/layouts/horizontal-navigation.html\",\"<div id=\\\"layout-horizontal-navigation\\\" class=\\\"template-layout\\\" layout=\\\"column\\\" flex><md-toolbar id=\\\"toolbar\\\" \\nclass=\\\"md-menu-toolbar md-whiteframe-1dp\\\" ui-view=\\\"toolbar\\\"></md-toolbar><div id=\\\"content-container\\\" flex \\nlayout=\\\"column\\\"><md-content id=\\\"content\\\" class=\\\"animate-slide-up md-hue-2\\\" ms-scroll ui-view=\\\"content\\\" flex>\\n</md-content></div><md-sidenav id=\\\"quick-panel\\\" class=\\\"md-sidenav-right md-whiteframe-4dp\\\" \\nmd-component-id=\\\"quick-panel\\\" ms-scroll ui-view=\\\"quickPanel\\\"></md-sidenav></div>\");\n$templateCache.put(\"app/core/layouts/vertical-navigation-fullwidth-toolbar-2.html\",\"<div id=\\\"layout-vertical-navigation-fullwidth-toolbar-2\\\" class=\\\"template-layout\\\" layout=\\\"column\\\" flex><md-toolbar \\nid=\\\"toolbar\\\" class=\\\"md-menu-toolbar md-whiteframe-1dp md-accent\\\" ui-view=\\\"toolbar\\\"></md-toolbar><div \\nid=\\\"main-container\\\" layout=\\\"row\\\" flex><md-sidenav id=\\\"vertical-navigation\\\" class=\\\"md-primary-bg\\\" \\nmd-is-locked-open=\\\"$mdMedia(\\'gt-sm\\')\\\" md-component-id=\\\"navigation\\\" ms-scroll ui-view=\\\"navigation\\\"></md-sidenav><div \\nid=\\\"content-container\\\" flex layout=\\\"column\\\"><md-content id=\\\"content\\\" class=\\\"animate-slide-up md-hue-2\\\" ms-scroll \\nui-view=\\\"content\\\" flex></md-content></div><md-sidenav id=\\\"quick-panel\\\" class=\\\"md-sidenav-right md-whiteframe-4dp\\\" \\nmd-component-id=\\\"quick-panel\\\" ms-scroll ui-view=\\\"quickPanel\\\"></md-sidenav></div></div>\");\n$templateCache.put(\"app/core/layouts/vertical-navigation-fullwidth-toolbar.html\",\"<div id=\\\"layout-vertical-navigation-fullwidth-toolbar\\\" class=\\\"template-layout\\\" layout=\\\"column\\\" flex><md-toolbar \\nid=\\\"toolbar\\\" class=\\\"md-menu-toolbar md-whiteframe-1dp md-accent\\\" ui-view=\\\"toolbar\\\"></md-toolbar><div \\nid=\\\"main-container\\\" layout=\\\"row\\\" flex><md-sidenav id=\\\"vertical-navigation\\\" class=\\\"md-primary-bg\\\" \\nmd-is-locked-open=\\\"$mdMedia(\\'gt-sm\\')\\\" md-component-id=\\\"navigation\\\" ms-scroll ui-view=\\\"navigation\\\"></md-sidenav><div \\nid=\\\"content-container\\\" flex layout=\\\"column\\\"><md-content id=\\\"content\\\" class=\\\"animate-slide-up md-hue-2\\\" ms-scroll \\nui-view=\\\"content\\\" flex></md-content></div><md-sidenav id=\\\"quick-panel\\\" class=\\\"md-sidenav-right md-whiteframe-4dp\\\" \\nmd-component-id=\\\"quick-panel\\\" ms-scroll ui-view=\\\"quickPanel\\\"></md-sidenav></div></div>\");\n$templateCache.put(\"app/core/layouts/vertical-navigation.html\",\"<div id=\\\"layout-vertical-navigation\\\" class=\\\"template-layout\\\" layout=\\\"row\\\" flex><md-sidenav id=\\\"vertical-navigation\\\" \\nclass=\\\"md-primary-bg\\\" md-is-locked-open=\\\"$mdMedia(\\'gt-sm\\')\\\" md-component-id=\\\"navigation\\\" ms-scroll \\nui-view=\\\"navigation\\\"></md-sidenav><div id=\\\"content-container\\\" flex layout=\\\"column\\\"><md-toolbar id=\\\"toolbar\\\" \\nclass=\\\"md-menu-toolbar md-whiteframe-1dp\\\" ui-view=\\\"toolbar\\\"></md-toolbar><md-content id=\\\"content\\\" \\nclass=\\\"animate-slide-up md-hue-2\\\" ms-scroll ui-view=\\\"content\\\" flex></md-content></div><md-sidenav id=\\\"quick-panel\\\" \\nclass=\\\"md-sidenav-right md-whiteframe-4dp\\\" md-component-id=\\\"quick-panel\\\" ms-scroll ui-view=\\\"quickPanel\\\"></md-sidenav>\\n</div>\");\n$templateCache.put(\"app/core/theme-options/theme-options.html\",\"<md-sidenav md-component-id=\\\"fuse-theme-options\\\" class=\\\"md-sidenav-right\\\"><div class=\\\"ms-theme-options-list\\\" \\nlayout=\\\"column\\\"><div class=\\\"theme-option layout-options\\\"><div class=\\\"option-title\\\">Layout Style:</div><md-radio-group \\nlayout=\\\"row\\\" layout-align=\\\"start start\\\" layout-wrap ng-model=\\\"vm.layoutStyle\\\" ng-change=\\\"vm.updateLayoutStyle()\\\">\\n<md-radio-button ng-repeat=\\\"layoutStyle in vm.layoutStyles\\\" ng-value=\\\"layoutStyle.value\\\"><div layout=\\\"column\\\" \\nlayout-align=\\\"center center\\\"><img ng-src=\\\"{{layoutStyle.figure}}\\\"> <span class=\\\"text-center font-size-12 mt-8\\\">\\n{{layoutStyle.label}}</span></div></md-radio-button></md-radio-group></div><md-divider></md-divider><div \\nclass=\\\"theme-option\\\"><div class=\\\"option-title\\\">Layout Mode:</div><md-radio-group layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\" ng-model=\\\"vm.layoutMode\\\" ng-change=\\\"vm.updateLayoutMode()\\\"><md-radio-button \\nng-repeat=\\\"layoutMode in vm.layoutModes\\\" ng-value=\\\"layoutMode.value\\\">{{layoutMode.label}}</md-radio-button>\\n</md-radio-group></div><md-divider></md-divider><div class=\\\"theme-option color-palettes\\\"><div class=\\\"option-title\\\">\\nColor Palette:</div><div layout=\\\"row\\\" layout-align=\\\"start start\\\" layout-wrap><md-button \\nng-repeat=\\\"(themeName, theme) in vm.themes.list\\\" class=\\\"md-raised theme-button\\\" layout=\\\"row\\\" \\nlayout-align=\\\"center center\\\" aria-label=\\\"{{themeName}}\\\" ng-click=\\\"vm.setActiveTheme(themeName)\\\" \\nng-style=\\\"{\\'background-color\\': theme.primary.color,\\'border-color\\': theme.accent.color,\\'color\\': theme.primary.contrast1}\\\" \\nng-class=\\\"{active: vm.getActiveTheme().name === themeName}\\\"><md-icon ng-style=\\\"{\\'color\\': theme.primary.contrast1}\\\" \\nmd-font-icon=\\\"icon-palette\\\" class=\\\"icon s32\\\"></md-icon></md-button></div></div></div></md-sidenav>\");\n$templateCache.put(\"app/main/invoice_view/invoice - Copy.html\",\"<div id=\\\"invoice\\\" class=\\\"modern page-layout blank\\\" layout=\\\"column\\\" layout-align=\\\"center center\\\" ms-scroll><div \\nclass=\\\"invoice-container\\\" style=\\\"padding: 0px !important\\\"><div layout=\\\"row\\\" ng-if=\\\"vm.invoice.Balance != 0.00\\\" \\nlayout-align=\\\"end center\\\" class=\\\"md-padding\\\"><div><form action=\\\"{{paypalURL}}\\\" method=\\\"post\\\" target=\\\"_self\\\"><input \\ntype=\\\"hidden\\\" name=\\\"cmd\\\" value=\\\"_cart\\\"> <input type=\\\"hidden\\\" name=\\\"upload\\\" value=\\\"1\\\"> <input type=\\\"hidden\\\" name=\\\"rm\\\" \\nvalue=\\\"2\\\"> <input type=\\\"hidden\\\" name=\\\"business\\\" value=\\\"{{vm.paypalMerchantId}}\\\"><div \\nng-repeat=\\\"item in vm.invoice.Line\\\"><div ng-if=\\\"item.Id\\\"><input type=\\\"hidden\\\" name=\\\"quantity_{{$index+1}}\\\" \\nvalue=\\\"{{item.SalesItemLineDetail.Qty}}\\\"> <input type=\\\"hidden\\\" name=\\\"item_name_{{$index+1}}\\\" \\nvalue=\\\"{{item.SalesItemLineDetail.ItemRef.name}}\\\"> <input type=\\\"hidden\\\" name=\\\"item_number_{{$index+1}}\\\" \\nvalue=\\\"{{item.SalesItemLineDetail.ItemRef.value}}\\\"> <input type=\\\"hidden\\\" name=\\\"amount_{{$index+1}}\\\" \\nvalue=\\\"{{item.SalesItemLineDetail.UnitPrice}}\\\"></div></div><input type=\\\"hidden\\\" name=\\\"custom\\\" \\nvalue=\\\"{{vm.paypalCustomVariable}}\\\"> <input type=\\\"hidden\\\" name=\\\"tax_cart\\\" value=\\\"{{vm.invoiceTxt}}\\\"> <input \\ntype=\\\"hidden\\\" name=\\\"currency_code\\\" value=\\\"USD\\\"> <input type=\\\"hidden\\\" name=\\\"notify_url\\\" \\nvalue=\\\"https://apps.clique.center/paypal/callback/\\\"> <input type=\\\"hidden\\\" name=\\\"return\\\" \\nvalue=\\\"https://apps.clique.center/paypal/success/{{vm.invoice.Id}}\\\"> <img src=\\\"assets/images/logos/cards.png\\\" \\nng-show=\\\"vm.paypal_form\\\" style=\\\"vertical-align:middle;height:23px\\\" flex> <img src=\\\"assets/images/logos/vantiv.png\\\" \\nng-show=\\\"vm.ventiv_form\\\" style=\\\"vertical-align:middle;height:23px\\\" flex><md-button \\nclass=\\\"md-raised md-primary green-500-bg\\\" ng-show=\\\"vm.paypal_form\\\" name=\\\"upload\\\" type=\\\"submit\\\" align=\\\"right\\\" \\nstyle=\\\"background-color:#a5e990 !important\\\">Pay Now</md-button><md-button class=\\\"md-raised md-primary green-500-bg\\\" \\nng-show=\\\"vm.ventiv_form\\\" ng-click=\\\"vm.paymentProcessing(vm.ventivURL);\\\" name=\\\"upload\\\" align=\\\"right\\\" \\nstyle=\\\"background-color:#58BA41 !important\\\">Pay Now</md-button></form></div></div><div \\nng-if=\\\"vm.invoice.Balance == 0.00\\\" id=\\\"background\\\"><p><img src=\\\"assets/images/backgrounds/images.png\\\"></p></div>\\n<center><md-progress-circular ng-show=\\\"vm.showProgress\\\" class=\\\"md-accent md-hue-1\\\" md-diameter=\\\"60\\\">\\n</md-progress-circular></center><div class=\\\"card md-whiteframe-7dp\\\" ng-show=\\\"vm.showContent\\\"><div id=\\\"template\\\"></div>\\n</div><br><br><br><div class=\\\"page-break\\\"></div></div></div>\");\n$templateCache.put(\"app/main/invoice_view/invoice.html\",\"<div id=\\\"invoice\\\" class=\\\"modern page-layout blank\\\" layout=\\\"column\\\" layout-align=\\\"center center\\\" ms-scroll><div \\nclass=\\\"invoice-container\\\" style=\\\"padding: 0px !important\\\" ms-scroll><div layout=\\\"row\\\" \\nng-if=\\\"vm.invoice.Balance != 0.00\\\" layout-align=\\\"end center\\\" class=\\\"md-padding\\\"><div><form action=\\\"{{paypalURL}}\\\" \\nmethod=\\\"post\\\"><input type=\\\"hidden\\\" name=\\\"cmd\\\" value=\\\"_cart\\\"> <input type=\\\"hidden\\\" name=\\\"upload\\\" value=\\\"1\\\"> <input \\ntype=\\\"hidden\\\" name=\\\"business\\\" value=\\\"{{vm.paypalMerchantId}}\\\"><div ng-repeat=\\\"item in vm.invoice.Line\\\"><div \\nng-if=\\\"item.Id\\\"><input type=\\\"hidden\\\" name=\\\"quantity_{{$index+1}}\\\" value=\\\"{{item.SalesItemLineDetail.Qty}}\\\"> <input \\ntype=\\\"hidden\\\" name=\\\"item_name_{{$index+1}}\\\" value=\\\"{{item.SalesItemLineDetail.ItemRef.name}}\\\"> <input type=\\\"hidden\\\" \\nname=\\\"item_number_{{$index+1}}\\\" value=\\\"{{item.SalesItemLineDetail.ItemRef.value}}\\\"> <input type=\\\"hidden\\\" \\nname=\\\"amount_{{$index+1}}\\\" value=\\\"{{item.SalesItemLineDetail.UnitPrice}}\\\"></div></div><input type=\\\"hidden\\\" \\nname=\\\"invoice\\\" value=\\\"{{vm.invoice.Id}}\\\"> <input type=\\\"hidden\\\" name=\\\"custom\\\" value=\\\"{{vm.paypalCustomVariable}}\\\"> \\n<input type=\\\"hidden\\\" name=\\\"tax_cart\\\" value=\\\"{{vm.invoiceTxt}}\\\"> <input type=\\\"hidden\\\" name=\\\"currency_code\\\" value=\\\"USD\\\"> \\n<input type=\\\"hidden\\\" name=\\\"notify_url\\\" value=\\\"https://apps.clique.center/paypal/callback/\\\"> <input type=\\\"hidden\\\" \\nname=\\\"return\\\" value=\\\"https://apps.clique.center/paypal/success/{{vm.invoice.Id}}\\\"> <img \\nsrc=\\\"assets/images/logos/cards.png\\\" ng-show=\\\"vm.paypal_form\\\" style=\\\"vertical-align:middle;height:23px\\\" flex> <img \\nsrc=\\\"assets/images/logos/vantiv.png\\\" ng-show=\\\"vm.ventiv_form\\\" style=\\\"vertical-align:middle;height:23px\\\" flex><md-button\\n class=\\\"md-raised md-primary green-500-bg\\\" ng-show=\\\"vm.paypal_form\\\" name=\\\"submit\\\" type=\\\"submit\\\" align=\\\"right\\\" \\nstyle=\\\"background-color:#a5e990 !important\\\">Pay Now</md-button><md-button class=\\\"md-raised md-primary green-500-bg\\\" \\nng-show=\\\"vm.ventiv_form\\\" ng-click=\\\"vm.paymentProcessing(vm.ventivURL);\\\" name=\\\"upload\\\" align=\\\"right\\\" \\nstyle=\\\"background-color:#58BA41 !important\\\">Pay Now</md-button></form></div></div><div layout=\\\"row\\\" \\nng-if=\\\"vm.invoice.Balance == 0.00\\\" class=\\\"md-padding\\\"></div><div ng-if=\\\"vm.invoice.Balance == 0.00\\\" id=\\\"background\\\"><p>\\n<img src=\\\"assets/images/backgrounds/images.png\\\"></p></div><div class=\\\"card md-whiteframe-7dp\\\" ng-show=\\\"vm.showContent\\\" \\nms-scroll><div id=\\\"template\\\" ms-scroll></div></div><br><div class=\\\"page-break\\\"></div></div><md-progress-linear \\nstyle=\\\"width: 50%\\\" ng-show=\\\"vm.showProgress\\\" md-mode=\\\"indeterminate\\\" class=\\\"md-hue-2\\\"></md-progress-linear></div>\");\n$templateCache.put(\"app/main/invoice_view/thankyou.html\",\"<meta charset=\\\"UTF-8\\\"><table data-bgcolor=\\\"BodyBg\\\" width=\\\"100%\\\" cellspacing=\\\"0\\\" cellpadding=\\\"0\\\" border=\\\"0\\\" \\nbgcolor=\\\"#f0f0f0\\\" class=\\\"\\\"><tbody><tr><td valign=\\\"middle\\\" align=\\\"center\\\"><table width=\\\"100%\\\" cellspacing=\\\"0\\\" \\ncellpadding=\\\"0\\\" border=\\\"0\\\" align=\\\"center\\\"><tbody><tr><td valign=\\\"top\\\" align=\\\"center\\\"><table class=\\\"main\\\" width=\\\"600\\\" \\ncellspacing=\\\"0\\\" cellpadding=\\\"0\\\" border=\\\"0\\\" align=\\\"center\\\"><tbody><tr><td style=\\\"line-height:40px; font-size:40px\\\" \\nvalign=\\\"middle\\\" align=\\\"center\\\" height=\\\"40\\\">&nbsp;</td></tr></tbody></table></td></tr></tbody></table><table \\nwidth=\\\"100%\\\" cellspacing=\\\"0\\\" cellpadding=\\\"0\\\" border=\\\"0\\\" align=\\\"center\\\"><tbody><tr><td valign=\\\"top\\\" align=\\\"center\\\">\\n<table class=\\\"main\\\" width=\\\"600\\\" cellspacing=\\\"0\\\" cellpadding=\\\"0\\\" border=\\\"0\\\" align=\\\"center\\\"><tbody><tr><td \\nstyle=\\\"border-radius: 8px 8px 0px 0px; background-color: rgb(109, 202, 237)\\\" data-bgcolor=\\\"theme-bg\\\" valign=\\\"middle\\\" \\nbgcolor=\\\"#18c197\\\" align=\\\"center\\\"><table width=\\\"100%\\\" cellspacing=\\\"0\\\" cellpadding=\\\"0\\\" border=\\\"0\\\" align=\\\"center\\\"><tbody>\\n<tr><td style=\\\"line-height:25px; font-size:25px\\\" valign=\\\"middle\\\" align=\\\"center\\\" height=\\\"25\\\">&nbsp;</td></tr><tr><td \\nstyle=\\\"font-family:\\'Open Sans\\', Verdana, Arial; font-size:30px; color:#FFF; font-weight:normal\\\" mc:edit=\\\"nm1-02\\\" \\nvalign=\\\"middle\\\" align=\\\"center\\\"><multiline>Payment Confirmation</multiline></td></tr><tr><td \\nstyle=\\\"line-height:25px; font-size:25px\\\" valign=\\\"middle\\\" align=\\\"center\\\" height=\\\"25\\\">&nbsp;</td></tr></tbody></table>\\n</td></tr></tbody></table></td></tr></tbody></table><table width=\\\"100%\\\" cellspacing=\\\"0\\\" cellpadding=\\\"0\\\" border=\\\"0\\\" \\nalign=\\\"center\\\"><tbody><tr><td valign=\\\"top\\\" align=\\\"center\\\"><table class=\\\"main\\\" width=\\\"600\\\" cellspacing=\\\"0\\\" \\ncellpadding=\\\"0\\\" border=\\\"0\\\" align=\\\"center\\\"><tbody><tr><td valign=\\\"middle\\\" bgcolor=\\\"#FFFFFF\\\" align=\\\"center\\\"><table \\nclass=\\\"two-left-inner\\\" width=\\\"350\\\" cellspacing=\\\"0\\\" cellpadding=\\\"0\\\" border=\\\"0\\\"><tbody><tr><td \\nstyle=\\\"line-height:80px; font-size:80px\\\" valign=\\\"middle\\\" align=\\\"center\\\" height=\\\"80\\\">&nbsp;</td></tr><tr><td \\nvalign=\\\"middle\\\" align=\\\"center\\\"><table width=\\\"85\\\" cellspacing=\\\"0\\\" cellpadding=\\\"0\\\" border=\\\"0\\\" align=\\\"center\\\"><tbody><tr>\\n<td valign=\\\"top\\\" align=\\\"center\\\" height=\\\"85\\\"><img editable=\\\"true\\\" mc:edit=\\\"nm1-03\\\" src=\\\"{{vm.logo}}\\\" alt=\\\"\\\" style=\\\"\\\" \\nwidth=\\\"85\\\" height=\\\"85\\\"></td></tr></tbody></table></td></tr><tr><td style=\\\"line-height:20px; font-size:20px\\\" \\nvalign=\\\"middle\\\" align=\\\"center\\\" height=\\\"20\\\">&nbsp;</td></tr><tr><td valign=\\\"middle\\\" align=\\\"center\\\"><table width=\\\"100%\\\" \\ncellspacing=\\\"0\\\" cellpadding=\\\"0\\\" border=\\\"0\\\" align=\\\"center\\\"><tbody><tr><td \\nstyle=\\\"font-family:\\'Open Sans\\', Verdana, Arial; font-size:24px; color:#312e2e; font-weight:normal; line-height:28px\\\" \\nmc:edit=\\\"nm1-04\\\" valign=\\\"middle\\\" align=\\\"center\\\" class=\\\"\\\"><multiline>Hi<br></multiline></td></tr><tr><td \\nstyle=\\\"line-height:10px; font-size:10px\\\" valign=\\\"middle\\\" align=\\\"center\\\" height=\\\"10\\\">&nbsp;</td></tr><tr><td \\nstyle=\\\"font-family: &quot;Open Sans&quot;, Verdana, Arial; font-size: 30px; color: rgb(109, 202, 237); font-weight: normal; text-transform: uppercase\\\" \\ndata-color=\\\"theme-colour\\\" mc:edit=\\\"nm1-05\\\" valign=\\\"middle\\\" align=\\\"center\\\"><multiline>Thank You</multiline></td></tr>\\n<tr><td \\nstyle=\\\"font-family:\\'Open Sans\\', Verdana, Arial; font-size:15px; color:#767676; font-weight:normal; line-height:28px\\\" \\nmc:edit=\\\"nm1-06\\\" valign=\\\"middle\\\" align=\\\"center\\\"><multiline>Your Amount Paid Successfully</multiline></td></tr><tr><td \\nstyle=\\\"line-height:25px; font-size:25px\\\" valign=\\\"middle\\\" align=\\\"center\\\" height=\\\"25\\\">&nbsp;</td></tr></tbody></table>\\n</td></tr><tr><td valign=\\\"middle\\\" align=\\\"center\\\" class=\\\"\\\"><table width=\\\"155\\\" cellspacing=\\\"0\\\" cellpadding=\\\"0\\\" \\nborder=\\\"0\\\" align=\\\"center\\\"><tbody><tr></tr></tbody></table></td></tr><tr><td style=\\\"line-height:90px; font-size:90px\\\" \\nvalign=\\\"middle\\\" align=\\\"center\\\" height=\\\"90\\\">&nbsp;</td></tr></tbody></table></td></tr></tbody></table></td></tr></tbody>\\n</table><table width=\\\"100%\\\" cellspacing=\\\"0\\\" cellpadding=\\\"0\\\" border=\\\"0\\\" align=\\\"center\\\"><tbody><tr><td valign=\\\"top\\\" \\nalign=\\\"center\\\"><table class=\\\"main\\\" width=\\\"600\\\" cellspacing=\\\"0\\\" cellpadding=\\\"0\\\" border=\\\"0\\\" align=\\\"center\\\"><tbody><tr><td\\n style=\\\"border-radius: 0px 0px 8px 8px; background-color: rgb(109, 202, 237)\\\" data-bgcolor=\\\"theme-bg\\\" valign=\\\"middle\\\" \\nbgcolor=\\\"#18c197\\\" align=\\\"left\\\"><table class=\\\"full\\\" width=\\\"170\\\" cellspacing=\\\"0\\\" cellpadding=\\\"0\\\" border=\\\"0\\\" align=\\\"left\\\">\\n<tbody><tr><td valign=\\\"top\\\" align=\\\"left\\\"><table width=\\\"120\\\" cellspacing=\\\"0\\\" cellpadding=\\\"0\\\" border=\\\"0\\\" align=\\\"center\\\">\\n<tbody><tr><td valign=\\\"middle\\\" align=\\\"center\\\">&nbsp;</td></tr><tr><td valign=\\\"middle\\\" align=\\\"center\\\"><table \\nwidth=\\\"120\\\" cellspacing=\\\"0\\\" cellpadding=\\\"0\\\" border=\\\"0\\\" align=\\\"left\\\"><tbody></tbody></table></td></tr><tr><td \\nvalign=\\\"middle\\\" align=\\\"center\\\">&nbsp;</td></tr></tbody></table></td></tr></tbody></table><table class=\\\"full\\\" \\nwidth=\\\"410\\\" cellspacing=\\\"0\\\" cellpadding=\\\"0\\\" border=\\\"0\\\" align=\\\"right\\\"><tbody><tr><td valign=\\\"top\\\" align=\\\"left\\\"><table \\nclass=\\\"full\\\" width=\\\"205\\\" cellspacing=\\\"0\\\" cellpadding=\\\"0\\\" border=\\\"0\\\" align=\\\"left\\\"><tbody><tr><td \\ndata-bgcolor=\\\"theme-bg2\\\" valign=\\\"top\\\" align=\\\"center\\\"><table width=\\\"200\\\" cellspacing=\\\"0\\\" cellpadding=\\\"0\\\" border=\\\"0\\\" \\nalign=\\\"center\\\"><tbody><tr><td valign=\\\"middle\\\" align=\\\"center\\\">&nbsp;</td></tr><tr><td valign=\\\"middle\\\" align=\\\"center\\\">\\n<table width=\\\"120\\\" cellspacing=\\\"0\\\" cellpadding=\\\"0\\\" border=\\\"0\\\" align=\\\"left\\\"><tbody></tbody></table></td></tr><tr><td \\nstyle=\\\"font-family:\\'Open Sans\\', Verdana, Arial; font-size:14px; color:white; font-weight:normal; line-height:24px; padding-bottom: 6%\\\" \\nvalign=\\\"top\\\" align=\\\"center\\\" class=\\\"\\\"><multiline>Copyright &#169; 2016 Clique</multiline></td></tr></tbody></table></td>\\n</tr></tbody></table><table class=\\\"full\\\" width=\\\"175\\\" cellspacing=\\\"0\\\" cellpadding=\\\"0\\\" border=\\\"0\\\" align=\\\"right\\\"><tbody>\\n<tr><td valign=\\\"top\\\" align=\\\"center\\\"><table width=\\\"120\\\" cellspacing=\\\"0\\\" cellpadding=\\\"0\\\" border=\\\"0\\\" align=\\\"center\\\">\\n<tbody><tr><td valign=\\\"middle\\\" align=\\\"center\\\">&nbsp;</td></tr><tr><td valign=\\\"middle\\\" align=\\\"center\\\"><table \\nwidth=\\\"120\\\" cellspacing=\\\"0\\\" cellpadding=\\\"0\\\" border=\\\"0\\\" align=\\\"left\\\"><tbody></tbody></table></td></tr><tr><td \\nvalign=\\\"middle\\\" align=\\\"center\\\">&nbsp;</td></tr></tbody></table></td></tr></tbody></table></td></tr></tbody></table>\\n</td></tr></tbody></table></td></tr></tbody></table></td></tr></tbody></table><div id=\\\"tip\\\"></div>\");\n$templateCache.put(\"app/main/account/compose-dialog.html\",\"<md-dialog class=\\\"compose-dialog\\\" aria-label=\\\"New Message\\\"><form class=\\\"md-inline-form\\\" name=\\\"messageform\\\" novalidate \\nng-submit=\\\"submit()\\\"><md-toolbar class=\\\"md-accent md-hue-2\\\"><div class=\\\"md-toolbar-tools\\\" layout=\\\"row\\\" \\nlayout-align=\\\"space-between center\\\"><span class=\\\"title\\\">New Message</span><md-button class=\\\"md-icon-button\\\" \\nng-click=\\\"vm.closeDialog()\\\" aria-label=\\\"Close dialog\\\" tranlate translate-aria-label=\\\"MAIL.CLOSE_DIALOG\\\"><md-icon \\nmd-font-icon=\\\"icon-close\\\"></md-icon></md-button></div></md-toolbar><md-progress-linear md-mode=\\\"indeterminate\\\" \\nng-show=\\\"showProgress\\\"></md-progress-linear><md-dialog-content ms-scroll><md-input-container class=\\\"md-block\\\"><label>\\nFrom</label><input ng-model=\\\"vm.form.from\\\" type=\\\"email\\\" disabled=\\\"disabled\\\"></md-input-container><md-input-container \\nclass=\\\"md-block to\\\" ng-class=\\\"{\\'hidden-cc\\': vm.hiddenCC, \\'hidden-bcc\\': vm.hiddenBCC}\\\"><label>To</label><input \\nng-model=\\\"vm.form.to\\\" type=\\\"email\\\" name=\\\"email\\\" md-autofocus ng-pattern=\\\"/^.+@.+\\\\..+$/\\\" required><div \\nng-messages=\\\"messageform.email.$error\\\" role=\\\"alert\\\" multiple=\\\"multiple\\\"><div ng-message=\\\"required\\\"><span>\\nEmail is required</span></div><div ng-message=\\\"pattern\\\"><span>Email must be a valid e-mail address</span></div></div>\\n<div class=\\\"cc-bcc\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"><div class=\\\"show-cc\\\" ng-show=\\\"vm.hiddenCC\\\" \\nng-click=\\\"vm.hiddenCC = false\\\">CC</div><div class=\\\"show-bcc\\\" ng-show=\\\"vm.hiddenBCC\\\" ng-click=\\\"vm.hiddenBCC = false\\\">BCC\\n</div></div></md-input-container><md-input-container class=\\\"md-block\\\" ng-hide=\\\"vm.hiddenCC\\\"><label>Cc</label><input \\nng-model=\\\"vm.form.cc\\\" type=\\\"email\\\"></md-input-container><md-input-container class=\\\"md-block\\\"><label>Subject</label>\\n<input ng-model=\\\"vm.form.subject\\\" name=\\\"subject\\\" type=\\\"text\\\" required><div ng-messages=\\\"messageform.subject.$error\\\" \\nrole=\\\"alert\\\" multiple=\\\"multiple\\\"><div ng-message=\\\"required\\\"><span>Subject is required</span></div></div>\\n</md-input-container><md-input-container class=\\\"md-block\\\"><label>Message</label><input ng-model=\\\"vm.form.message\\\" \\ntype=\\\"text\\\" name=\\\"message\\\" required><div ng-messages=\\\"messageform.message.$error\\\" role=\\\"alert\\\" multiple=\\\"multiple\\\"><div\\n ng-message=\\\"required\\\"><span>Message is required</span></div></div></md-input-container></md-dialog-content>\\n<md-dialog-actions layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div layout=\\\"row\\\"></div><div layout=\\\"row\\\">\\n<md-button ng-disabled=\\\"messageform.$invalid || messageform.$pristine\\\" class=\\\"send-button md-accent md-raised\\\" \\ntype=\\\"submit\\\" aria-label=\\\"Send\\\" translate-attr-aria-label=\\\"MAIL.SEND\\\">SEND</md-button></div></md-dialog-actions></form>\\n</md-dialog>\");\n$templateCache.put(\"app/main/account/customer-profile-transaction.html\",\"<style>table.transaction tr td{\\r\\n\tpadding:10px !important;\\r\\n}</style><md-dialog class=\\\"fullscreen-dialog\\\" \\naria-label=\\\"Customer Transaction Details \\\"><md-toolbar><div class=\\\"md-toolbar-tools dialogheader\\\" \\nstyle=\\\"background-color:rgb(3,155,229)\\\"><div layout=\\\"column\\\" layout-align=\\\"start start\\\"><div flex=\\\"100\\\"><h3>\\nCard Number: XXXX-XXX-XXX-{{last4gigits}}</h3></div><div flex=\\\"100\\\"><h3 style=\\\"text-transform:capitalize\\\">\\nCard Typer: {{cardtype}}</h3></div></div><div layout=\\\"row\\\" layout-align=\\\"end end\\\" style=\\\"margin-left:350px\\\"><div \\nflex=\\\"100\\\"><md-button class=\\\"md-icon-button\\\" ng-click=\\\"cancel()\\\"><md-icon md-font-icon=\\\"fa fa-times-circle\\\"></md-icon>\\n</md-button></div></div></div><md-progress-linear md-mode=\\\"indeterminate\\\" ng-show=\\\"showProgress\\\"></md-progress-linear>\\n</md-toolbar><md-dialog-content class=\\\"md-dialog-content\\\" ms-scroll><div flex-gt-xs=\\\"100\\\" flex=\\\"100\\\" layout=\\\"row\\\" \\nlayout-align=\\\"start start\\\"><table class=\\\"simple transaction\\\" ms-responsive-table><thead \\nstyle=\\\"background-color:#f1f1f1\\\"><tr><th>Invoice #</th><th>Customer</th><th>Trans Date</th><th>Trans Type</th><th>\\nRef. ID</th><th class=\\\"text-right\\\">Amount ($)</th></tr></thead><tbody ng-show=\\\"showContent\\\"><tr \\nng-repeat=\\\"invoice in transactionData\\\"><td class=\\\"name\\\">{{invoice.invoiceno}}</td><td class=\\\"position\\\">\\n{{invoice.Customername}}</td><td class=\\\"office\\\">{{invoice.TxnDate | date:\\'MM/dd/yyyy\\'}}</td><td class=\\\"position\\\">\\n{{invoice.transType}}</td><td class=\\\"position\\\">{{invoice.ref_id}}</td><td class=\\\"start-date text-right\\\">\\n{{invoice.TotalAmt | number:2}}</td></tr></tbody></table></div></md-dialog-content></md-dialog>\");\n$templateCache.put(\"app/main/account/forgot-password.html\",\"<style>body {\\r\\n   font-family: \\'Work Sans\\' !important;\\r\\n}</style><div id=\\\"forgot-password\\\" class=\\\"flex-scrollable\\\" \\nlayout=\\\"column\\\" ms-scroll style=\\\"background: url({{backGroundImage}});background-size:cover\\\"><div \\nid=\\\"forgot-password-form-wrapper\\\" layout=\\\"column\\\" layout-align=\\\"center center\\\"><div id=\\\"forgot-password-form\\\" \\nclass=\\\"md-whiteframe-8dp\\\"><img src=\\\"{{appLogo}}\\\" style=\\\"width:17%\\\"><div class=\\\"title\\\">Recover your password</div><form \\nname=\\\"forgotPasswordForm\\\" novalidate ng-submit=\\\"submit();\\\"><md-progress-linear md-mode=\\\"indeterminate\\\" \\nng-show=\\\"showProgress\\\"></md-progress-linear><md-input-container class=\\\"md-block\\\" md-no-float><input type=\\\"email\\\" \\nname=\\\"email\\\" ng-model=\\\"vm.form.email\\\" placeholder=\\\"Email address\\\" translate ng-pattern=\\\"/^.+@.+\\\\..+$/\\\" required><div \\nng-messages=\\\"forgotPasswordForm.email.$error\\\" role=\\\"alert\\\" multiple=\\\"multiple\\\"><div ng-message=\\\"required\\\"><span \\ntranslate=\\\"FORGOTPASSWORD.ERRORS.EMAIL_REQUIRED\\\">Email field is required</span></div><div ng-message=\\\"pattern\\\"><span \\ntranslate=\\\"FORGOTPASSWORD.ERRORS.EMAIL_MUST_VALID\\\">Email must be a valid e-mail address</span></div></div>\\n</md-input-container><md-button type=\\\"submit\\\" class=\\\"md-raised md-accent submit-button\\\" aria-label=\\\"RESET MY PASSWORD\\\" \\nng-disabled=\\\"forgotPasswordForm.$invalid || forgotPasswordForm.$pristine\\\">SEND RESET LINK</md-button></form><div \\nclass=\\\"login\\\" layout=\\\"row\\\" layout-align=\\\"center center\\\"><a class=\\\"link\\\" ui-sref=\\\"app.login\\\">Log In</a></div></div>\\n</div></div><script>\\n/*var image = new Array ();\\r\\nimage[0] = \\\"assets/images/backgrounds/forget.jpg\\\";\\r\\nimage[1] = \\\"assets/images/backgrounds/forget1.jpg\\\";\\r\\nimage[2] = \\\"assets/images/backgrounds/forget2.jpg\\\";\\r\\nvar size = image.length\\r\\nvar x = Math.floor(size*Math.random())\\r\\n\\r\\n$(\\'#forgot-password\\').css(\\'background-image\\', \\'url(\\\"\\'+image[x]+\\'\\\")\\');*/\\n</script>\");\n$templateCache.put(\"app/main/account/invoice-payment.html\",\"<style>\\n.gridListdemoBasicUsage md-grid-list {\\r\\n    margin: 8px;\\r\\n  }\\r\\n\\r\\n  .gridListdemoBasicUsage .gray {\\r\\n    background: #b9f6ca;\\r\\n  }\\r\\n\\r\\n  .gridListdemoBasicUsage .green {\\r\\n    background: #b9f6ca;\\r\\n  }\\r\\n\\r\\n  md-chips.status .md-chips {\\r\\n    border: 0 solid !important;\\r\\n    box-shadow: none !important;\\r\\n    text-transform: capitalize;\\r\\n    height: 20px !important;\\r\\n  }\\r\\n\\r\\n  .md-chips md-chip {\\r\\n    height: 20px !important;\\r\\n    line-height: 20px !important;\\r\\n    font-size: 11px;\\r\\n    font-weight: 500;\\r\\n\\r\\n  }\\r\\n\\r\\n  table.simple tr td {\\r\\n    padding: 2px !important;\\r\\n  }\\r\\n\\r\\n  md-progress-linear.md-default-theme.md-hue-2.md-accent ._md-bar,\\r\\n  md-progress-linear.md-hue-2.md-accent ._md-bar {\\r\\n    height: 3px !important;\\r\\n  }\\r\\n\\r\\n  md-progress-linear.md-default-theme.md-hue-2.md-accent ._md-container,\\r\\n  md-progress-linear.md-hue-2.md-accent ._md-container {\\r\\n    height: 3px !important;\\r\\n  }\\r\\n\\r\\n  .btt-btn {\\r\\n    cursor: pointer;\\r\\n    position: fixed;\\r\\n    bottom: .5em;\\r\\n    right: .5em;\\r\\n    padding: .5em;\\r\\n    text-decoration: none;\\r\\n    color: white;\\r\\n    background-color: rgba(0, 0, 0, 0.2);\\r\\n    font-size: 14px;\\r\\n    outline-style: none;\\r\\n    /*display: none;*/\\r\\n  }\\n</style><style>\\n.gridListdemoBasicUsage md-grid-list {\\r\\n    margin: 8px;\\r\\n  }\\r\\n\\r\\n  .gridListdemoBasicUsage .gray {\\r\\n    background: #b9f6ca;\\r\\n  }\\r\\n\\r\\n  .gridListdemoBasicUsage .green {\\r\\n    background: #b9f6ca;\\r\\n  }\\r\\n\\r\\n  md-chips.status .md-chips {\\r\\n    border: 0 solid !important;\\r\\n    box-shadow: none !important;\\r\\n    text-transform: capitalize;\\r\\n    height: 20px !important;\\r\\n  }\\r\\n\\r\\n  .md-chips md-chip {\\r\\n    height: 20px !important;\\r\\n    line-height: 20px !important;\\r\\n    font-size: 11px;\\r\\n    font-weight: 500;\\r\\n\\r\\n  }\\r\\n\\r\\n  table.simple tr td {\\r\\n    padding: 2px !important;\\r\\n  }\\r\\n\\r\\n  md-progress-linear.md-default-theme.md-hue-2.md-accent ._md-bar,\\r\\n  md-progress-linear.md-hue-2.md-accent ._md-bar {\\r\\n    height: 3px !important;\\r\\n  }\\r\\n\\r\\n  md-progress-linear.md-default-theme.md-hue-2.md-accent ._md-container,\\r\\n  md-progress-linear.md-hue-2.md-accent ._md-container {\\r\\n    height: 3px !important;\\r\\n  }\\r\\n\\r\\n  md-chip.status {\\r\\n    font-size: 11px;\\r\\n    color: #fff !important;\\r\\n    text-transform: capitalize;\\r\\n    line-height: 20px !important;\\r\\n    height: 20px !important;\\r\\n    font-weight: 500;\\r\\n  }\\r\\n\\r\\n  md-chip.status.approved,\\r\\n  md-chip.status.Approved {\\r\\n    background-color: #00CC66\\r\\n  }\\r\\n\\r\\n  md-chip.status.declined,\\r\\n  md-chip.status.Declined {\\r\\n    background-color: #FA7044\\r\\n  }\\r\\n\\r\\n  table.md-table th {\\r\\n    font-family: Arial, Helvetica, sans-serif;\\r\\n    background: #eee !important;\\r\\n    padding: 16px 8px 16px 24px !important;\\r\\n    font-size: 16px !important;\\r\\n    color: rgba(0, 0, 0, 0.54);\\r\\n    border-bottom: 1px solid rgba(0, 0, 0, 0.12);\\r\\n    white-space: nowrap;\\r\\n    min-width: 120px;\\r\\n    font-weight: 100 !important;\\r\\n  }\\r\\n\\r\\n  .hidden {\\r\\n    display: none;\\r\\n  }\\r\\n\\r\\n  table tbody {\\r\\n    overflow-x: scroll;\\r\\n  }\\n</style><div layout=\\\"row\\\" layout-align=\\\"center center\\\" style=\\\"min-height:600px\\\" class=\\\"dashboard-progress\\\" \\nng-hide=\\\"contentPage\\\"><div flex=\\\"30\\\"><md-progress-linear md-mode=\\\"indeterminate\\\" class=\\\"md-hue-2\\\"></md-progress-linear>\\n</div></div><div id=\\\"simple-table\\\" class=\\\"page-layout simple fullwidth doc-page element-doc-page\\\" \\nng-show=\\\"contentPage\\\"><div class=\\\"content\\\"><div layout=\\\"column\\\" layout-gt-sm=\\\"row\\\" layout-align=\\\"center center\\\"><div>\\n<md-datepicker ng-model=\\\"from_date\\\" md-placeholder=\\\"From Date\\\"></md-datepicker></div><div><md-datepicker \\nng-model=\\\"to_date\\\" md-placeholder=\\\"To Date\\\"></md-datepicker></div><div><md-button class=\\\"md-raised md-primary\\\" \\nstyle=\\\"background-color:rgb(3,155,229); color:#FFFFFF; text-transform:capitalize\\\" ng-click=\\\"vm.searchInvoice()\\\">Search\\n</md-button></div><div><md-button class=\\\"md-raised md-primary\\\" \\nstyle=\\\"background-color:rgb(3,155,229); color:#FFFFFF; text-transform:capitalize\\\" \\nng-click=\\\"enableAdvanceSearch=!enableAdvanceSearch\\\"><md-icon md-font-icon=\\\"icon icon-arrow-up s15\\\" \\nng-show=\\\"!enableAdvanceSearch\\\"></md-icon><md-icon md-font-icon=\\\"icon icon-arrow-down s15\\\" \\nng-show=\\\"enableAdvanceSearch\\\"></md-icon>Advanced Search</md-button></div></div><div layout=\\\"row\\\" layout-xs=\\\"column\\\" \\nlayout-align=\\\"center center\\\" ng-show=\\\"enableAdvanceSearch\\\"><div flex=\\\"20\\\"></div><md-input-container flex=\\\"20\\\" \\nflex-xs=\\\"100\\\"><label>Status</label><md-select name=\\\"type\\\" ng-model=\\\"searchingstatus\\\"><md-option value=\\\"all\\\">All\\n</md-option><md-option value=\\\"paid\\\">Paid</md-option><md-option value=\\\"dues\\\">Due</md-option><md-option value=\\\"overdues\\\">\\nOverdue</md-option></md-select></md-input-container><div flex=\\\"20\\\"></div></div><div class=\\\"widget-group\\\" layout=\\\"row\\\" \\nflex=\\\"100\\\" layout-wrap><ms-widget flippable=\\\"true\\\" layout=\\\"column\\\" flex=\\\"100\\\" flex-gt-xs=\\\"50\\\" flex-gt-md=\\\"33\\\">\\n<ms-widget-front class=\\\"white-bg\\\"><div class=\\\"pt-8 pb-32\\\" layout=\\\"column\\\" layout-align=\\\"center center\\\"><div \\nclass=\\\"red-fg font-size-72 line-height-72 light-blue-fg\\\" countupto=\\\"paid\\\" decimals=\\\"0\\\"></div><div \\nclass=\\\"h3 secondary-text font-weight-500\\\">Paid Invoices</div></div></ms-widget-front></ms-widget><ms-widget \\nflippable=\\\"true\\\" layout=\\\"column\\\" flex=\\\"100\\\" flex-gt-xs=\\\"50\\\" flex-gt-md=\\\"33\\\"><ms-widget-front class=\\\"white-bg\\\"><div \\nclass=\\\"pt-8 pb-32\\\" layout=\\\"column\\\" layout-align=\\\"center center\\\"><div class=\\\"red-fg font-size-72 line-height-72\\\" \\ncountupto=\\\"due\\\" decimals=\\\"0\\\"></div><div class=\\\"h3 secondary-text font-weight-500\\\">Due Invoices</div></div>\\n</ms-widget-front></ms-widget><ms-widget flippable=\\\"true\\\" layout=\\\"column\\\" flex=\\\"100\\\" flex-gt-xs=\\\"50\\\" flex-gt-md=\\\"33\\\">\\n<ms-widget-front class=\\\"white-bg\\\"><div class=\\\"pt-8 pb-32\\\" layout=\\\"column\\\" layout-align=\\\"center center\\\"><div \\nclass=\\\"red-fg font-size-72 line-height-72 orange-fg\\\" countupto=\\\"overdue\\\" decimals=\\\"0\\\"></div><div \\nclass=\\\"h3 secondary-text font-weight-500\\\">Overdue Invoices</div></div></ms-widget-front></ms-widget></div><br><div \\nlayout=\\\"row\\\" flex layout-align=\\\"start start\\\" class=\\\"\\\" style=\\\"padding:10px 0px 0px 10px !important\\\"><div flex=\\\"90\\\">\\n<md-button aria-label=\\\"comment\\\" class=\\\"md-primary md-raised md-small\\\" ng-click=\\\"vm.paymentInvoice();\\\" \\nng-show=\\\"showInvoicePaymentButton\\\"><md-icon md-font-icon=\\\"fa fa-credit-card\\\" style=\\\"font-size:14px\\\"></md-icon>\\n<md-tooltip>Collect Payment</md-tooltip></md-button></div></div><br><br><div \\nclass=\\\"simple-table-container md-whiteframe-4dp\\\"><md-progress-linear md-mode=\\\"indeterminate\\\" ng-show=\\\"showProgressbar\\\" \\nstyle=\\\"margin-top: -5px\\\"></md-progress-linear><table md-table class=\\\"md-data-table\\\" md-row-select multiple=\\\"multiple\\\" \\nng-model=\\\"invoiceSelection\\\" ms-responsive-table><thead md-head md-order=\\\"vm.query.order\\\" \\nmd-on-reorder=\\\"vm.InvoiceData\\\"><th md-column md-order-by=\\\"invoice_no\\\" class=\\\"col1\\\">Invoice #</th><th md-column \\nmd-order-by=\\\"trans_timestamp\\\" class=\\\"col5\\\">Customer</th><th md-column md-order-by=\\\"trans_amount\\\">Invoice Date</th><th \\nmd-column md-order-by=\\\"trans_type\\\" class=\\\"col4\\\">Due Date</th><th md-column md-order-by=\\\"trans_type\\\" class=\\\"col4\\\">\\nBalance ($)</th><th md-column md-order-by=\\\"trans_type\\\" class=\\\"col4\\\">Total ($)</th><th md-column \\nmd-order-by=\\\"trans_type\\\" class=\\\"col4\\\">Invoice Status</th><th md-column md-order-by=\\\"status\\\" class=\\\"col3\\\">Action</th>\\n</thead><tbody md-body><tr md-row md-on-select=\\\"vm.toolBarProcess()\\\" md-select=\\\"invoice.Id\\\" md-select-id=\\\"invoice.Id\\\" \\nmd-auto-select \\nng-repeat=\\\"invoice in vm.InvoiceData | orderBy: vm.query.order | limitTo: vm.query.limit : (vm.query.page -1) * vm.query.limit\\\">\\n<td md-cell class=\\\"col1\\\">{{invoice.DocNumber}}</td><td md-cell class=\\\"col1\\\">{{invoice.CustomerRef.name}}</td><td \\nmd-cell class=\\\"col5\\\">{{invoice.TxnDate | date:\\'MM/dd/yyyy\\'}}</td><td md-cell class=\\\"col5\\\">\\n{{invoice.DueDate | date:\\'MM/dd/yyyy\\'}}</td><td md-cell class=\\\"col5\\\">{{invoice.Balance | number:2}}</td><td md-cell \\nclass=\\\"col5\\\">{{::invoice.TotalAmt | number:2}}</td><td md-cell class=\\\"col3\\\"><span style=\\\"float:right\\\"><md-chips \\nclass=\\\"status\\\" ng-if=\\\"invoice.IsPaid==1\\\"><md-chip style=\\\"background-color:#00CC66; color:#FFFFFF\\\">Paid</md-chip>\\n</md-chips><md-chips class=\\\"status\\\" ng-if=\\\"invoice.IsPaid==0\\\"><md-chip style=\\\"background-color:#FF0000; color:#FFFFFF\\\">\\nUnpaid</md-chip></md-chips></span></td><td md-cell class=\\\"col3\\\"><md-button class=\\\"md-primary md-fab md-mini md-accent\\\" \\naria-label=\\\"fab button\\\" ng-click=\\\"vm.openInvoiceDetail(invoice)\\\"><md-icon md-font-icon=\\\"zmdi zmdi-mail-send\\\" \\naria-label=\\\"View Invoice\\\"></md-icon></md-button></td></tr><tr md-row ng-show=\\\"vm.InvoiceData.length == 0\\\"><td md-cell \\ncolspan=\\\"10\\\" style=\\\"text-align:center !important;text-transform:none\\\">There is no data to display</td></tr></tbody>\\n</table><md-table-pagination md-limit=\\\"vm.query.limit\\\" md-page=\\\"vm.query.page\\\" md-total=\\\"{{vm.InvoiceData.length}}\\\" \\nmd-page-select></md-table-pagination></div></div></div>\");\n$templateCache.put(\"app/main/account/invoice.detail.html\",\"<style>\\nmd-content.md-default-theme,\\r\\n  md-content {\\r\\n    background-color: rgb(245, 245, 245) !important;\\r\\n  }\\r\\n\\r\\n  md-progress-linear.md-default-theme.md-hue-2.md-accent ._md-bar,\\r\\n  md-progress-linear.md-hue-2.md-accent ._md-bar {\\r\\n    height: 3px !important;\\r\\n  }\\r\\n\\r\\n  md-progress-linear.md-default-theme.md-hue-2.md-accent ._md-container,\\r\\n  md-progress-linear.md-hue-2.md-accent ._md-container {\\r\\n    height: 3px !important;\\r\\n  }\\r\\n\\r\\n  /* pdf style */\\r\\n  div#toolbarContainer {\\r\\n    display: none !important;\\r\\n  }\\r\\n\\r\\n  .parent-wapper {\\r\\n    /* margin-top: 5px;\\r\\n    margin-left: 20px;\\r\\n    margin-right: 10px; */\\r\\n    margin-bottom: 300px;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    /* box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24); */\\r\\n    /* transition: all 0.3s cubic-bezier(.25, .8, .25, 1); */\\r\\n  }\\r\\n\\r\\n  div#errorWrapper {\\r\\n    display: none !important;\\r\\n  }\\r\\n\\r\\n  .pdf-container {\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n  }\\r\\n\\r\\n  .pdfjs .pdfViewer .page {\\r\\n    width: 97%;\\r\\n    border: none !important;\\r\\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\\r\\n  }\\r\\n\\r\\n  .pdfjs #viewerContainer {\\r\\n    overflow: visible !important;\\r\\n    margin-bottom: 90px;\\r\\n    margin-top: 1px;\\r\\n\\r\\n  }\\r\\n\\r\\n  .pdfjs .textLayer {\\r\\n\\r\\n    margin-bottom: 10px;\\r\\n  }\\r\\n\\r\\n  /* div#viewer { */\\r\\n  /* margin-top: 5px; */\\r\\n  /* margin-bottom: 5px */\\r\\n  /* } */\\r\\n\\r\\n  .pdfjs #viewerContainer::-webkit-scrollbar {\\r\\n    display: none;\\r\\n  }\\r\\n\\r\\n  .pdfjs #mainContainer {\\r\\n    top: -22px !important;\\r\\n    bottom: 10px;\\r\\n  }\\n</style><div layout=\\\"row\\\" layout-align=\\\"center center\\\" style=\\\"min-height:600px\\\" class=\\\"dashboard-progress\\\" \\nng-hide=\\\"vm.showContent\\\"><div flex=\\\"30\\\"><md-progress-linear md-mode=\\\"indeterminate\\\" class=\\\"md-hue-2\\\">\\n</md-progress-linear></div></div><div class=\\\"pdf-container\\\" layout=\\\"row\\\" layout-xs=\\\"column\\\" layout-sm=\\\"row\\\" \\nlayout-align=\\\"center start\\\"><div show-xs hide-gt-xs flex \\nng-style=\\\"!IsDefaultTemplate == true?{\\'margin\\':\\'120px\\'}:{\\'margin\\':\\'0px\\'}\\\"></div><div \\nng-show=\\\"vm.showContent && !IsDefaultTemplate\\\" flex-xs flex-sm flex-gt-xs=\\\"{{invoiceTemplateWidth}}\\\" layout=\\\"column\\\">\\n<md-card md-theme-watch style=\\\"width:99%\\\"><md-card-content layout=\\\"row\\\" layout-xs=\\\"column\\\" layout-sm=\\\"column\\\" \\nlayout-align=\\\"space-between2\\\"><div ng-if=\\\"vm.Balance == 0.00\\\" \\nstyle=\\\"position:absolute; top:130px; right:auto;z-index:9999;opacity:0.8\\\" align=\\\"center\\\"><img \\nsrc=\\\"https://apps.clique.center/apps/customerportal/assets/images/backgrounds/paid.png\\\" width=\\\"500\\\"></div><div \\nclass=\\\"center-container\\\" id=\\\"invoice_detail\\\" \\nstyle=\\\"width:99% !important;min-height: 700px;padding: 30px 30px 150px 10px\\\"></div></md-card-content></md-card></div>\\n<div flex-xs flex-gt-xs=\\\"70\\\" ng-show=\\\"IsDefaultTemplate\\\" class=\\\"parent-wapper\\\"><pdfjs-viewer data=\\\"src\\\"></pdfjs-viewer>\\n</div><div ng-show=\\\"vm.showContent\\\" flex flex-xs flex-gt-xs=\\\"30\\\" ng-if=\\\"vm.Balance != 0.00\\\"><md-card md-theme-watch>\\n<md-card-content><div layout=\\\"row\\\" layout-xs=\\\"column\\\"><div><span class=\\\"total\\\" \\nstyle=\\\"font-size:25px; font-weight:bold\\\">Amount:</span></div><div style=\\\"margin-top:-22px;float:right\\\">\\n<md-input-container class=\\\"md-block\\\" md-no-float><input type=\\\"text\\\" name=\\\"transamount\\\" id=\\\"transamount\\\" \\nstyle=\\\"font-size:25px;font-weight:bold;text-align: right\\\" ng-model=\\\"vm.transamount\\\" class=\\\"md-padding\\\" \\nplaceholder=\\\"Transaction Amount\\\" ng-pattern=\\\"/^[0-9]+(\\\\.[0-9]{1,2})?$/\\\" step=\\\"0.01\\\" \\nng-keyup=\\\"keyPressed($event,vm.transamount)\\\" required number-formatter format=\\\"currency\\\"><div \\nng-messages=\\\"checkoutForm.transamount.$error\\\" role=\\\"alert\\\" multipl><div ng-message=\\\"required\\\" ng-show=\\\"IsSubmit\\\"><span>\\nTransaction Amount is required</span></div><div ng-message=\\\"pattern\\\"><span>Invalid Amount</span></div><div \\nng-show=\\\"IsGreater\\\"><span style=\\\"font-size: 12px\\\">{{vm.amounterror}}</span></div></div></md-input-container></div>\\n</div><md-progress-linear md-mode=\\\"indeterminate\\\" ng-show=\\\"showProgress\\\" style=\\\"margin-top: -5px\\\"></md-progress-linear>\\n<div ng-show=\\\"cardconnectSuccess\\\"><p style=\\\"color:#1d6001; font-size:17px; font-weight:bold\\\">{{cardconnectMsg}}</p>\\n</div><div ng-show=\\\"cardconnectError\\\"><p style=\\\"color:#FF0000; font-size:17px;text-wrap:normal;font-weight:bold\\\">\\n{{cardconnectMsg}}</p></div><br><div layout=\\\"row\\\" layout-xs=\\\"column\\\" layout-gt-sm=\\\"row\\\" layout-align=\\\"end center\\\" \\nng-show=\\\"vm.isAchEnable==\\'true\\'\\\"><div><md-checkbox ng-model=\\\"paymentMethodValue\\\" aria-label=\\\"E-Check\\\" \\nng-change=\\\"changePaymentMode(paymentMethodValue)\\\"><b>E-Check</b></md-checkbox></div></div><form \\nname=\\\"vm.payform.checkoutForm\\\" ng-submit=\\\"submit()\\\" novalidate ng-show=\\\"showCCDiv\\\"><md-input-container \\nstyle=\\\"width:100%\\\" class=\\\"md-block\\\" md-no-float ng-show=\\\"con.length > 0\\\"><md-select ng-model=\\\"ccprofile\\\" \\nng-change=\\\"UpdateCCFields(ccprofile)\\\" placeholder=\\\"Card Profile\\\"><md-optgroup label=\\\"Card Profile\\\"><md-option \\nng-value=\\\"\\\">None</md-option><md-option ng-value=\\\"profile\\\" ng-repeat=\\\"(key,profile) in con\\\" \\nng-if=\\\"profile.card_type != \\'ECHK\\'\\\">xxxx-xxxx-xxxx-{{profile.last_digits}}- {{profile.cardholder_name}}</md-option>\\n</md-optgroup></md-select></md-input-container><md-input-container style=\\\"width:100%\\\"><input type=\\\"text\\\" \\nname=\\\"cardholder\\\" ng-model=\\\"vm.form.cardholder\\\" placeholder=\\\"Card Holder Name\\\" ng-disabled=\\\"usedCardProfile\\\" \\nng-required=\\\"isCCRequired\\\"><div ng-messages=\\\"checkoutForm.cardholder.$error\\\" role=\\\"alert\\\" multiple=\\\"multiple\\\"><div \\nng-message=\\\"required\\\" ng-show=\\\"IsSubmit\\\"><span>Card Holder Name is required</span></div></div></md-input-container>\\n<md-input-container style=\\\"margin-top: -10px;width:100%\\\" ng-show=\\\"showCCField\\\"><input type=\\\"text\\\" name=\\\"cardnumber\\\" \\nng-model=\\\"vm.form.cardnumber\\\" data-ng-pattern=\\\"/^[0-9]+$/\\\" placeholder=\\\"Credit Card Number\\\" data-ng-minlength=\\\"14\\\" \\nmaxlength=\\\"16\\\" ng-required=\\\"isCCRequired\\\" id=\\\"cardnumber\\\" data-credit-card-type ng-disabled=\\\"usedCardProfile\\\"><div \\nng-messages=\\\"checkoutForm.cardnumber.$error\\\" role=\\\"alert\\\" multipl><div ng-message=\\\"required\\\" ng-show=\\\"IsSubmit\\\"><span>\\nCredit Card Number is required</span></div><div ng-message=\\\"minlength\\\"><span>Credit Card Number must be 14-16 digits\\n</span></div><div ng-message=\\\"pattern\\\"><span>Credit Card must consist of only numbers</span></div><div \\nstyle=\\\"float: right; width: 50%; margin-top: -20px\\\"><img src=\\\"assets/images/logos/amex.png\\\" id=\\\"amex\\\" \\nstyle=\\\"margin: 30px 0px 0px 0px; height: 22px; opacity:{{ccinfo.type==\\'amex\\' ? 1 : 0.4}}\\\"> <img \\nsrc=\\\"assets/images/logos/discover.png\\\" id=\\\"discover\\\" class=\\\"\\\" \\nstyle=\\\"margin: 30px 0px 0px 0px; height: 22px; opacity:{{ccinfo.type==\\'discover\\' ? 1 : 0.4}}\\\"> <img \\nsrc=\\\"assets/images/logos/mastercard.png\\\" id=\\\"mastercard\\\" class=\\\"\\\" \\nstyle=\\\"margin: 30px 0px 0px 0px; height: 22px; opacity:{{ccinfo.type==\\'master\\' ? 1 : 0.4}}\\\"> <img \\nsrc=\\\"assets/images/logos/visa.png\\\" id=\\\"visa\\\" class=\\\"\\\" \\nstyle=\\\"margin: 30px 0px 0px 0px; height: 22px; opacity:{{ccinfo.type==\\'visa\\' ? 1 : 0.4}}\\\"></div></div>\\n</md-input-container><div layout=\\\"column\\\" layout-gt-xs=\\\"row\\\" ng-show=\\\"showCCField\\\"><md-input-container flex=\\\"100\\\" \\nflex-gt-xs=\\\"30\\\"><label>Exp Month</label><md-select ng-model=\\\"vm.form.months\\\" ng-required=\\\"isCCRequired\\\" \\nng-disabled=\\\"usedCardProfile\\\"><md-option ng-repeat=\\\"months in vm.months\\\" value=\\\"{{months}}\\\">{{months}}</md-option>\\n</md-select><div ng-messages=\\\"checkoutForm.months.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\" ng-show=\\\"IsSubmit\\\">\\n<span>Credit Card exp month is required.</span></div></div></md-input-container><md-input-container flex=\\\"100\\\" \\nflex-gt-xs=\\\"30\\\"><label>Exp Year</label><md-select ng-model=\\\"vm.form.years\\\" ng-required=\\\"isCCRequired\\\" \\nng-disabled=\\\"usedCardProfile\\\"><md-option ng-repeat=\\\"years in vm.years\\\" value=\\\"{{years}}\\\">{{years}}</md-option>\\n</md-select><div ng-messages=\\\"checkoutForm.years.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\" ng-show=\\\"IsSubmit\\\">\\n<span>Credit Card exp year is required.</span></div></div></md-input-container><md-input-container flex-gt-xs=\\\"40\\\">\\n<input type=\\\"text\\\" name=\\\"cc2\\\" ng-model=\\\"vm.form.cc2\\\" placeholder=\\\"CVC2/CVV2/CID\\\" ng-disabled=\\\"usedCardProfile\\\" \\nng-required=\\\"isCCRequired\\\" md-maxlength=\\\"4\\\" maxlength=\\\"4\\\" ng-pattern=\\\"/^[0-9]+$/\\\"><div \\nng-messages=\\\"checkoutForm.cc2.$error\\\" role=\\\"alert\\\" multipl><div ng-message=\\\"required\\\" ng-show=\\\"IsSubmit\\\"><span>\\nSecurity code is required.</span></div><div ng-message=\\\"md-maxlength\\\"><span>\\nSecurity code can\\'t be longer than 4 characters.</span></div></div></md-input-container></div><div layout=\\\"column\\\" \\nlayout-gt-xs=\\\"row\\\"><md-input-container flex=\\\"100\\\" flex-gt-xs=\\\"75\\\"><input type=\\\"text\\\" name=\\\"streetaddress\\\" \\nng-model=\\\"vm.form.streetaddress\\\" class=\\\"md-padding\\\" placeholder=\\\"Street Address\\\"></md-input-container>\\n<md-input-container flex=\\\"100\\\" flex-gt-xs=\\\"25\\\"><input type=\\\"text\\\" name=\\\"zipcode\\\" ng-model=\\\"vm.form.zipcode\\\" \\nclass=\\\"md-padding\\\" placeholder=\\\"ZIP Code\\\"></md-input-container></div><div layout=\\\"row\\\" layout-xs=\\\"row\\\" \\nlayout-gt-sm=\\\"row\\\" layout-align=\\\"start center\\\" ng-show=\\\"showCCField\\\"><div><md-checkbox ng-model=\\\"save_profile\\\" \\naria-label=\\\"Save Profile\\\" ng-change=\\\"isSaveProfile(save_profile)\\\"></md-checkbox><b>Save card for future use</b></div>\\n</div><div class=\\\"terms\\\" layout=\\\"row\\\" layout-align=\\\"center center\\\" style=\\\"margin-top:-5px\\\"><md-checkbox name=\\\"terms\\\" \\nng-model=\\\"vm.form.terms\\\" aria-label=\\\"I read and accept\\\" required></md-checkbox><div layout=\\\"row\\\" layout-sm=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><span style=\\\"font-size:14px\\\">\\n&nbsp;I agree to pay above total amount according to the card issuer agreement</span></div></div><hr \\nng-if=\\\"vm.invoice.TxnTaxDetail != null\\\" style=\\\"display:none\\\"><div layout=\\\"row\\\" ng-if=\\\"vm.invoice.TxnTaxDetail != null\\\" \\nstyle=\\\"display:none\\\"><div flex=\\\"5\\\">&nbsp;</div><div flex=\\\"25\\\">Tax</div><div flex=\\\"50\\\">&nbsp;</div><div flex=\\\"10\\\" \\nhide-sm hide-xs><span style=\\\"font-size:20px; font-weight:bold\\\">$10.00</span></div><div flex=\\\"10\\\">&nbsp;</div></div>\\n<input type=\\\"hidden\\\" name=\\\"amount\\\" ng-model=\\\"vm.invoice.Balance\\\"> <input type=\\\"hidden\\\" name=\\\"cardtype\\\" id=\\\"cardtype\\\">\\n<md-button type=\\\"submit\\\" ng-if=\\\"vm.Balance != 0\\\" \\nstyle=\\\"padding: 3px 10px;border-radius: 2.6px; text-decoration:none;font-size: 16px;top:0;right:5px;background-color:#08C65B; border:1px solid #08C65B; padding-bottom:0px; padding-top:9px; width:99%\\\" \\nclass=\\\"md-raised md-accent submit-button\\\" aria-label=\\\"Check Out\\\" \\nng-disabled=\\\"vm.payform.checkoutForm.$invalid || vm.payform.checkoutForm.$pristine || buttonDisable\\\" \\nng-click=\\\"msWizard.resetForm();\\\"><p style=\\\"font-size:16px; vertical-align:middle\\\">Process</p></md-button></form><form \\nname=\\\"vm.payform.ACHForm\\\" ng-submit=\\\"submitACH()\\\" novalidate ng-show=\\\"showACHDiv\\\"><md-input-container \\nstyle=\\\"width:100%\\\" ng-show=\\\"showACHField\\\"><input type=\\\"text\\\" name=\\\"bankaba\\\" ng-model=\\\"vm.form.bankaba\\\" \\ndata-ng-pattern=\\\"/^[0-9]+$/\\\" placeholder=\\\"Rounting Number\\\" ng-required=\\\"isACHRequired\\\"><div \\nng-messages=\\\"ACHForm.bankaba.$error\\\" role=\\\"alert\\\" multiple=\\\"multiple\\\"><div ng-message=\\\"required\\\" ng-show=\\\"IsSubmit\\\">\\n<span>Rounting Number is required</span></div></div></md-input-container><md-input-container style=\\\"width:100%\\\" \\nng-show=\\\"showACHField\\\"><input type=\\\"text\\\" name=\\\"account\\\" ng-model=\\\"vm.form.account\\\" data-ng-pattern=\\\"/^[0-9]+$/\\\" \\nplaceholder=\\\"Account Number\\\" ng-required=\\\"isACHRequired\\\"><div ng-messages=\\\"ACHForm.account.$error\\\" role=\\\"alert\\\" \\nmultipl><div ng-message=\\\"required\\\" ng-show=\\\"IsSubmit\\\"><span>Account Number is required</span></div></div>\\n</md-input-container><md-input-container style=\\\"width:100%\\\"><input type=\\\"text\\\" name=\\\"name\\\" ng-model=\\\"vm.form.name\\\" \\nplaceholder=\\\"Name on Account\\\" required><div ng-messages=\\\"ACHForm.name.$error\\\" role=\\\"alert\\\" multipl><div \\nng-message=\\\"required\\\" ng-show=\\\"IsSubmit\\\"><span>Name on Account is required</span></div></div></md-input-container><div \\nclass=\\\"terms\\\" layout=\\\"row\\\" layout-align=\\\"center center\\\" style=\\\"margin-top: -30px\\\"><md-checkbox name=\\\"terms\\\" \\nng-model=\\\"vm.form.terms\\\" aria-label=\\\"I read and accept\\\" required></md-checkbox><div layout=\\\"row\\\" layout-sm=\\\"column\\\" \\nlayout-align=\\\"start center\\\"><span style=\\\"font-size:14px;word-wrap: break-word\\\">\\n&nbsp; I agree to pay above total amount according to the card issuer agreement</span></div></div><md-button \\ntype=\\\"submit\\\" ng-if=\\\"vm.Balance != 0\\\" \\nstyle=\\\"padding: 3px 10px;border-radius: 2.6px; text-decoration:none;font-size: 16px;top:0;right:5px;background-color:#08C65B; border:1px solid #08C65B; padding-bottom:0px; padding-top:9px; width:99%\\\" \\nclass=\\\"md-raised md-accent submit-button\\\" aria-label=\\\"Check Out\\\" \\nng-disabled=\\\"vm.payform.ACHForm.$invalid || vm.payform.ACHForm.$pristine || buttonDisable\\\" \\nng-click=\\\"msWizard.resetForm();\\\"><p style=\\\"font-size:16px; vertical-align:middle\\\">Process</p></md-button></form>\\n</md-card-content></md-card></div></div><div style=\\\"visibility: hidden\\\"><div class=\\\"md-dialog-container\\\" id=\\\"myDialog\\\">\\n<md-dialog aria-label=\\\"FeedBack\\\"><div layout-padding><div><center><span><p \\nstyle=\\\"color:#1d6001; font-weight:bold;font-size:17px;text-wrap:normal;width:500px\\\">{{cardconnectMsg}}</p></span>\\n</center></div></div></md-dialog></div></div>\");\n$templateCache.put(\"app/main/account/invoices.html\",\"<style>\\n.gridListdemoBasicUsage md-grid-list {\\r\\n    margin: 8px;\\r\\n  }\\r\\n\\r\\n  .gridListdemoBasicUsage .gray {\\r\\n    background: #b9f6ca;\\r\\n  }\\r\\n\\r\\n  .gridListdemoBasicUsage .green {\\r\\n    background: #b9f6ca;\\r\\n  }\\r\\n\\r\\n  md-chips.status .md-chips {\\r\\n    border: 0 solid !important;\\r\\n    box-shadow: none !important;\\r\\n    text-transform: capitalize;\\r\\n    height: 20px !important;\\r\\n  }\\r\\n\\r\\n  .md-chips md-chip {\\r\\n    height: 20px !important;\\r\\n    line-height: 20px !important;\\r\\n    font-size: 11px;\\r\\n    font-weight: 500;\\r\\n\\r\\n  }\\r\\n\\r\\n  table.simple tr td {\\r\\n    padding: 2px !important;\\r\\n  }\\r\\n\\r\\n  md-progress-linear.md-default-theme.md-hue-2.md-accent ._md-bar,\\r\\n  md-progress-linear.md-hue-2.md-accent ._md-bar {\\r\\n    height: 3px !important;\\r\\n  }\\r\\n\\r\\n  md-progress-linear.md-default-theme.md-hue-2.md-accent ._md-container,\\r\\n  md-progress-linear.md-hue-2.md-accent ._md-container {\\r\\n    height: 3px !important;\\r\\n  }\\r\\n\\r\\n  .btt-btn {\\r\\n    cursor: pointer;\\r\\n    position: fixed;\\r\\n    bottom: .5em;\\r\\n    right: .5em;\\r\\n    padding: .5em;\\r\\n    text-decoration: none;\\r\\n    color: white;\\r\\n    background-color: rgba(0, 0, 0, 0.2);\\r\\n    font-size: 14px;\\r\\n    outline-style: none;\\r\\n    /*display: none;*/\\r\\n  }\\n</style><style>\\n.gridListdemoBasicUsage md-grid-list {\\r\\n    margin: 8px;\\r\\n  }\\r\\n\\r\\n  .gridListdemoBasicUsage .gray {\\r\\n    background: #b9f6ca;\\r\\n  }\\r\\n\\r\\n  .gridListdemoBasicUsage .green {\\r\\n    background: #b9f6ca;\\r\\n  }\\r\\n\\r\\n  md-chips.status .md-chips {\\r\\n    border: 0 solid !important;\\r\\n    box-shadow: none !important;\\r\\n    text-transform: capitalize;\\r\\n    height: 20px !important;\\r\\n  }\\r\\n\\r\\n  .md-chips md-chip {\\r\\n    height: 20px !important;\\r\\n    line-height: 20px !important;\\r\\n    font-size: 11px;\\r\\n    font-weight: 500;\\r\\n\\r\\n  }\\r\\n\\r\\n  table.simple tr td {\\r\\n    padding: 2px !important;\\r\\n  }\\r\\n\\r\\n  md-progress-linear.md-default-theme.md-hue-2.md-accent ._md-bar,\\r\\n  md-progress-linear.md-hue-2.md-accent ._md-bar {\\r\\n    height: 3px !important;\\r\\n  }\\r\\n\\r\\n  md-progress-linear.md-default-theme.md-hue-2.md-accent ._md-container,\\r\\n  md-progress-linear.md-hue-2.md-accent ._md-container {\\r\\n    height: 3px !important;\\r\\n  }\\r\\n\\r\\n  md-chip.status {\\r\\n    font-size: 11px;\\r\\n    color: #fff !important;\\r\\n    text-transform: capitalize;\\r\\n    line-height: 20px !important;\\r\\n    height: 20px !important;\\r\\n    font-weight: 500;\\r\\n  }\\r\\n\\r\\n  md-chip.status.approved,\\r\\n  md-chip.status.Approved {\\r\\n    background-color: #00CC66\\r\\n  }\\r\\n\\r\\n  md-chip.status.declined,\\r\\n  md-chip.status.Declined {\\r\\n    background-color: #FA7044\\r\\n  }\\r\\n\\r\\n  table.md-table th {\\r\\n    font-family: Arial, Helvetica, sans-serif;\\r\\n    background: #eee !important;\\r\\n    padding: 16px 8px 16px 24px !important;\\r\\n    font-size: 16px !important;\\r\\n    color: rgba(0, 0, 0, 0.54);\\r\\n    border-bottom: 1px solid rgba(0, 0, 0, 0.12);\\r\\n    white-space: nowrap;\\r\\n    min-width: 120px;\\r\\n    font-weight: 100 !important;\\r\\n  }\\r\\n\\r\\n  .hidden {\\r\\n    display: none;\\r\\n  }\\r\\n\\r\\n  table tbody {\\r\\n    overflow-x: scroll;\\r\\n  }\\n</style><div layout=\\\"row\\\" layout-align=\\\"center center\\\" style=\\\"min-height:600px\\\" class=\\\"dashboard-progress\\\" \\nng-hide=\\\"contentPage\\\"><div flex=\\\"30\\\"><md-progress-linear md-mode=\\\"indeterminate\\\" class=\\\"md-hue-2\\\"></md-progress-linear>\\n</div></div><div id=\\\"simple-table\\\" class=\\\"page-layout simple fullwidth doc-page element-doc-page\\\" \\nng-show=\\\"contentPage\\\"><div class=\\\"content\\\"><div layout=\\\"column\\\" layout-gt-sm=\\\"row\\\" layout-align=\\\"center center\\\"><div>\\n<md-datepicker ng-model=\\\"from_date\\\" md-placeholder=\\\"From Date\\\"></md-datepicker></div><div><md-datepicker \\nng-model=\\\"to_date\\\" md-placeholder=\\\"To Date\\\"></md-datepicker></div><div><md-button class=\\\"md-raised md-primary\\\" \\nstyle=\\\"background-color:rgb(3,155,229); color:#FFFFFF; text-transform:capitalize\\\" ng-click=\\\"vm.searchInvoice()\\\">Search\\n</md-button></div><div><md-button class=\\\"md-raised md-primary\\\" \\nstyle=\\\"background-color:rgb(3,155,229); color:#FFFFFF; text-transform:capitalize\\\" \\nng-click=\\\"enableAdvanceSearch=!enableAdvanceSearch\\\"><md-icon md-font-icon=\\\"icon icon-arrow-up s15\\\" \\nng-show=\\\"!enableAdvanceSearch\\\"></md-icon><md-icon md-font-icon=\\\"icon icon-arrow-down s15\\\" \\nng-show=\\\"enableAdvanceSearch\\\"></md-icon>Advanced Search</md-button></div></div><div layout=\\\"row\\\" layout-xs=\\\"column\\\" \\nlayout-align=\\\"center center\\\" ng-show=\\\"enableAdvanceSearch\\\"><div flex=\\\"20\\\"></div><md-input-container flex=\\\"20\\\" \\nflex-xs=\\\"100\\\"><label>Status</label><md-select name=\\\"type\\\" ng-model=\\\"searchingstatus\\\"><md-option value=\\\"all\\\">All\\n</md-option><md-option value=\\\"paid\\\">Paid</md-option><md-option value=\\\"dues\\\">Due</md-option><md-option value=\\\"overdues\\\">\\nOverdue</md-option></md-select></md-input-container><div flex=\\\"20\\\"></div></div><div class=\\\"widget-group\\\" layout=\\\"row\\\" \\nflex=\\\"100\\\" layout-wrap><ms-widget flippable=\\\"true\\\" layout=\\\"column\\\" flex=\\\"100\\\" flex-gt-xs=\\\"50\\\" flex-gt-md=\\\"33\\\">\\n<ms-widget-front class=\\\"white-bg\\\"><div class=\\\"pt-8 pb-32\\\" layout=\\\"column\\\" layout-align=\\\"center center\\\"><div \\nclass=\\\"red-fg font-size-72 line-height-72 light-blue-fg\\\" countupto=\\\"paid\\\" decimals=\\\"0\\\"></div><div \\nclass=\\\"h3 secondary-text font-weight-500\\\">Paid Invoices</div></div></ms-widget-front></ms-widget><ms-widget \\nflippable=\\\"true\\\" layout=\\\"column\\\" flex=\\\"100\\\" flex-gt-xs=\\\"50\\\" flex-gt-md=\\\"33\\\"><ms-widget-front class=\\\"white-bg\\\"><div \\nclass=\\\"pt-8 pb-32\\\" layout=\\\"column\\\" layout-align=\\\"center center\\\"><div class=\\\"red-fg font-size-72 line-height-72\\\" \\ncountupto=\\\"due\\\" decimals=\\\"0\\\"></div><div class=\\\"h3 secondary-text font-weight-500\\\">Due Invoices</div></div>\\n</ms-widget-front></ms-widget><ms-widget flippable=\\\"true\\\" layout=\\\"column\\\" flex=\\\"100\\\" flex-gt-xs=\\\"50\\\" flex-gt-md=\\\"33\\\">\\n<ms-widget-front class=\\\"white-bg\\\"><div class=\\\"pt-8 pb-32\\\" layout=\\\"column\\\" layout-align=\\\"center center\\\"><div \\nclass=\\\"red-fg font-size-72 line-height-72 orange-fg\\\" countupto=\\\"overdue\\\" decimals=\\\"0\\\"></div><div \\nclass=\\\"h3 secondary-text font-weight-500\\\">Overdue Invoices</div></div></ms-widget-front></ms-widget></div><br><div \\nlayout=\\\"row\\\" flex layout-align=\\\"start start\\\" class=\\\"\\\" style=\\\"padding:10px 0px 0px 10px !important\\\"><div flex=\\\"90\\\">\\n<md-button aria-label=\\\"comment\\\" class=\\\"md-primary md-raised md-small\\\" ng-click=\\\"vm.paymentInvoice();\\\" \\nng-show=\\\"showInvoicePaymentButton\\\"><md-icon md-font-icon=\\\"fa fa-credit-card\\\" style=\\\"font-size:14px\\\"></md-icon>\\n<md-tooltip>Collect Payment</md-tooltip></md-button></div></div><br><br><div \\nclass=\\\"simple-table-container md-whiteframe-4dp\\\"><md-progress-linear md-mode=\\\"indeterminate\\\" ng-show=\\\"showProgressbar\\\" \\nstyle=\\\"margin-top: -5px\\\"></md-progress-linear><table md-table class=\\\"md-data-table\\\" md-row-select multiple=\\\"multiple\\\" \\nng-model=\\\"invoiceSelection\\\" ms-responsive-table><thead md-head md-order=\\\"vm.query.order\\\" \\nmd-on-reorder=\\\"vm.InvoiceData\\\"><th md-column md-order-by=\\\"invoice_no\\\" class=\\\"col1\\\">Invoice #</th><th md-column \\nmd-order-by=\\\"trans_timestamp\\\" class=\\\"col5\\\">Customer</th><th md-column md-order-by=\\\"trans_amount\\\">Invoice Date</th><th \\nmd-column md-order-by=\\\"trans_type\\\" class=\\\"col4\\\">Due Date</th><th md-column md-order-by=\\\"trans_type\\\" class=\\\"col4\\\">\\nBalance ($)</th><th md-column md-order-by=\\\"trans_type\\\" class=\\\"col4\\\">Total ($)</th><th md-column \\nmd-order-by=\\\"trans_type\\\" class=\\\"col4\\\">Invoice Status</th><th md-column md-order-by=\\\"status\\\" class=\\\"col3\\\">Action</th>\\n</thead><tbody md-body><tr md-row md-on-select=\\\"vm.toolBarProcess()\\\" md-select=\\\"invoice.Id\\\" md-select-id=\\\"invoice.Id\\\" \\nmd-auto-select \\nng-repeat=\\\"invoice in vm.InvoiceData | orderBy: vm.query.order | limitTo: vm.query.limit : (vm.query.page -1) * vm.query.limit\\\">\\n<td md-cell class=\\\"col1\\\">{{invoice.DocNumber}}</td><td md-cell class=\\\"col1\\\">{{invoice.CustomerRef.name}}</td><td \\nmd-cell class=\\\"col5\\\">{{invoice.TxnDate | date:\\'MM/dd/yyyy\\'}}</td><td md-cell class=\\\"col5\\\">\\n{{invoice.DueDate | date:\\'MM/dd/yyyy\\'}}</td><td md-cell class=\\\"col5\\\">{{invoice.Balance | number:2}}</td><td md-cell \\nclass=\\\"col5\\\">{{::invoice.TotalAmt | number:2}}</td><td md-cell class=\\\"col3\\\"><span style=\\\"float:right\\\"><md-chips \\nclass=\\\"status\\\" ng-if=\\\"invoice.IsPaid==1\\\"><md-chip style=\\\"background-color:#00CC66; color:#FFFFFF\\\">Paid</md-chip>\\n</md-chips><md-chips class=\\\"status\\\" ng-if=\\\"invoice.IsPaid==0\\\"><md-chip style=\\\"background-color:#FF0000; color:#FFFFFF\\\">\\nUnpaid</md-chip></md-chips></span></td><td md-cell class=\\\"col3\\\"><md-button class=\\\"md-primary md-fab md-mini md-accent\\\" \\naria-label=\\\"fab button\\\" ng-click=\\\"vm.openInvoiceDetail(invoice)\\\"><md-icon md-font-icon=\\\"zmdi zmdi-mail-send\\\" \\naria-label=\\\"View Invoice\\\"></md-icon></md-button></td></tr><tr md-row ng-show=\\\"vm.InvoiceData.length == 0\\\"><td md-cell \\ncolspan=\\\"10\\\" style=\\\"text-align:center !important;text-transform:none\\\">There is no data to display</td></tr></tbody>\\n</table><md-table-pagination md-limit=\\\"vm.query.limit\\\" md-page=\\\"vm.query.page\\\" md-total=\\\"{{vm.InvoiceData.length}}\\\" \\nmd-page-select></md-table-pagination></div></div></div>\");\n$templateCache.put(\"app/main/account/login.html\",\"<style>\\n#over1 {\\r\\n    background-color: rgba(0, 0, 0, 0.45);\\r\\n    z-index: 9999;\\r\\n    width: 600px;\\r\\n    margin: 24px 34px 5px 20px\\r\\n  }\\r\\n\\r\\n  .logo1 {\\r\\n    padding: 0px 15px 0px 20px;\\r\\n  }\\r\\n\\r\\n  .text1 {\\r\\n    font-size: 48px;\\r\\n    color: #FFFFFF;\\r\\n  }\\r\\n\\r\\n  .white-text {\\r\\n    font-weight: 200 !important;\\r\\n    color: #FFFFFF;\\r\\n    font-size: 32px;\\r\\n\\r\\n  }\\r\\n\\r\\n  .white-text2 {\\r\\n\\r\\n    font-size: 22px;\\r\\n    color: #FFFFFF;\\r\\n  }\\r\\n\\r\\n  #over2 {\\r\\n    background-color: rgba(255, 255, 255, 0.43);\\r\\n    z-index: 9999;\\r\\n    width: 600px;\\r\\n    margin: 0px 25px 5px 130px;\\r\\n  }\\r\\n\\r\\n  .md-display-1 {\\r\\n    line-height: 16px !important;\\r\\n  }\\r\\n\\r\\n  #over3 {\\r\\n    background-color: rgba(255, 255, 255, 0.68);\\r\\n    z-index: 9999;\\r\\n    width: 400px;\\r\\n    margin: 100px 25px 5px 30px;\\r\\n    height: 450px;\\r\\n  }\\r\\n\\r\\n  .intuitPlatformLoginButtonHorizontal {\\r\\n    background: url(https://developer.intuit.com/docs/@api/deki/files/5008/sign_in_blue_btn_med_default.png?revision=1&size=bestfit&width=103&height=34) no-repeat 0 0;\\r\\n    width: 154px;\\r\\n    height: 34px;\\r\\n  }\\n</style><style>body {\\r\\n    font-family: \\'Work Sans\\' !important;\\r\\n  }</style><div id=\\\"login-v2\\\" layout=\\\"row\\\" \\nlayout-align=\\\"start\\\"><div id=\\\"login-v2-intro\\\" flex hide show-gt-sm \\nstyle=\\\"background: url({{backGroundImage}});background-size:cover\\\"><div layout=\\\"column\\\" ng-show=\\\"testDrive\\\"><div \\nid=\\\"over1\\\" layout-padding><div layout=\\\"row\\\" layout-align=\\\"start start\\\"><div class=\\\"\\\"><img src=\\\"{{appLogo}}\\\" width=\\\"40\\\">\\n <span class=\\\"text1\\\" style=\\\"font-size:34px !important\\\">{{appName}}</span></div></div><div \\nclass=\\\"md-display-1 white-text\\\" layout-align=\\\"start start\\\">Speed is the soul of every business</div><div \\nclass=\\\"md-subtitle white-text2\\\" layout-align=\\\"start start\\\"><span class=\\\"white-text2\\\" \\nstyle=\\\"font-weight: 200 !important\\\">Try its free for</span><span class=\\\"white-text2\\\" style=\\\"font-size:22px\\\">\\n 14 days.No credit card</span> <span class=\\\"white-text2\\\" style=\\\"font-weight: 200 !important\\\">required.</span></div><div\\n layout-align=\\\"center center\\\"><center><md-button type=\\\"submit\\\" class=\\\"md-raised md-accent submit-button\\\" \\nstyle=\\\"font-size:18px; text-transform:none !important\\\" ng-href=\\\"https://www.clique.center/demo.html\\\">Schedule a Demo!\\n</md-button></center></div></div></div><div layout=\\\"column\\\" ng-show=\\\"billCustomer\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start start\\\" layout-padding><div><img src=\\\"{{appLogo}}\\\" width=\\\"40\\\" style=\\\"margin:5px 0px 0px 15px\\\"></div>\\n<div style=\\\"margin-top:2px;font-size:38px; font-weight:500\\\">{{appName}}</div></div><div id=\\\"over2\\\" \\nlayout-align=\\\"start start\\\" layout-padding><div class=\\\"md-display-1\\\" \\nstyle=\\\"font-weight:300 !important; font-size:30px !important\\\">BILL YOUR CUSTOMERS NOW.</div><div class=\\\"md-headline\\\" \\nstyle=\\\"font-weight:300 !important; font-size:20px !important\\\">\\nSend invoices instantly, and get paid on time,while keeping same merchant account and payment processor</div></div>\\n</div><div layout=\\\"column\\\" ng-show=\\\"invoicingApp\\\"><div id=\\\"over3\\\" layout-padding><div layout=\\\"row\\\" \\nlayout-align=\\\"start end\\\" layout-padding style=\\\"margin-left:-20px\\\"><div><img src=\\\"{{appLogo}}\\\" width=\\\"40\\\" \\nstyle=\\\"margin:5px 0px 0px 15px\\\"></div><div style=\\\"margin-top:2px;font-size:38px; font-weight:500\\\">{{appName}}</div>\\n</div><div class=\\\"md-headline\\\">\\nInvoicing app offers builtin invoice email templates that you can customize by putting company logo and address for effectively billing your client\\n</div></div></div></div><div id=\\\"login-v2-form-wrapper\\\" class=\\\"flex-scrollable md-whiteframe-6dp\\\" ms-scroll><div \\nid=\\\"login-v2-form\\\"><p><center><img src=\\\"{{appLogo}}\\\" style=\\\"width:15%\\\"></center></p><br><div class=\\\"title\\\" \\nstyle=\\\"text-align:center\\\">Sign In</div><br><form name=\\\"loginForm\\\" novalidate ng-submit=\\\"submit()\\\"><md-progress-linear \\nmd-mode=\\\"indeterminate\\\" ng-show=\\\"showProgress\\\"></md-progress-linear><md-input-container class=\\\"md-block\\\" md-no-float>\\n<input type=\\\"email\\\" name=\\\"email\\\" ng-model=\\\"vm.form.email\\\" placeholder=\\\"Email\\\" ng-pattern=\\\"/^.+@.+\\\\..+$/\\\" required><div \\nng-messages=\\\"loginForm.email.$error\\\" role=\\\"alert\\\" multiple=\\\"multiple\\\"><div ng-message=\\\"required\\\"><span>\\nEmail is required</span></div><div ng-message=\\\"pattern\\\"><span>Email must be a valid e-mail address</span></div></div>\\n</md-input-container><md-input-container class=\\\"md-block\\\" md-no-float><input type=\\\"password\\\" name=\\\"password\\\" \\nng-model=\\\"vm.form.password\\\" placeholder=\\\"Password\\\" required><div ng-messages=\\\"loginForm.password.$error\\\" role=\\\"alert\\\" \\nmultiple=\\\"multiple\\\"><div ng-message=\\\"required\\\"><span>Password is required</span></div></div></md-input-container><div \\nclass=\\\"remember-forgot-password\\\" layout=\\\"row\\\" layout-sm=\\\"column\\\" layout-align=\\\"end center\\\"><a \\nui-sref=\\\"app.forgot-password\\\" class=\\\"forgot-password md-accent-color\\\">Forgot your password?</a></div><md-button \\ntype=\\\"submit\\\" class=\\\"md-raised md-accent submit-button\\\" aria-label=\\\"LOG IN\\\" \\nng-disabled=\\\"loginForm.$invalid || loginForm.$pristine\\\">Sign In</md-button></form><div class=\\\"register\\\" layout=\\\"row\\\" \\nlayout-sm=\\\"column\\\" layout-align=\\\"center center\\\" style=\\\"width:285px\\\"></div></div></div></div>\");\n$templateCache.put(\"app/main/account/profile.html\",\"<style>\\nmd-content.md-default-theme,\\r\\n  md-content {\\r\\n    background-color: rgb(245, 245, 245) !important;\\r\\n\\r\\n  }\\r\\n\\r\\n  /*.ms-responsive-table-wrapper {width:100%;}*/\\r\\n  table.simple tr td {\\r\\n    padding: 0px !important;\\r\\n  }\\r\\n\\r\\n  /*table.simple tr th{\\r\\n\tpadding:8px !important;\\r\\n}*/\\r\\n  md-progress-linear.md-default-theme.md-hue-2.md-accent ._md-bar,\\r\\n  md-progress-linear.md-hue-2.md-accent ._md-bar {\\r\\n    height: 3px !important;\\r\\n  }\\r\\n\\r\\n  md-progress-linear.md-default-theme.md-hue-2.md-accent ._md-container,\\r\\n  md-progress-linear.md-hue-2.md-accent ._md-container {\\r\\n    height: 3px !important;\\r\\n  }\\r\\n\\r\\n  /* scroll removed */\\r\\n  md-content::-webkit-scrollbar {\\r\\n    display: none !important;\\r\\n  }\\n</style><div layout=\\\"row\\\" layout-align=\\\"center center\\\" style=\\\"min-height:600px\\\" ng-show=\\\"showProgress\\\"><div flex=\\\"30\\\">\\n<md-progress-linear md-mode=\\\"indeterminate\\\" class=\\\"md-hue-2\\\"></md-progress-linear></div></div><div \\nng-show=\\\"!showProgress\\\" id=\\\"simple-table\\\" class=\\\"page-layout simple fullwidth doc-page element-doc-page\\\"><div \\nclass=\\\"content1\\\"><md-content class=\\\"md-padding1\\\" layout-xs=\\\"column\\\" layout=\\\"row\\\"><div flex-xs flex-gt-xs=\\\"75\\\" \\nlayout=\\\"column\\\"><md-card md-theme-watch style=\\\"width:95%\\\"><md-progress-linear md-mode=\\\"indeterminate\\\" \\nng-show=\\\"showProgress\\\" style=\\\"margin-top: -5px\\\"></md-progress-linear><md-card-content layout=\\\"row\\\" \\nlayout-align=\\\"space-between\\\"><table class=\\\"simple\\\" ms-responsive-table><thead style=\\\"background-color:#f1f1f1\\\"><tr><th \\nwidth=\\\"0%\\\">Trans. Amount ($)</th><th width=\\\"0%\\\">Total Trans.</th><th width=\\\"0%\\\">Card Type</th><th width=\\\"0%\\\">\\nCardholder Name</th><th width=\\\"0%\\\">Last 4 Digits</th><th style=\\\"text-align:center\\\" width=\\\"0%\\\">Action</th></tr></thead>\\n<tbody><tr ng-repeat=\\\"contact in con \\\"><td align=\\\"center\\\">{{ contact.total_amount | number:2 }}</td><td align=\\\"center\\\">\\n<a href=\\\"#\\\" ng-click=\\\"openCustomerProfileTransactionModel(contact,$event)\\\">{{ contact.total_transaction}}</a></td>\\n{{contact.card_type}}<td align=\\\"center\\\" card-type=\\\"{{contact.card_type}}\\\"><img src=\\\"card-type\\\"></td><td align=\\\"center\\\">\\n{{ contact.cardholder_name }}</td><td align=\\\"center\\\">XXXXX-XXX-{{contact.last_digits}}</td><td align=\\\"center\\\">\\n<md-button ng-click=\\\"deleteProfile(contact, $event)\\\" class=\\\"md-icon-button\\\" aria-label=\\\"Delete Profile\\\" \\nstyle=\\\"color:#FF0000\\\"><i class=\\\"fa fa-trash-o fa-lg\\\" aria-hidden=\\\"true\\\"></i></md-button></td></tr></tbody></table>\\n</md-card-content></md-card></div><div flex-xs flex-gt-xs=\\\"35 \\\" layout=\\\"column\\\"><md-card><md-progress-linear \\nmd-mode=\\\"indeterminate\\\" ng-show=\\\"showProfileBar\\\" style=\\\"\\\"></md-progress-linear><md-card-content><div \\nlayout-gt-sm=\\\"row\\\"><md-input-container style=\\\"width:100%\\\" class=\\\"md-block\\\" md-no-float ng-show=\\\"showDropDown\\\"><label>\\n{{text}}</label><md-select ng-disabled=\\\"true\\\" ng-model=\\\"selectedProfileType\\\" ng-change=\\\"getSelectedText()\\\"><md-optgroup\\n label=\\\"{{text}}\\\"><md-option value=\\\"cc\\\">Add Credit/Debit Card</md-option></md-optgroup></md-select>\\n</md-input-container></div><form name=\\\"profileForm\\\" ng-submit=\\\"editSaveProfile()\\\" novalidate ng-show=\\\"showCCDiv\\\"><div \\nlayout-gt-sm=\\\"row\\\"><md-input-container class=\\\"md-block\\\" flex-gt-sm><label>Card Holder Name</label><input type=\\\"text\\\" \\nname=\\\"cardholder\\\" ng-model=\\\"vm.form.cardholder_name\\\" required><div ng-messages=\\\"profile.cardholder.$error\\\" \\nrole=\\\"alert\\\" multiple=\\\"multiple\\\"><div ng-message=\\\"required\\\" ng-show=\\\"IsSubmit\\\"><span>CardHolder Name is required</span>\\n</div></div></md-input-container></div><div layout-gt-sm=\\\"row\\\"><md-input-container class=\\\"md-block\\\" flex-gt-sm><label>\\nCredit Card Number</label><input type=\\\"text\\\" name=\\\"cardnumber\\\" ng-model=\\\"vm.form.cardnumber\\\" \\ndata-ng-pattern=\\\"/^[0-9]+$/\\\" data-ng-minlength=\\\"14\\\" maxlength=\\\"16\\\" id=\\\"cardnumber\\\" required data-credit-card-type><div \\nng-messages=\\\"profile.cardnumber.$error\\\" role=\\\"alert\\\" multipl><div ng-message=\\\"required\\\" ng-show=\\\"IsSubmit\\\"><span>\\nCredit Card Number is required</span></div><div ng-message=\\\"minlength\\\"><span>Credit Card Number must be 14-16 digits\\n</span></div><div ng-message=\\\"pattern\\\"><span>Credit Card must consist of only numbers</span></div><div \\nstyle=\\\"float: right; width: 58%; margin-top: -20px\\\"><img src=\\\"assets/images/logos/amex.png\\\" id=\\\"amex\\\" \\nstyle=\\\"margin: 30px 0px 0px 0px; height: 22px; opacity:{{ccinfo.type==\\'amex\\' ? 1 : 0.4}}\\\"> <img \\nsrc=\\\"assets/images/logos/discover.png\\\" id=\\\"discover\\\" class=\\\"\\\" \\nstyle=\\\"margin: 30px 0px 0px 0px; height: 22px; opacity:{{ccinfo.type==\\'discover\\' ? 1 : 0.4}}\\\"> <img \\nsrc=\\\"assets/images/logos/mastercard.png\\\" id=\\\"mastercard\\\" class=\\\"\\\" \\nstyle=\\\"margin: 30px 0px 0px 0px; height: 22px; opacity:{{ccinfo.type==\\'master\\' ? 1 : 0.4}}\\\"> <img \\nsrc=\\\"assets/images/logos/visa.png\\\" id=\\\"visa\\\" class=\\\"\\\" \\nstyle=\\\"margin: 30px 0px 0px 0px; height: 22px; opacity:{{ccinfo.type==\\'visa\\' ? 1 : 0.4}}\\\"></div></div>\\n</md-input-container></div><div layout-gt-sm=\\\"row\\\"><md-input-container flex=\\\"100\\\" flex-gt-xs=\\\"33\\\"><label>Exp Month\\n</label><md-select ng-model=\\\"vm.form.expmonth\\\" ng-required=\\\"true\\\"><md-option ng-repeat=\\\"month in vm.months\\\" \\nvalue=\\\"{{month}}\\\">{{month}}</md-option></md-select><div ng-messages=\\\"profile.months.$error\\\" role=\\\"alert\\\"><div \\nng-message=\\\"required\\\" ng-show=\\\"IsSubmit\\\"><span>Credit Card exp month is required.</span></div></div>\\n</md-input-container><md-input-container flex=\\\"100\\\" flex-gt-xs=\\\"33\\\"><label>Exp Year</label><md-select \\nng-model=\\\"vm.form.expyear\\\" ng-required=\\\"true\\\"><md-option ng-repeat=\\\"years in vm.years\\\" value=\\\"{{years}}\\\">{{years}}\\n</md-option></md-select><div ng-messages=\\\"profile.years.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\" \\nng-show=\\\"IsSubmit\\\"><span>Credit Card exp year is required.</span></div></div></md-input-container><md-input-container \\nflex-gt-xs=\\\"33\\\"><input type=\\\"text\\\" name=\\\"cc2\\\" ng-model=\\\"vm.form.cc2\\\" placeholder=\\\"CVC2/CVV2/CID\\\" style=\\\"width:70px\\\" \\nrequired md-maxlength=\\\"4\\\" maxlength=\\\"4\\\" ng-pattern=\\\"/^[0-9]+$/\\\"><div ng-messages=\\\"profile.cc2.$error\\\" role=\\\"alert\\\" \\nmultipl><div ng-message=\\\"required\\\" ng-show=\\\"IsSubmit\\\"><span>Security code is required.</span></div><div \\nng-message=\\\"md-maxlength\\\"><span>Security code can\\'t be longer than 4 characters.</span></div></div>\\n</md-input-container></div><div layout-gt-sm=\\\"row\\\"><md-input-container class=\\\"md-block\\\" flex-gt-sm><label>\\nStreet Address</label><input type=\\\"text\\\" name=\\\"address\\\" ng-model=\\\"vm.form.address\\\"></md-input-container>\\n<md-input-container class=\\\"md-block\\\" flex-gt-sm><label>ZIP Code</label><input type=\\\"text\\\" name=\\\"zipcode\\\" \\nng-model=\\\"vm.form.zipcode\\\"></md-input-container></div><md-button type=\\\"submit\\\" \\nclass=\\\"md-raised md-accent submit-button\\\" aria-label=\\\"LOG IN\\\" \\nstyle=\\\"float:right; background:#08C65B!important; color:#FFFFFF; text-transform:capitalize\\\" \\nng-disabled=\\\"profileForm.$invalid || profileForm.$pristine || ButtonDisable\\\" ng-click=\\\"msWizard.resetForm();\\\">\\nSave Payment Method</md-button><md-button type=\\\"submit\\\" class=\\\"md-raised md-accent submit-button\\\" aria-label=\\\"LOG IN\\\" \\nstyle=\\\"float:right; background:#FFFFFF!important; color:#000; text-transform:capitalize\\\" ng-click=\\\"reload();\\\">Cancel\\n</md-button></form><form name=\\\"ACHProfileForm\\\" ng-submit=\\\"editACHProfile()\\\" novalidate ng-show=\\\"showACHDiv\\\">\\n<md-input-container style=\\\"width:100%\\\"><input type=\\\"text\\\" name=\\\"bankaba\\\" ng-model=\\\"vm.form.bankaba\\\" \\ndata-ng-pattern=\\\"/^[0-9]+$/\\\" placeholder=\\\"Rounting Number\\\" required><div ng-messages=\\\"ACHProfileForm.bankaba.$error\\\" \\nrole=\\\"alert\\\" multiple=\\\"multiple\\\"><div ng-message=\\\"required\\\"><span>Rounting Number is required</span></div></div>\\n</md-input-container><md-input-container style=\\\"width:100%\\\"><input type=\\\"text\\\" name=\\\"account\\\" \\nng-model=\\\"vm.form.account\\\" data-ng-pattern=\\\"/^[0-9]+$/\\\" placeholder=\\\"Account Number\\\" required><div \\nng-messages=\\\"ACHProfileForm.account.$error\\\" role=\\\"alert\\\" multipl><div ng-message=\\\"required\\\"><span>\\nAccount Number is required</span></div></div></md-input-container><md-input-container style=\\\"width:100%\\\"><input \\ntype=\\\"text\\\" name=\\\"name\\\" ng-model=\\\"vm.form.name\\\" placeholder=\\\"Name on Account\\\" required><div \\nng-messages=\\\"ACHProfileForm.name.$error\\\" role=\\\"alert\\\" multipl><div ng-message=\\\"required\\\"><span>\\nName on Account is required</span></div></div></md-input-container><md-button type=\\\"submit\\\" \\nclass=\\\"md-raised md-accent submit-button\\\" aria-label=\\\"LOG IN\\\" \\nstyle=\\\"float:right; background:#08C65B!important; color:#FFFFFF; text-transform:capitalize\\\" \\nng-disabled=\\\"ACHProfileForm.$invalid || ACHProfileForm.$pristine || ButtonDisable\\\" ng-click=\\\"msWizard.resetForm();\\\">\\nSave Payment Method</md-button><md-button type=\\\"submit\\\" class=\\\"md-raised md-accent submit-button\\\" aria-label=\\\"LOG IN\\\" \\nstyle=\\\"float:right; background:#FFFFFF!important; color:#000; text-transform:capitalize\\\" ng-click=\\\"reload();\\\">Cancel\\n</md-button></form></md-card-content></md-card></div></md-content></div></div>\");\n$templateCache.put(\"app/main/account/receipts.html\",\"<style>\\n.gridListdemoBasicUsage md-grid-list {\\r\\n    margin: 8px;\\r\\n  }\\r\\n\\r\\n  .gridListdemoBasicUsage .gray {\\r\\n    background: #b9f6ca;\\r\\n  }\\r\\n\\r\\n  .gridListdemoBasicUsage .green {\\r\\n    background: #b9f6ca;\\r\\n  }\\r\\n\\r\\n  md-chips.status .md-chips {\\r\\n    border: 0 solid !important;\\r\\n    box-shadow: none !important;\\r\\n    text-transform: capitalize;\\r\\n    height: 20px !important;\\r\\n  }\\r\\n\\r\\n  .md-chips md-chip {\\r\\n    height: 20px !important;\\r\\n    line-height: 20px !important;\\r\\n    font-size: 11px;\\r\\n    font-weight: 500;\\r\\n\\r\\n  }\\r\\n\\r\\n  table.simple tr td {\\r\\n    padding: 2px !important;\\r\\n  }\\r\\n\\r\\n  md-progress-linear.md-default-theme.md-hue-2.md-accent ._md-bar,\\r\\n  md-progress-linear.md-hue-2.md-accent ._md-bar {\\r\\n    height: 3px !important;\\r\\n  }\\r\\n\\r\\n  md-progress-linear.md-default-theme.md-hue-2.md-accent ._md-container,\\r\\n  md-progress-linear.md-hue-2.md-accent ._md-container {\\r\\n    height: 3px !important;\\r\\n  }\\r\\n\\r\\n  md-chip.status {\\r\\n    font-size: 11px;\\r\\n    color: #fff !important;\\r\\n    text-transform: capitalize;\\r\\n    line-height: 20px !important;\\r\\n    height: 20px !important;\\r\\n    font-weight: 500;\\r\\n  }\\r\\n\\r\\n  md-chip.status.approved,\\r\\n  md-chip.status.Approved {\\r\\n    background-color: #00CC66\\r\\n  }\\r\\n\\r\\n  md-chip.status.declined,\\r\\n  md-chip.status.Declined {\\r\\n    background-color: #FA7044\\r\\n  }\\r\\n\\r\\n  table.md-table th {\\r\\n    font-family: Arial, Helvetica, sans-serif;\\r\\n    background: #eee !important;\\r\\n    padding: 16px 8px 16px 24px !important;\\r\\n    font-size: 16px !important;\\r\\n    color: rgba(0, 0, 0, 0.54);\\r\\n    border-bottom: 1px solid rgba(0, 0, 0, 0.12);\\r\\n    white-space: nowrap;\\r\\n    min-width: 120px;\\r\\n    font-weight: 100 !important;\\r\\n  }\\r\\n\\r\\n  .hidden {\\r\\n    display: none;\\r\\n  }\\r\\n\\r\\n  table tbody {\\r\\n    overflow-x: scroll;\\r\\n  }\\n</style><div layout=\\\"row\\\" layout-align=\\\"center center\\\" style=\\\"min-height:600px\\\" class=\\\"dashboard-progress\\\" \\nng-hide=\\\"contentPage\\\"><div flex=\\\"30\\\"><md-progress-linear md-mode=\\\"indeterminate\\\" class=\\\"md-hue-2\\\"></md-progress-linear>\\n</div></div><div id=\\\"simple-table\\\" class=\\\"page-layout simple fullwidth doc-page element-doc-page\\\" \\nng-show=\\\"contentPage\\\"><div class=\\\"content\\\"><div layout=\\\"column\\\" layout-gt-sm=\\\"row\\\" layout-align=\\\"center center\\\"><div>\\n<md-datepicker ng-model=\\\"from_date\\\" md-placeholder=\\\"From Date\\\"></md-datepicker></div><div><md-datepicker \\nng-model=\\\"to_date\\\" md-placeholder=\\\"To Date\\\"></md-datepicker></div><div><md-button class=\\\"md-raised md-primary\\\" \\nstyle=\\\"background-color:rgb(3,155,229); color:#FFFFFF; text-transform:capitalize\\\" ng-click=\\\"vm.searchTransactions()\\\">\\nSearch</md-button></div><div><md-button class=\\\"md-raised md-primary\\\" \\nstyle=\\\"background-color:rgb(3,155,229); color:#FFFFFF; text-transform:capitalize\\\" \\nng-click=\\\"enableAdvanceSearch=!enableAdvanceSearch\\\"><md-icon md-font-icon=\\\"icon icon-arrow-up s15\\\" \\nng-show=\\\"!enableAdvanceSearch\\\"></md-icon><md-icon md-font-icon=\\\"icon icon-arrow-down s15\\\" \\nng-show=\\\"enableAdvanceSearch\\\"></md-icon>Advance Search</md-button></div><div ng-show=\\\"transSelection.length > 0\\\" \\nng-cloak><md-fab-speed-dial md-open=\\\"isOpen\\\" md-direction=\\\"selectedDirection\\\" ng-class=\\\"selectedMode\\\" ng-cloak>\\n<md-fab-trigger><md-button aria-label=\\\"menu\\\" class=\\\"md-fab\\\"><md-icon md-svg-src=\\\"assets/images/backgrounds/menu.svg\\\">\\n</md-icon></md-button></md-fab-trigger><md-fab-actions><md-button aria-label=\\\"Print\\\" class=\\\"md-fab md-raised md-mini\\\" \\nng-click=\\\"vm.printTransaction()\\\"><md-icon md-svg-src=\\\"assets/images/backgrounds/print.svg\\\" aria-label=\\\"Print\\\">\\n</md-icon></md-button><md-button aria-label=\\\"Download as PDF\\\" class=\\\"md-fab md-raised md-mini\\\" \\nng-click=\\\"vm.downloadReport()\\\"><md-icon md-svg-src=\\\"assets/images/backgrounds/download.svg\\\" \\naria-label=\\\"Download as PDF\\\"></md-icon></md-button></md-fab-actions></md-fab-speed-dial></div></div><div layout=\\\"row\\\" \\nlayout-xs=\\\"column\\\" ng-show=\\\"enableAdvanceSearch\\\" class=\\\"md-padding\\\" layout-margin><md-input-container flex=\\\"25\\\" \\nflex-xs=\\\"100\\\" class=\\\"md-block\\\"><label>Customer</label><input ng-model=\\\"searching.customer\\\"></md-input-container>\\n<md-input-container flex=\\\"25\\\" flex-xs=\\\"100\\\"><label>Amount from</label><input ng-model=\\\"searching.amount_from\\\" \\ntype=\\\"number\\\"><md-icon md-font-icon=\\\"fa fa-usd\\\" style=\\\"font-size:12px\\\"></md-icon></md-input-container>\\n<md-input-container flex=\\\"25\\\" flex-xs=\\\"100\\\"><label>Amount to</label><input ng-model=\\\"searching.amount_to\\\" \\ntype=\\\"number\\\"><md-icon md-font-icon=\\\"fa fa-usd\\\" style=\\\"font-size:12px\\\"></md-icon></md-input-container>\\n<md-input-container flex=\\\"25\\\" flex-xs=\\\"100\\\"><label>Status</label><md-select name=\\\"type\\\" ng-model=\\\"searching.status\\\">\\n<md-option value=\\\"approved\\\">Approved</md-option><md-option value=\\\"declined\\\">Declined</md-option></md-select>\\n</md-input-container></div><br><div class=\\\"simple-table-container md-whiteframe-4dp\\\"><md-progress-linear \\nmd-mode=\\\"indeterminate\\\" ng-show=\\\"showProgressbar\\\" style=\\\"margin-top: -5px\\\"></md-progress-linear><table md-table \\nclass=\\\"md-data-table\\\" md-row-select multiple=\\\"multiple\\\" ng-model=\\\"transSelection\\\" ms-responsive-table><thead md-head \\nmd-order=\\\"vm.query.order\\\" md-on-reorder=\\\"vm.InvoiceData\\\"><th md-column md-order-by=\\\"invoice_no\\\" class=\\\"col1\\\">Invoice #\\n</th><th md-column md-order-by=\\\"trans_timestamp\\\" class=\\\"col5\\\">Trans. Date</th><th md-column md-order-by=\\\"trans_amount\\\">\\nTrans. Amount</th><th md-column md-order-by=\\\"trans_type\\\" class=\\\"col4\\\">Trans. Type</th><th md-column \\nmd-order-by=\\\"status\\\" class=\\\"col3\\\">Status</th><th md-column md-order-by=\\\"cardholder_name\\\" class=\\\"col2\\\">Cardholder Name\\n</th></thead><tbody md-body><tr md-row md-on-select=\\\"vm.toolBarProcess()\\\" md-select=\\\"invoice\\\" \\nmd-select-id=\\\"invoice.trans_id\\\" md-auto-select ng-disabled=\\\"invoice.status == \\'declined\\'\\\" \\nng-repeat=\\\"invoice in vm.InvoiceData | orderBy: vm.query.order | limitTo: vm.query.limit : (vm.query.page -1) * vm.query.limit\\\">\\n<td md-cell class=\\\"col1\\\">{{invoice.invoice_no}}</td><td md-cell class=\\\"col5\\\">\\n{{(invoice.trans_timestamp*1000) | date:\\'medium\\'}}</td><td md-cell style=\\\"text-align:right\\\">\\n{{invoice.trans_amount | currency}}</td><td md-cell class=\\\"col4\\\">{{invoice.trans_type | transType}}</td><td md-cell \\nclass=\\\"col3\\\">{{invoice.invoice}}<md-chips class=\\\"status\\\"><md-chip class=\\\"status {{::invoice.status}}\\\">\\n{{::invoice.status}}</md-chip></md-chips></td><td md-cell class=\\\"col2\\\">{{invoice.cardholder_name}}</td></tr><tr md-row \\nng-show=\\\"vm.InvoiceData.length == 0\\\"><td md-cell colspan=\\\"10\\\" style=\\\"text-align:center !important;text-transform:none\\\">\\nThere is no data to display</td></tr></tbody></table><md-table-pagination md-limit=\\\"vm.query.limit\\\" \\nmd-page=\\\"vm.query.page\\\" md-total=\\\"{{vm.InvoiceData.length}}\\\" md-page-select></md-table-pagination></div></div></div>\");\n$templateCache.put(\"app/main/account/signup.html\",\"<style>body {\\r\\n   font-family: \\'Work Sans\\' !important;\\r\\n}</style><div id=\\\"register-v2\\\" layout=\\\"row\\\" \\nlayout-align=\\\"start\\\"><div id=\\\"register-v2-intro\\\" flex hide show-gt-sm \\nstyle=\\\"background: url({{backGroundImage}});background-size:cover\\\"><div layout=\\\"column\\\" ng-show=\\\"testDrive\\\"><div \\nid=\\\"over1\\\" layout-padding><div layout=\\\"row\\\" layout-align=\\\"start start\\\"><div class=\\\"\\\"><img src=\\\"{{appLogo}}\\\" width=\\\"40\\\">\\n <span class=\\\"text1\\\" style=\\\"font-size:34px !important\\\">{{appName}}</span></div></div><div \\nclass=\\\"md-display-1 white-text\\\" layout-align=\\\"start start\\\">Speed is the soul of every business</div><div \\nclass=\\\"md-subtitle white-text2\\\" layout-align=\\\"start start\\\"><span class=\\\"white-text2\\\" \\nstyle=\\\"font-weight: 200 !important\\\">Try its free for</span><span class=\\\"white-text2\\\" style=\\\"font-size:22px\\\">\\n 14 days.No credit card</span> <span class=\\\"white-text2\\\" style=\\\"font-weight: 200 !important\\\">required.</span></div><div\\n layout-align=\\\"center center\\\"><center><md-button type=\\\"submit\\\" class=\\\"md-raised md-accent submit-button\\\" \\nstyle=\\\"font-size:18px; text-transform:none !important\\\" ng-href=\\\"https://www.clique.center/demo.html\\\">Schedule a Demo!\\n</md-button></center></div></div></div><div layout=\\\"column\\\" ng-show=\\\"billCustomer\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start start\\\" layout-padding><div><img src=\\\"{{appLogo}}\\\" width=\\\"40\\\" style=\\\"margin:5px 0px 0px 15px\\\"></div>\\n<div style=\\\"margin-top:2px;font-size:38px; font-weight:500\\\">{{appName}}</div></div><div id=\\\"over2\\\" \\nlayout-align=\\\"start start\\\" layout-padding><div class=\\\"md-display-1\\\" \\nstyle=\\\"font-weight:300 !important; font-size:30px !important\\\">BILL YOUR CUSTOMERS NOW.</div><div class=\\\"md-headline\\\" \\nstyle=\\\"font-weight:300 !important; font-size:20px !important\\\">\\nSend invoices instantly, and get paid on time,while keeping same merchant account and payment processor</div></div>\\n</div><div layout=\\\"column\\\" ng-show=\\\"invoicingApp\\\"><div id=\\\"over3\\\" layout-padding><div layout=\\\"row\\\" \\nlayout-align=\\\"start end\\\" layout-padding style=\\\"margin-left:-20px\\\"><div><img src=\\\"{{appLogo}}\\\" width=\\\"40\\\" \\nstyle=\\\"margin:5px 0px 0px 15px\\\"></div><div style=\\\"margin-top:2px;font-size:38px; font-weight:500\\\">{{appName}}</div>\\n</div><div class=\\\"md-headline\\\">\\nInvoicing app offers builtin invoice email templates that you can customize by putting company logo and address for effectively billing your client\\n</div></div></div></div><div id=\\\"register-v2-form-wrapper\\\" class=\\\"flex-scrollable md-whiteframe-8dp\\\" layout=\\\"column\\\" \\nflex ms-scroll><div id=\\\"register-v2-form\\\"><p><center><img src=\\\"{{appLogo}}\\\" style=\\\"width:15%\\\"></center></p><br><div \\nclass=\\\"title\\\" style=\\\"text-align:center\\\">Create an account</div><form name=\\\"registerForm\\\" novalidate \\nng-submit=\\\"submit()\\\"><md-progress-linear md-mode=\\\"indeterminate\\\" ng-show=\\\"showProgress\\\"></md-progress-linear>\\n<md-input-container class=\\\"md-block\\\" md-no-float><input name=\\\"username\\\" ng-model=\\\"vm.form.username\\\" \\nplaceholder=\\\"Name *\\\" required><div ng-messages=\\\"registerForm.username.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\">\\n<span>Name field is required</span></div></div></md-input-container><md-input-container class=\\\"md-block\\\" md-no-float>\\n<input type=\\\"email\\\" ng-disabled=\\\"disableField\\\" name=\\\"email\\\" ng-model=\\\"vm.form.email\\\" placeholder=\\\"Email *\\\" \\nng-pattern=\\\"/^.+@.+\\\\..+$/\\\" required><div ng-messages=\\\"registerForm.email.$error\\\" role=\\\"alert\\\" multiple=\\\"multiple\\\"><div \\nng-message=\\\"required\\\"><span>Email field is required</span></div><div ng-message=\\\"pattern\\\"><span>\\nEmail must be a valid e-mail address</span></div></div></md-input-container><md-input-container class=\\\"md-block\\\" \\nmd-no-float><input type=\\\"password\\\" name=\\\"password\\\" ng-model=\\\"vm.form.password\\\" placeholder=\\\"Password *\\\" \\nng-model-options=\\\"{allowInvalid: true}\\\" pattern-validator=\\\"((?=.*\\\\d)(?=.*[A-Z])(?=.*\\\\W).{8,8})\\\" required>\\n<password-strength ng-model=\\\"vm.form.password\\\"></password-strength><div ng-messages=\\\"registerForm.password.$error\\\" \\nrole=\\\"alert\\\"><div ng-message=\\\"required\\\"><span>Password field is required</span></div><div ng-message=\\\"pattern\\\"><span>\\nPassword must be a follow the criteria.</span></div></div></md-input-container><md-input-container class=\\\"md-block\\\" \\nmd-no-float><input type=\\\"password\\\" name=\\\"passwordConfirm\\\" ng-model=\\\"vm.form.passwordConfirm\\\" \\nplaceholder=\\\"Password (Confirm) *\\\" valid-password-c=\\\"vm.form.password\\\" required><div \\nng-messages=\\\"registerForm.passwordConfirm.$error\\\" role=\\\"alert\\\" multiple=\\\"multiple\\\"><div ng-message=\\\"required\\\"><span>\\nPassword (Confirm) field is required</span></div><div \\nng-show=\\\"registerForm.password.$viewValue != \\'\\' && (registerForm.password.$viewValue != registerForm.passwordConfirm.$viewValue)\\\">\\n<span>The Password and Confirm Password do not match.</span></div></div></md-input-container><div class=\\\"terms\\\" \\nlayout=\\\"row\\\" layout-align=\\\"center center\\\"><md-checkbox name=\\\"terms\\\" ng-model=\\\"data.cb1\\\" aria-label=\\\"I read and accept\\\" \\nrequired></md-checkbox><div layout=\\\"row\\\" layout-sm=\\\"column\\\" layout-align=\\\"start center\\\"><span>I read and accept</span> \\n<a href=\\\"http://www.clique.center/terms\\\" class=\\\"md-accent-color\\\" target=\\\"_blank\\\">Terms and Conditions</a></div></div>\\n<input type=\\\"hidden\\\" name=\\\"refid\\\" ng-model=\\\"vm.form.refid\\\"><md-button type=\\\"submit\\\" \\nclass=\\\"md-raised md-accent submit-button\\\" aria-label=\\\"CREATE MY ACCOUNT\\\" \\nng-disabled=\\\"registerForm.password.$viewValue != \\'\\' && (registerForm.password.$viewValue != registerForm.passwordConfirm.$viewValue) || registerForm.$invalid || registerForm.$pristine\\\">\\nCREATE MY ACCOUNT</md-button></form><div class=\\\"login\\\" layout=\\\"row\\\" layout-sm=\\\"column\\\" layout-align=\\\"center center\\\">\\n<span class=\\\"text\\\">Already have an account?</span> <a class=\\\"link\\\" ui-sref=\\\"app.login\\\">Log in</a></div></div></div>\\n</div><script>\\n//6LfBvAoUAAAAAJDB99ka1g7eZkGMdl1FFKgXFij-   local \\r\\n\\r\\n//6LcAZQcUAAAAAF872SNxfwLrFF_MTnCTCtXeCtLv   live \\r\\nfunction createRecaptcha() {\\r\\n\tgrecaptcha.render(\\\"recaptcha\\\", {sitekey: \\\"6LfBvAoUAAAAAJDB99ka1g7eZkGMdl1FFKgXFij-\\\", theme: \\\"light\\\", \\'expired-callback\\': expCallback});\\r\\n}\\r\\n//createRecaptcha();\\r\\nfunction expCallback()\\r\\n{\\r\\n window.location = \\\"http://apps.clique.center/apps/account/register\\\";\\r\\n}\\n</script>\");\n$templateCache.put(\"app/main/statement/statement.html\",\"<style>\\n@media (min-width: 320px) and (max-width: 480px) {\\r\\n\t.containerHeight{\\r\\n\t\theight:0px !important !important;\\r\\n\t}\\r\\n}\\r\\n@media (min-width: 481px) and (max-width: 767px) {\\r\\n\t.containerHeight{\\r\\n\t\theight:0px !important !important;\\r\\n\t}\\r\\n}\\r\\n.containerHeight{\\r\\n height:595px !important;\\r\\n background-image:url(assets/images/backgrounds/bg-grey.jpg) !important;\\r\\n}\\r\\n.border{\\r\\n\tborder:0px dashed #ff0000 !important;\\r\\n}\\r\\n.md-button.md-fab {margin-left:-10px;margin-top:14px;}\\n</style><md-toolbar id=\\\"toolbar\\\" class=\\\"md-menu-toolbar md-whiteframe-1dp ng-scope _md md-default-theme\\\" \\nui-view=\\\"toolbar\\\" hide show-gt-sm><div layout=\\\"row\\\" layout-align=\\\"end center\\\"><div flex><img \\nsrc=\\\"assets/images/logos/cliqueWithoutCardconnect.png\\\" style=\\\"width:30vh; margin:auto\\\"></div><div flex=\\\"10\\\"><md-button \\nclass=\\\"md-raised md-primary\\\" style=\\\"background:#25d366; text-transform:capitalize\\\" ng-click=\\\"signup();\\\">Sign up Now!\\n</md-button></div></div></md-toolbar><div id=\\\"login-v2\\\" class=\\\"containerHeight\\\" layout=\\\"row\\\" layout-xs=\\\"column\\\" \\nlayout-md=\\\"column\\\" layout-sm=\\\"column\\\" layout-align=\\\"start\\\" ng-init=\\\"step1=\\'cyan\\';step2=\\'grey\\'\\\" ms-scroll><div \\nid=\\\"login-v2-intro\\\" flex=\\\"60\\\" flex-sm=\\\"60\\\" flex-md=\\\"60\\\" flex-xs=\\\"60\\\" class=\\\"flex-scrollable md-white1frame-6dp\\\" \\nstyle=\\\"background-color:#FFFFFF !important\\\" hide show-gt-sm ms-scroll><div ng-if=\\\"amountToPaid == 0\\\" \\nstyle=\\\"position:absolute; top:130px; right:100px;z-index:9999;opacity:0.8\\\" align=\\\"center\\\"><img \\nsrc=\\\"https://apps.clique.center/apps/customerportal/assets/images/backgrounds/paid.png\\\" width=\\\"500\\\"></div><div \\nclass=\\\"card md-whiteframe-7dp scaleable-wrapper2\\\" style=\\\"z-index:1\\\"><div \\nclass=\\\"pdf-container center-container very-specific-design\\\" layout-padding><md-toolbar class=\\\"md-theme-light\\\" \\nmd-colors=\\\"{background: \\'grey-300\\'}\\\"><div layout=\\\"row\\\"><div flex=\\\"80\\\"><h2>Total Amount</h2></div><div flex=\\\"20\\\"><h2 \\nstyle=\\\"float:right\\\"><b>{{amountToPaid | currency}}</b></h2></div></div></md-toolbar><form name=\\\"invoiceform\\\">\\n<md-content><md-list style=\\\"min-height:590px; !important\\\"><md-list-item class=\\\"md-3-line\\\" \\nng-repeat=\\\"item in vm.InvoiceData\\\"><div layout=\\\"row\\\"><div flex=\\\"90\\\"><span style=\\\"font-size:15px !important\\\" \\nclass=\\\"md-fab md-button\\\" md-colors=\\\"::{background: \\'{{item.color}}-300\\',color: \\'grey-A100\\'}\\\">{{$index + 1}}</span>\\n</div><div flex=\\\"10\\\"></div></div><div class=\\\"md-list-item-text\\\"><h3>Invoice #{{item.DocNumber}}</h3><h4>\\nInvoice Date: {{item.TxnDate | date:\\'MM/dd/yyyy\\'}}</h4><p>Balance Due: {{item.Balance | currency}}</p><p><i \\nclass=\\\"fa fa-search\\\" aria-hidden=\\\"true\\\"></i><span style=\\\"cursor:pointer\\\" ng-click=\\\"invoicePreview($event,item.Id);\\\">\\nView Invoice</span></p></div><div style=\\\"float:right; margin-top:10px\\\"><input type=\\\"text\\\" \\nname=\\\"ChargeAmount{{$index}}\\\" id=\\\"transamount{{$index}}\\\" ng-model=\\\"invoice.ChargeAmount[$index]\\\" class=\\\"md-padding\\\" \\nng-keyup=\\\"calculateTotalAmount();\\\" data-ng-pattern=\\\"/^[0-9.,]+$/\\\" step=\\\"0.01\\\" \\nstyle=\\\"width:90px;height:60px; border:1px solid #CCCCCC; padding:4px; font-size:16px\\\" ng-max=\\\"item.Balance\\\" \\nnumber-formatter required><div ng-messages=\\\"true\\\" role=\\\"alert\\\" ng-show=\\\"invoice.ChargeAmount[$index]==null\\\"><div><span \\nstyle=\\\"color:#FF0000\\\">Amount is required</span></div></div><div ng-messages=\\\"true\\\" role=\\\"alert\\\" \\nclass=\\\"custom-validation\\\" ng-show=\\\"invoice.ChargeAmount[$index] > item.Balance\\\"><div><span style=\\\"color:#FF0000\\\">\\nAmount exceeds</span></div></div></div><md-divider md-inset ng-if=\\\"!$last\\\"></md-divider></md-list-item></md-list>\\n</md-content></form></div></div><div style=\\\"margin-top: 200px\\\" ng-show=\\\"vm.showProgress\\\"><center><md-progress-circular \\nclass=\\\"md-accent md-hue-1\\\" md-diameter=\\\"60\\\"></md-progress-circular></center></div></div><div id=\\\"login-v2-intro\\\" \\nflex=\\\"40\\\" flex-md=\\\"40\\\" flex-sm=\\\"100\\\" flex-xs=\\\"100\\\" class=\\\"flex-scrollable md-whiteframe-6dp md-padding border\\\" \\nstyle=\\\"background-color:#FFFFFF !important; margin-top:12px\\\" ms-scroll><md-progress-linear md-mode=\\\"indeterminate\\\" \\nng-show=\\\"showProgress\\\" style=\\\"margin-top:5px\\\"></md-progress-linear><div id=\\\"login-v2-form\\\" style=\\\"z-index:1\\\" \\nclass=\\\"border\\\"><div class=\\\"title\\\" style=\\\"text-align:center\\\" hide-gt-sm><img \\nsrc=\\\"assets/images/logos/cliqueWithoutCardconnect.png\\\" style=\\\"width:30vh\\\"></div><div ng-show=\\\"cardconnectSuccess\\\"><p \\nstyle=\\\"color:#1d6001; font-size:17px;font-weight:bold\\\">{{cardconnectMsg}}</p></div><div ng-show=\\\"cardconnectError\\\"><p \\nstyle=\\\"color:#FF0000; font-size:17px;text-wrap:normal;font-weight:bold\\\">{{cardconnectMsg}}</p></div><br><div \\nlayout=\\\"row\\\" class=\\\"border\\\"><div flex=\\\"30\\\" class=\\\"border\\\"><span class=\\\"total\\\" style=\\\"font-size:25px; font-weight:bold\\\">\\nAmount:</span></div><div flex=\\\"70\\\" class=\\\"border\\\" style=\\\"text-align:right; font-size:18px\\\"><span \\nstyle=\\\"font-size:22px;font-weight:bold;text-align: right\\\">{{amountToPaid | currency}}</span></div></div><div \\nlayout=\\\"column\\\" layout-align=\\\"end end\\\" class=\\\"border\\\" ng-show=\\\"vm.isAchEnable==\\'true\\'\\\"><div flex><md-checkbox \\nng-model=\\\"paymentMethodValue\\\" aria-label=\\\"E-Check\\\" ng-change=\\\"changePaymentMode(paymentMethodValue)\\\"><b>E-Check</b>\\n</md-checkbox></div></div><form name=\\\"checkoutForm\\\" ng-submit=\\\"submit()\\\" novalidate ng-show=\\\"showCCDiv\\\">\\n<md-input-container style=\\\"width:100%\\\"><input type=\\\"text\\\" name=\\\"cardholder\\\" ng-model=\\\"vm.form.cardholder\\\" \\nplaceholder=\\\"Card Holder Name\\\" required><div ng-messages=\\\"checkoutForm.cardholder.$error\\\" role=\\\"alert\\\" \\nmultiple=\\\"multiple\\\"><div ng-message=\\\"required\\\" ng-show=\\\"IsSubmit\\\"><span>Card Holder Name is required</span></div></div>\\n</md-input-container><md-input-container style=\\\"margin-top: -10px;width:100%\\\"><input type=\\\"text\\\" name=\\\"cardnumber\\\" \\nng-model=\\\"vm.form.cardnumber\\\" data-ng-pattern=\\\"/^[0-9]+$/\\\" placeholder=\\\"Credit Card Number\\\" data-ng-minlength=\\\"14\\\" \\nmaxlength=\\\"16\\\" required id=\\\"cardnumber\\\" data-credit-card-type><div ng-messages=\\\"checkoutForm.cardnumber.$error\\\" \\nrole=\\\"alert\\\" multipl><div ng-message=\\\"required\\\" ng-show=\\\"IsSubmit\\\"><span>Credit Card Number is required</span></div>\\n<div ng-message=\\\"minlength\\\"><span>Credit Card Number must be 14-16 digits</span></div><div ng-message=\\\"pattern\\\"><span>\\nCredit Card must consist of only numbers</span></div></div><div layout=\\\"column\\\" layout-align=\\\"start end\\\"><div \\nflex=\\\"100\\\"><img ng-show=\\\"true\\\" ng-repeat=\\\"card in cardlogos\\\" align=\\\"right\\\" ng-src=\\\"assets/images/logos/{{card.src}}\\\" \\nstyle=\\\"opacity:{{ccinfo.type==card.id ? 1 : 0.4}}; margin-right:4px;width:38px; margin-top:4px\\\"></div></div>\\n</md-input-container><div layout=\\\"column\\\" layout-gt-xs=\\\"row\\\" style=\\\"margin-top: -20px\\\"><md-input-container flex=\\\"100\\\" \\nflex-gt-xs=\\\"33\\\"><label>Exp Month</label><md-select ng-model=\\\"vm.form.months\\\" ng-required=\\\"true\\\"><md-option \\nng-repeat=\\\"months in vm.months\\\" value=\\\"{{months}}\\\">{{months}}</md-option></md-select><div \\nng-messages=\\\"checkoutForm.months.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\" ng-show=\\\"IsSubmit\\\"><span>\\nCredit Card exp month is required.</span></div></div></md-input-container><md-input-container flex=\\\"100\\\" \\nflex-gt-xs=\\\"33\\\"><label>Exp Year</label><md-select ng-model=\\\"vm.form.years\\\" ng-required=\\\"true\\\"><md-option \\nng-repeat=\\\"years in vm.years\\\" value=\\\"{{years}}\\\">{{years}}</md-option></md-select><div \\nng-messages=\\\"checkoutForm.years.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\" ng-show=\\\"IsSubmit\\\"><span>\\nCredit Card exp year is required.</span></div></div></md-input-container><md-input-container flex-gt-xs=\\\"33\\\"><input \\ntype=\\\"text\\\" name=\\\"cc2\\\" ng-model=\\\"vm.form.cc2\\\" placeholder=\\\"CVC2/CVV2/CID\\\" md-maxlength=\\\"4\\\" required><div \\nng-messages=\\\"checkoutForm.cc2.$error\\\" role=\\\"alert\\\" multipl><div ng-message=\\\"required\\\" ng-show=\\\"IsSubmit\\\"><span>\\nSecurity code is required.</span></div><div ng-message=\\\"md-maxlength\\\"><span>\\nSecurity code can\\'t be longer than 4 characters.</span></div></div></md-input-container></div><div layout=\\\"column\\\" \\nlayout-gt-xs=\\\"row\\\" style=\\\"margin-top: -30px\\\"><md-input-container flex=\\\"100\\\" flex-gt-xs=\\\"75\\\"><input type=\\\"text\\\" \\nname=\\\"streetaddress\\\" ng-model=\\\"vm.form.streetaddress\\\" class=\\\"md-padding\\\" placeholder=\\\"Street Address\\\">\\n</md-input-container><md-input-container flex=\\\"100\\\" flex-gt-xs=\\\"25\\\"><input type=\\\"text\\\" name=\\\"zipcode\\\" \\nng-model=\\\"vm.form.zipcode\\\" class=\\\"md-padding\\\" placeholder=\\\"ZIP Code\\\"></md-input-container></div><div class=\\\"terms\\\" \\nlayout=\\\"row\\\" layout-align=\\\"center center\\\" style=\\\"margin-top: -30px\\\"><md-checkbox name=\\\"terms\\\" ng-model=\\\"vm.form.terms\\\" \\naria-label=\\\"I read and accept\\\" required></md-checkbox><div layout=\\\"row\\\" layout-sm=\\\"column\\\" layout-align=\\\"start center\\\">\\n<span style=\\\"font-size:14px\\\">&nbsp;I agree to pay above total amount according to the card issuer agreement</span>\\n</div></div><hr ng-if=\\\"vm.invoice.TxnTaxDetail != null\\\" style=\\\"display:none\\\"><div layout=\\\"row\\\" \\nng-if=\\\"vm.invoice.TxnTaxDetail != null\\\" style=\\\"display:none\\\"><div flex=\\\"5\\\">&nbsp;</div><div flex=\\\"25\\\">Tax</div><div \\nflex=\\\"50\\\">&nbsp;</div><div flex=\\\"10\\\" hide-sm hide-xs><span style=\\\"font-size:20px; font-weight:bold\\\">$10.00</span></div>\\n<div flex=\\\"10\\\">&nbsp;</div></div><input type=\\\"hidden\\\" name=\\\"amount\\\" ng-model=\\\"amountToPaid\\\"> <input type=\\\"hidden\\\" \\nname=\\\"cardtype\\\" id=\\\"cardtype\\\"><md-button type=\\\"submit\\\" ng-if=\\\"amountToPaid != 0\\\" \\nstyle=\\\"background:#7acb57; margin-left:0px;width:100%\\\" class=\\\"md-raised md-accent submit-button\\\" \\naria-label=\\\"Check Out\\\" ng-disabled=\\\"checkoutForm.$invalid || checkoutForm.$pristine || ButtonDisable || isValidate\\\" \\nng-click=\\\"msWizard.resetForm();\\\"><p style=\\\"font-weight:bold; font-size:18px; vertical-align:middle\\\">Process</p>\\n</md-button></form><form name=\\\"ACHForm\\\" ng-submit=\\\"submitACH()\\\" novalidate ng-show=\\\"showACHDiv\\\"><md-input-container \\nstyle=\\\"width:100%\\\"><input type=\\\"text\\\" name=\\\"bankaba\\\" ng-model=\\\"vm.form.bankaba\\\" data-ng-pattern=\\\"/^[0-9]+$/\\\" \\nplaceholder=\\\"Rounting Number\\\" required><div ng-messages=\\\"ACHForm.bankaba.$error\\\" role=\\\"alert\\\" multiple=\\\"multiple\\\"><div \\nng-message=\\\"required\\\" ng-show=\\\"IsSubmit\\\"><span>Rounting Number is required</span></div></div></md-input-container>\\n<md-input-container style=\\\"margin-top: -10px;width:100%\\\"><input type=\\\"text\\\" name=\\\"account\\\" ng-model=\\\"vm.form.account\\\" \\ndata-ng-pattern=\\\"/^[0-9]+$/\\\" placeholder=\\\"Account Number\\\" required><div ng-messages=\\\"ACHForm.account.$error\\\" \\nrole=\\\"alert\\\" multipl><div ng-message=\\\"required\\\" ng-show=\\\"IsSubmit\\\"><span>Account Number is required</span></div></div>\\n</md-input-container><md-input-container style=\\\"margin-top: -10px;width:100%\\\"><input type=\\\"text\\\" name=\\\"name\\\" \\nng-model=\\\"vm.form.name\\\" placeholder=\\\"Name on Account\\\" required><div ng-messages=\\\"ACHForm.name.$error\\\" role=\\\"alert\\\" \\nmultipl><div ng-message=\\\"required\\\" ng-show=\\\"IsSubmit\\\"><span>Name on Account is required</span></div></div>\\n</md-input-container><div class=\\\"terms\\\" layout=\\\"row\\\" layout-align=\\\"center center\\\" style=\\\"margin-top: -20px\\\">\\n<md-checkbox name=\\\"terms\\\" ng-model=\\\"vm.form.terms\\\" aria-label=\\\"I read and accept\\\" required></md-checkbox><div \\nlayout=\\\"row\\\" layout-sm=\\\"column\\\" layout-align=\\\"start center\\\"><span style=\\\"font-size:14px\\\">\\nI agree to pay above total amount according to the card issuer agreement</span></div></div><md-button type=\\\"submit\\\" \\nng-if=\\\"vm.invoice.Balance != 0\\\" style=\\\"background:#7acb57; margin-left:0px; width:100%\\\" \\nclass=\\\"md-raised md-accent submit-button\\\" aria-label=\\\"Check Out\\\" \\nng-disabled=\\\"ACHForm.$invalid || ACHForm.$pristine || ButtonDisable || isValidate\\\" ng-click=\\\"msWizard.resetForm();\\\"><p \\nstyle=\\\"font-weight:bold; font-size:18px; vertical-align:middle\\\">Process</p></md-button></form></div></div></div><div \\nstyle=\\\"visibility: hidden\\\"><div class=\\\"md-dialog-container\\\" id=\\\"myDialog\\\"><md-dialog aria-label=\\\"FeedBack\\\"><div \\nng-show=\\\"showstep1\\\" layout-padding><div><div layout=\\\"row\\\" layout-align=\\\"center center\\\" ng-show=\\\"cardconnectSuccess\\\">\\n<img class=\\\"emoticon\\\" src=\\\"assets/images/backgrounds/approved.jpg\\\" width=\\\"100px\\\"></div><center><span \\nng-show=\\\"cardconnectSuccess\\\"><p style=\\\"color:#1d6001; font-weight:bold;font-size:17px;text-wrap:normal;width:500px\\\">\\n{{cardconnectMsg}}</p></span><span ng-show=\\\"cardconnectError\\\"><p \\nstyle=\\\"color:#FF0000; font-size:12px;text-wrap:normal;border-style: dotted;width:350px\\\">{{cardconnectMsg}}</p></span>\\n<h3 style=\\\"font-weight:bold; font-size:16px\\\">Please give your valuable feedback for {{vm.company.name}}.</h3></center>\\n</div><form name=\\\"feedbackform\\\" ng-submit=\\\"submitfeedback()\\\" novalidate><div layout=\\\"row\\\" layout-align=\\\"center center\\\">\\n<img class=\\\"emoticon\\\" src=\\\"assets/images/backgrounds/smile/{{feedback}}.png\\\" width=\\\"100px\\\"></div><br><div layout=\\\"row\\\" \\nlayout-align=\\\"center center\\\"><div><md-radio-group ng-model=\\\"feedback\\\" layout=\\\"row\\\" layout-align=\\\"space-around center\\\">\\n<md-radio-button ng-repeat=\\\"rate in rating\\\" value=\\\"{{rate}}\\\" class=\\\"md-primary\\\" ng-click=\\\"showcommentbox(rate)\\\">\\n{{rate}}</md-radio-button></md-radio-group></div></div><br><md-input-container class=\\\"md-block\\\" ng-show=\\\"showbox\\\" \\nstyle=\\\"padding:0px !important;margin-top:0px !important\\\"><label>Comments</label><textarea ng-model=\\\"feedbackcomment\\\" \\nplaceholder=\\\"Write your comments here\\\"></textarea></md-input-container><div layout=\\\"row\\\" layout-align=\\\"center center\\\">\\n<md-button class=\\\"md-primary md-hue-1\\\" style=\\\"color:#003399\\\" ng-click=\\\"cancel()\\\">No Thanks!</md-button><md-button \\ntype=\\\"submit\\\" class=\\\"md-raised feedbacksubmit\\\">Submit</md-button></div></form></div><div ng-show=\\\"showstep2\\\" \\nlayout-padding><div layout=\\\"row\\\" layout-align=\\\"center center\\\" ng-show=\\\"cardconnectSuccess\\\"><img class=\\\"emoticon\\\" \\nsrc=\\\"assets/images/backgrounds/approved.jpg\\\" width=\\\"100px\\\"></div><center><h2>\\nGreat to hear! Please, leave us a review on the site below</h2><h3 style=\\\"font-weight:bold; font-size:16px\\\">\\nYou can copy your feedback and paste it when leaving a review</h3><div id=\\\"toshare\\\" \\nclass=\\\"testimonial-txt review-each\\\"><p>{{feedbackcomment}}</p><input type=\\\"hidden\\\" id=\\\"copyTarget\\\" \\nvalue=\\\"{{feedbackcomment}}\\\"> <a href=\\\"#\\\" id=\\\"copy\\\" class=\\\"md-raised md-primary\\\" aria-label=\\\"Copy\\\" \\nng-click=\\\"copyToClipboard(\\'#toshare p\\')\\\"><i class=\\\"fa fa-copy\\\"></i> Copy</a></div><a href=\\\"{{feedbackURL}}\\\" \\ntarget=\\\"_blank\\\" class=\\\"review-site row\\\" data-id=\\\"256\\\" data-id_contact_feedback=\\\"25022\\\"><div flex=\\\"40\\\" \\nclass=\\\"site-logo v-align\\\"><img src=\\\"assets/images/feedback_logos/{{feedbackType}}.png\\\"></div><div \\nclass=\\\"site-description v-align\\\">Submit your review on {{feedbackType}}</div></a></center></div></md-dialog></div>\\n</div><div style=\\\"visibility: hidden\\\"><div class=\\\"md-dialog-container\\\" id=\\\"invoicePreview\\\" ms-scroll><md-dialog \\naria-label=\\\"FeedBack\\\" style=\\\"min-width:350px !important; min-height:350px\\\" ms-scroll><div layout-padding><div \\nclass=\\\"pdf-container center-container very-specific-design\\\" id=\\\"invoice_detail\\\" ng-show=\\\"showPreview\\\" layout-padding>\\n</div><div ng-show=\\\"showPreviewProgress\\\" style=\\\"margin-top: 100px;margin-right: 50px\\\"><center><md-progress-circular \\nclass=\\\"md-accent md-hue-1\\\" md-diameter=\\\"60\\\"></md-progress-circular></center></div></div></md-dialog></div></div>\");\n$templateCache.put(\"app/main/cardconnect/checkout - Copy.html\",\"<style>\\n@font-face {  \\r\\n    src: url(kalinga.ttf) format(\\\"truetype\\\");\\r\\n}\\r\\nbody {\\r\\n  font-family: \\'kalinga\\', Regular;\\r\\n}\\r\\n.disableCardImage {\\r\\n    opacity: 0.4;\\r\\n    filter: alpha(opacity=40); /* msie */\\r\\n}\\r\\nhr {\\r\\n    display: block;\\r\\n    margin-top: 0.5em;\\r\\n    margin-bottom: 0.5em;\\r\\n    margin-left: auto;\\r\\n    margin-right: -25px;\\r\\n    border-style: inset;\\r\\n    /*border-width: 1px;*/\\r\\n\theight: 1px;\\r\\n\tcolor: #CCCCCC;\\r\\n\tbackground-color: #CCCCCC;\\r\\n\tborder: none;\\r\\n\t\\r\\n} \\r\\n\\r\\n.seller {\\r\\n                            margin-bottom: 80px;\\r\\n\\r\\n\t.logo {\\r\\n                                width: 156px;\\r\\n                                height: 156px;\\r\\n                                font-size: 115px;\\r\\n             }\\r\\n}\\r\\n\\r\\n                        .client {\\r\\n\\r\\n                            .label {\\r\\n                                width: 156px;\\r\\n                                font-size: 24px;\\r\\n                                font-weight: 300;\\r\\n                            }\\r\\n                        }\\r\\n\\r\\n                        .divider {\\r\\n                            width: 1px;\\r\\n                            margin: 0 48px;\\r\\n                            background-color: rgba(0, 0, 0, 0.12);\\r\\n                            height: 144px;\\r\\n                        }\\r\\n#login-v2 #login-v2-intro {\\r\\n    padding: 13px !important;\\r\\n}\\n</style><div layout=\\\"row\\\" layout-xs=\\\"column\\\"><div flex>I\\'m above on mobile, and to the left on larger devices.</div>\\n<div flex>I\\'m below on mobile, and to the right on larger devices.</div></div><div id=\\\"login-v2\\\" layout=\\\"row\\\" \\nlayout-xs=\\\"column\\\" layout-align=\\\"start\\\" \\nstyle=\\\"background-image:url(../../../assets/images/backgrounds/bg-grey.jpg) !important\\\"><div id=\\\"login-v2-intro2\\\" flex \\nclass=\\\"flex-scrollable md-whiteframe-6dp\\\" style=\\\"background-color:#FFFFFF !important\\\" ms-scroll><div id=\\\"background\\\" \\nng-show=\\\"IsPaidInvoice\\\" style=\\\"margin-top: 175px\\\"><p id=\\\"bg-text\\\"><img \\nsrc=\\\"https://apps.clique.center/apps/customerportal/assets/images/backgrounds/images.png\\\"></p></div><div \\nclass=\\\"card md-whiteframe-7dp\\\" style=\\\"z-index:1\\\" ng-show=\\\"vm.showContent\\\"><div class=\\\"pdf-container center-container\\\" \\nid=\\\"invoice_detail\\\" style=\\\"width:99% !important\\\"></div></div><div style=\\\"margin-top: 200px\\\" ng-show=\\\"vm.showProgress\\\">\\n<center><md-progress-circular class=\\\"md-accent md-hue-1\\\" md-diameter=\\\"60\\\"></md-progress-circular></center></div></div>\\n<div id=\\\"login-v2-form-wrapper2\\\" class=\\\"flex-scrollable md-whiteframe-6dp\\\" ms-scroll><div id=\\\"login-v2-form\\\" \\nstyle=\\\"padding-top:40px !important\\\"><div class=\\\"title\\\" style=\\\"text-align:center\\\"><img \\nsrc=\\\"assets/images/logos/cliqueWithoutCardconnect.png\\\" width=\\\"200px\\\"></div><br><div class=\\\"remember-forgot-password\\\" \\nlayout=\\\"row\\\" layout-sm=\\\"column\\\" layout-align=\\\"space-between center\\\"><span class=\\\"total\\\" \\nstyle=\\\"margin-top:-10px; font-size:34px; font-weight:bold\\\">Total</span> <span style=\\\"font-size:34px; font-weight:bold\\\">\\n{{vm.invoice.Balance | currency}}</span></div><div ng-show=\\\"authResponse\\\"><div layout=\\\"row\\\"><div flex=\\\"50\\\">\\nTransaction Status:</div><div flex=\\\"10\\\">&nbsp;</div><div flex=\\\"40\\\"><b>{{trnStatus}}</b></div><div flex=\\\"10\\\">&nbsp;\\n</div></div><hr><div layout=\\\"row\\\"><div flex=\\\"50\\\">Transaction ID:</div><div flex=\\\"10\\\">&nbsp;</div><div flex=\\\"40\\\"><b>\\n{{TransactionID}}</b></div><div flex=\\\"10\\\">&nbsp;</div></div><hr><div layout=\\\"row\\\"><div flex=\\\"50\\\">Approval Number:</div>\\n<div flex=\\\"10\\\">&nbsp;</div><div flex=\\\"40\\\"><b>{{ApprovalNumber}}</b></div><div flex=\\\"10\\\">&nbsp;</div></div><hr><div \\nlayout=\\\"row\\\"><div flex=\\\"50\\\">Acquirer Data:</div><div flex=\\\"10\\\">&nbsp;</div><div flex=\\\"40\\\"><b>{{AcquirerData}}</b></div>\\n<div flex=\\\"10\\\">&nbsp;</div></div></div><form name=\\\"checkoutForm\\\" ng-submit=\\\"submit()\\\" novalidate><md-progress-linear \\nmd-mode=\\\"indeterminate\\\" ng-show=\\\"showProgress\\\"></md-progress-linear><md-input-container class=\\\"md-block\\\" md-no-float>\\n<input type=\\\"text\\\" name=\\\"cardholder\\\" ng-model=\\\"vm.form.cardholder\\\" class=\\\"md-padding\\\" placeholder=\\\"CardHolder Name\\\" \\nrequired><div ng-messages=\\\"checkoutForm.cardholder.$error\\\" role=\\\"alert\\\" multiple=\\\"multiple\\\"><div ng-message=\\\"required\\\" \\nng-show=\\\"IsSubmit\\\"><span>CardHolder Name is required</span></div></div></md-input-container><md-input-container \\nclass=\\\"md-block\\\" md-no-float><input type=\\\"text\\\" name=\\\"cardnumber\\\" ng-model=\\\"vm.form.cardnumber\\\" \\ndata-ng-pattern=\\\"/^[0-9]+$/\\\" placeholder=\\\"CreditCard Number\\\" data-ng-minlength=\\\"15\\\" maxlength=\\\"19\\\" required \\nid=\\\"cardnumber\\\" onkeyup=\\\"test(this.value)\\\"><div ng-messages=\\\"checkoutForm.cardnumber.$error\\\" role=\\\"alert\\\" multipl><div \\nng-message=\\\"required\\\" ng-show=\\\"IsSubmit\\\"><span>CreditCard Number is required</span></div><div ng-message=\\\"minlength\\\">\\n<span>Credit card must be 15-19 digits</span></div><div ng-message=\\\"pattern\\\"><span>\\nCredit card must consist of only numbers</span></div></div><div style=\\\"float: right; width: 50%\\\"><img \\nsrc=\\\"assets/images/logos/amex.png\\\" id=\\\"amex\\\" class=\\\"disableCardImage\\\" style=\\\"margin: 30px 0px 0px 0px; height: 22px\\\"> \\n<img src=\\\"assets/images/logos/discover.png\\\" id=\\\"discover\\\" class=\\\"disableCardImage\\\" \\nstyle=\\\"margin: 23px 0px 0px 0px; height: 35px\\\"> <img src=\\\"assets/images/logos/mastercard.png\\\" id=\\\"mastercard\\\" \\nclass=\\\"disableCardImage\\\" style=\\\"margin: 30px 0px 0px 0px; height: 22px\\\"> <img src=\\\"assets/images/logos/visa.png\\\" \\nid=\\\"visa\\\" class=\\\"disableCardImage\\\" style=\\\"margin: 30px 0px 0px 0px; height: 22px\\\"></div></md-input-container><div \\nlayout=\\\"column\\\" layout-gt-xs=\\\"row\\\"><md-input-container flex=\\\"100\\\" flex-gt-xs=\\\"33\\\"><label>Exp Month</label><md-select \\nng-model=\\\"vm.form.months\\\" ng-required=\\\"true\\\"><md-option ng-repeat=\\\"months in vm.months\\\" value=\\\"{{months}}\\\">{{months}}\\n</md-option></md-select><div ng-messages=\\\"checkoutForm.months.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\" \\nng-show=\\\"IsSubmit\\\"><span>CreditCard exp month is required.</span></div></div></md-input-container><md-input-container \\nflex=\\\"100\\\" flex-gt-xs=\\\"33\\\"><label>Exp Year</label><md-select ng-model=\\\"vm.form.years\\\" ng-required=\\\"true\\\"><md-option \\nng-repeat=\\\"years in vm.years\\\" value=\\\"{{years}}\\\">{{years}}</md-option></md-select><div \\nng-messages=\\\"checkoutForm.years.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\" ng-show=\\\"IsSubmit\\\"><span>\\nCreditCard exp year is required.</span></div></div></md-input-container><md-input-container class=\\\"md-block\\\" \\nmd-no-float flex-gt-xs=\\\"33\\\"><input type=\\\"text\\\" name=\\\"cc2\\\" ng-model=\\\"vm.form.cc2\\\" placeholder=\\\"CCV2\\\" md-maxlength=\\\"3\\\" \\nrequired><div ng-messages=\\\"checkoutForm.cc2.$error\\\" role=\\\"alert\\\" multipl><div ng-message=\\\"required\\\" ng-show=\\\"IsSubmit\\\">\\n<span>CCV2 field is required.</span></div><div ng-message=\\\"md-maxlength\\\"><span>CCV2 can\\'t be longer than 3 characters.\\n</span></div></div></md-input-container></div><hr ng-if=\\\"vm.invoice.TxnTaxDetail != null\\\"><div layout=\\\"row\\\" \\nng-if=\\\"vm.invoice.TxnTaxDetail != null\\\"><div flex=\\\"5\\\">&nbsp;</div><div flex=\\\"25\\\">Tax</div><div flex=\\\"50\\\">&nbsp;</div>\\n<div flex=\\\"10\\\" hide-sm hide-xs><span style=\\\"font-size:20px; font-weight:bold\\\">$10.00</span></div><div flex=\\\"10\\\">&nbsp;\\n</div></div><input type=\\\"hidden\\\" name=\\\"amount\\\" ng-model=\\\"vm.invoice.Balance\\\"> <input type=\\\"hidden\\\" name=\\\"cardtype\\\" \\nid=\\\"cardtype\\\"><md-button type=\\\"submit\\\" ng-if=\\\"vm.invoice.Balance != 0\\\" style=\\\"background:#7acb57; margin-left:16px\\\" \\nclass=\\\"md-raised md-accent submit-button\\\" aria-label=\\\"Check Out\\\" \\nng-disabled=\\\"checkoutForm.$invalid || checkoutForm.$pristine\\\" ng-click=\\\"msWizard.resetForm();\\\">Pay</md-button></form>\\n</div></div></div><script src=\\\"app/main/cardconnect/jquery.creditCardValidator.js\\\"></script><script>\\nfunction test(value)\\r\\n{\\r\\n   $(\\\"#cardnumber\\\").validateCreditCard(function(result) {\\r\\n   \\r\\n            //id=\\\"mastercard\\\" class=\\\"disableCardImage\\\"\\r\\n\t\t\t$(\\\"#mastercard\\\").addClass(\\\"disableCardImage\\\");\\r\\n\t\t\t$(\\\"#amex\\\").addClass(\\\"disableCardImage\\\");\\r\\n\t\t\t$(\\\"#discover\\\").addClass(\\\"disableCardImage\\\");\\r\\n\t\t\t$(\\\"#visa\\\").addClass(\\\"disableCardImage\\\");\\r\\n\t\t\t\\r\\n\t\t\tif(result.card_type.name!=null)\\r\\n\t\t\t{\\r\\n\t\t\t\tif(result.card_type.name==\\\"mastercard\\\")\\r\\n\t\t\t\t{\\r\\n\t\t\t\t   $(\\\"#cardtype\\\").val(result.card_type.name);\\r\\n\t\t\t\t   $(\\\"#mastercard\\\").removeClass(\\\"disableCardImage\\\");\\r\\n\t\t\t\t}\\r\\n\t\t\t\tif(result.card_type.name==\\\"visa\\\")\\r\\n\t\t\t\t{\\r\\n\t\t\t\t   $(\\\"#cardtype\\\").val(result.card_type.name);\\r\\n\t\t\t\t   $(\\\"#visa\\\").removeClass(\\\"disableCardImage\\\");\\r\\n\t\t\t\t}\\r\\n\t\t\t\tif(result.card_type.name==\\\"amex\\\")\\r\\n\t\t\t\t{\\r\\n\t\t\t\t   $(\\\"#cardtype\\\").val(result.card_type.name);\\r\\n\t\t\t\t   $(\\\"#amex\\\").removeClass(\\\"disableCardImage\\\");\\r\\n\t\t\t\t}\\r\\n\t\t\t\tif(result.card_type.name==\\\"discover\\\")\\r\\n\t\t\t\t{\\r\\n\t\t\t\t   $(\\\"#cardtype\\\").val(result.card_type.name);\\r\\n\t\t\t\t   $(\\\"#discover\\\").removeClass(\\\"disableCardImage\\\");\\r\\n\t\t\t\t}\\r\\n\t\t\t}\\r\\n             //alert(result.card_type.name);\\r\\n            /*$(\\'.log\\').html(\\'Card type: \\' + (result.card_type == null ? \\'-\\' : result.card_type.name)\\r\\n                     + \\'<br>Valid: \\' + result.valid\\r\\n                     + \\'<br>Length valid: \\' + result.length_valid\\r\\n                     + \\'<br>Luhn valid: \\' + result.luhn_valid);*/\\r\\n        });\\r\\n}\\r\\n/*var image = new Array ();\\r\\nimage[0] = \\\"../assets/images/backgrounds/bg1.jpg\\\";\\r\\nimage[1] = \\\"../assets/images/backgrounds/bg2.jpg\\\";\\r\\nimage[2] = \\\"../assets/images/backgrounds/bg3.png\\\";\\r\\nvar size = image.length\\r\\nvar x = Math.floor(size*Math.random())\\r\\n\\r\\n$(\\'#login-v2\\').css(\\'background-image\\', \\'url(\\\"\\'+image[x]+\\'\\\")\\');*/\\r\\nfunction myFunction()\\r\\n{\\r\\n  window.open (\\'D:/Cliqueapps/checkout/dialog_contect.html\\', \\'newwindow\\', config=\\'height=100,width=400, toolbar=no, menubar=no, scrollbars=no, resizable=no,location=no, directories=no, status=no\\');\\r\\n  //var frame = document.getElementById(\\\"target\\\");\\r\\n  //frame.parentNode.removeChild(frame);\\r\\n  //alert(\\'Ifram Close\\');\\r\\n}\\r\\n/*function test()\\r\\n{\\r\\n  alert(\\\"hi\\\");\\r\\n}*/\\n</script>\");\n$templateCache.put(\"app/main/cardconnect/checkout.html\",\"<style>\\n@media (min-width: 320px) and (max-width: 480px) {\\r\\n    .containerHeight {\\r\\n      height: 0px !important !important;\\r\\n    }\\r\\n  }\\r\\n\\r\\n  @media (min-width: 481px) and (max-width: 767px) {\\r\\n    .containerHeight {\\r\\n      height: 0px !important !important;\\r\\n    }\\r\\n  }\\r\\n\\r\\n  .containerHeight {\\r\\n    /* height:595px !important; */\\r\\n    background-image: url(assets/images/backgrounds/bg-grey.jpg) !important;\\r\\n  }\\r\\n\\r\\n  .border {\\r\\n    border: 0px dashed #ff0000 !important;\\r\\n  }\\r\\n\\r\\n  .hide {\\r\\n    display: block !important !important;\\r\\n  }\\r\\n\\r\\n\\r\\n  div#toolbarContainer {\\r\\n    display: none !important;\\r\\n  }\\r\\n\\r\\n  .parent-wapper {\\r\\n    /* margin-top: 5px;\\r\\n        margin-left: 20px;\\r\\n        margin-right: 10px; */\\r\\n    /* margin-bottom: 18px; */\\r\\n    width: 100%;\\r\\n    height: 70%;\\r\\n    /* box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24); */\\r\\n    /* transition: all 0.3s cubic-bezier(.25, .8, .25, 1); */\\r\\n  }\\r\\n\\r\\n  div#errorWrapper {\\r\\n    display: none !important;\\r\\n  }\\r\\n\\r\\n  #viewerContainer {\\r\\n    overflow: inherit !important;\\r\\n  }\\r\\n\\r\\n  .pdfjs .pdfViewer .page {\\r\\n    width: 97%;\\r\\n    border: none !important;\\r\\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\\r\\n  }\\r\\n\\r\\n  .pdfjs .textLayer {\\r\\n    margin-bottom: 50px;\\r\\n    /* position:inherit !important ; */\\r\\n    /* top: -200px !important; */\\r\\n    /* bottom: 54px !important; */\\r\\n  }\\r\\n\\r\\n  .pdfjs #mainContainer {\\r\\n    top: -31px;\\r\\n  }\\r\\n\\r\\n  .pdf-container {\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n\\r\\n  }\\n</style><md-toolbar id=\\\"toolbar\\\" class=\\\"md-menu-toolbar md-whiteframe-1dp ng-scope _md md-default-theme\\\" \\nui-view=\\\"toolbar\\\" hide show-gt-sm><div layout=\\\"row\\\" layout-sm=\\\"column\\\" layout-xs=\\\"column\\\" layout-align=\\\"end center\\\">\\n<div flex flex-xs flex-sm><img src=\\\"{{CPappLogo}}\\\" style=\\\"width:30vh\\\"></div><div ng-show=\\\"!checkForBase64\\\" flex=\\\"10\\\" \\nflex-xs=\\\"10\\\" flex-sm=\\\"10\\\" style=\\\"margin:auto\\\"><md-button class=\\\"md-raised md-primary\\\" \\nstyle=\\\"background:#08C65B; text-transform:capitalize;margin-top: -20px\\\" ng-click=\\\"signup();\\\">Sign up Now!</md-button>\\n</div></div></md-toolbar><div id=\\\"login-v2\\\" class=\\\"containerHeight\\\" layout=\\\"row\\\" layout-xs=\\\"column\\\" layout-md=\\\"row\\\" \\nlayout-sm=\\\"row\\\" layout-align=\\\"start\\\" ng-init=\\\"step1=\\'cyan\\';step2=\\'grey\\'\\\" ms-scroll><div id=\\\"login-v2-intro\\\" flex=\\\"70\\\" \\nflex-sm=\\\"70\\\" flex-md=\\\"70\\\" flex-xs=\\\"70\\\" class=\\\"flex-scrollable md-white1frame-6dp\\\" \\nstyle=\\\"background-color:#FFFFFF !important\\\" hide show-gt-sm ms-scroll><div \\nng-if=\\\"vm.invoice.Balance == 0.00 && vm.showContent && !IsDefaultTemplate\\\" \\nstyle=\\\"position:absolute; top:130px; right:100px;z-index:9999;opacity:0.8\\\" align=\\\"center\\\"><img \\nsrc=\\\"https://apps.clique.center/apps/customerportal/assets/images/backgrounds/paid.png\\\" width=\\\"500\\\"></div><div \\nng-show=\\\"!IsDefaultTemplate && !vm.showProgress\\\" class=\\\"card md-whiteframe-7dp scaleable-wrapper2\\\" style=\\\"z-index:1\\\" \\nng-show=\\\"vm.showContent\\\"><div class=\\\"pdf-container center-container very-specific-design\\\" id=\\\"invoice_detail\\\" \\nlayout-padding></div></div><div style=\\\"margin-top:25%\\\" ng-show=\\\"vm.showProgress\\\"><md-progress-linear class=\\\"md-hue-2\\\" \\nmd-mode=\\\"indeterminate\\\"></md-progress-linear></div><div ng-show=\\\"IsDefaultTemplate\\\" class=\\\"parent-wapper\\\"><pdfjs-viewer\\n data=\\\"src\\\"></pdfjs-viewer></div></div><div id=\\\"login-v2-intro\\\" flex=\\\"30\\\" flex-md=\\\"30\\\" flex-sm=\\\"100\\\" flex-xs=\\\"100\\\" \\nclass=\\\"flex-scrollable md-whiteframe-6dp md-padding border\\\" \\nstyle=\\\"background-color:#FFFFFF !important; margin-top:12px\\\" ms-scroll><md-progress-linear md-mode=\\\"indeterminate\\\" \\nng-show=\\\"showProgress\\\" style=\\\"vertical-align: middle\\\"></md-progress-linear><div id=\\\"login-v2-form\\\" style=\\\"z-index:1\\\" \\nclass=\\\"border\\\"><div class=\\\"title\\\" style=\\\"text-align:center\\\" hide-gt-sm><img \\nsrc=\\\"assets/images/logos/cliqueWithoutCardconnect.png\\\" style=\\\"width:30vh\\\"></div><div class=\\\"title\\\" \\nstyle=\\\"text-align:center\\\" hide-gt-sm><md-button hide-gt-sm class=\\\"md-raised md-primary\\\" \\nstyle=\\\"text-align:center;background:#08C65B; text-transform:capitalize\\\" ng-click=\\\"signup();\\\">Sign up Now!</md-button>\\n</div><div ng-show=\\\"cardconnectSuccess\\\"><p style=\\\"color:#1d6001; font-size:17px;font-weight:bold\\\">{{cardconnectMsg}}\\n</p></div><div ng-show=\\\"cardconnectError\\\"><p style=\\\"color:#FF0000; font-size:17px;text-wrap:normal;font-weight:bold\\\">\\n{{cardconnectMsg}}</p></div><br><div layout=\\\"row\\\" class=\\\"border\\\"><div flex=\\\"30\\\" class=\\\"border\\\"><span class=\\\"total\\\" \\nstyle=\\\"font-size:25px; font-weight:bold\\\">Amount:</span></div><div flex=\\\"70\\\" class=\\\"border\\\"><md-input-container \\nng-if=\\\"conEnabled == true\\\" class=\\\"md-block\\\" md-no-float style=\\\"width:100%; margin:0px !important\\\"><input type=\\\"text\\\" \\nname=\\\"transamount\\\" id=\\\"transamount\\\" style=\\\"font-size:25px;font-weight:bold;text-align: right\\\" \\nng-model=\\\"vm.transamount\\\" class=\\\"md-padding\\\" placeholder=\\\"Transaction Amount\\\" \\nng-pattern=\\\"/^(?=.)[$]?([1-9][0-9]{0,2}(,[0-9]{3})*|[0-9]+)?([.][0-9]{1,2})?$/\\\" step=\\\"0.01\\\" amount=\\\"vm.transamount\\\" \\ndisabled=\\\"disabled\\\" format=\\\"currency\\\" ng-disabled=\\\"conEnabled == true\\\" required><div \\nng-messages=\\\"checkoutForm.transamount.$error\\\" role=\\\"alert\\\" multiple=\\\"multiple\\\"><div ng-message=\\\"required\\\" \\nng-show=\\\"IsSubmit\\\"><span>Transaction Amount is required</span></div><div ng-message=\\\"pattern\\\"><span>Invalid Amount\\n</span></div><div ng-show=\\\"IsGreater\\\"><span style=\\\"font-size: 12px\\\">{{vm.amounterror}}</span></div></div>\\n</md-input-container><md-input-container ng-if=\\\"conEnabled == false\\\" class=\\\"md-block\\\" md-no-float \\nstyle=\\\"width:100%; margin:0px !important\\\"><input type=\\\"text\\\" name=\\\"transamount\\\" id=\\\"transamount\\\" \\nstyle=\\\"font-size:25px;font-weight:bold;text-align: right\\\" ng-model=\\\"vm.transamount\\\" class=\\\"md-padding\\\" \\nplaceholder=\\\"Transaction Amount\\\" ng-pattern=\\\"/^[0-9]+(\\\\.[0-9]{1,2})?$/\\\" step=\\\"0.01\\\" required format=\\\"currency\\\" \\nng-keyup=\\\"keyPressed($event,vm.transamount)\\\" number-formatter><div ng-messages=\\\"checkoutForm.transamount.$error\\\" \\nrole=\\\"alert\\\" multipl><div ng-message=\\\"required\\\" ng-show=\\\"IsSubmit\\\"><span>Transaction Amount is required</span></div>\\n<div ng-message=\\\"pattern\\\"><span>Invalid Amount</span></div><div ng-show=\\\"IsGreater\\\"><span style=\\\"font-size: 12px\\\">\\n{{vm.amounterror}}</span></div></div></md-input-container></div></div><div flex=\\\"100\\\" class=\\\"border\\\" \\nng-hide=\\\"showCCDiv == false\\\" style=\\\"padding-bottom:10px\\\"><span class=\\\"total\\\" ng-hide=\\\"conEnabled != true \\\" \\nstyle=\\\"font-size:18px\\\">Convenience Fee:<span style=\\\"float:right\\\">{{convenience_fee}}{{convenience_feetype}}</span>\\n</span></div><div layout=\\\"column\\\" layout-align=\\\"end end\\\" class=\\\"border\\\" ng-show=\\\"vm.isAchEnable\\\"><div flex><md-checkbox\\n ng-hide=\\\"vm.invoice.Balance == 0 || vm.isAch\\\" ng-model=\\\"paymentMethodValue\\\" aria-label=\\\"E-Check\\\" \\nng-change=\\\"changePaymentMode(paymentMethodValue)\\\"><b>E-Check</b></md-checkbox></div></div><form name=\\\"checkoutForm\\\" \\nng-submit=\\\"submit()\\\" novalidate ng-show=\\\"showCCDiv\\\"><md-input-container style=\\\"width:100%\\\"><input type=\\\"text\\\" \\nname=\\\"cardholder\\\" ng-model=\\\"vm.form.cardholder\\\" placeholder=\\\"Card Holder Name\\\" required><div \\nng-messages=\\\"checkoutForm.cardholder.$error\\\" role=\\\"alert\\\" multiple=\\\"multiple\\\"><div ng-message=\\\"required\\\" \\nng-show=\\\"IsSubmit\\\"><span>Card Holder Name is required</span></div></div></md-input-container><md-input-container \\nstyle=\\\"margin-top: -10px;width:100%\\\"><input type=\\\"text\\\" name=\\\"cardnumber\\\" ng-model=\\\"vm.form.cardnumber\\\" \\ndata-ng-pattern=\\\"/^[0-9]+$/\\\" placeholder=\\\"Credit Card Number\\\" data-ng-minlength=\\\"14\\\" maxlength=\\\"16\\\" required \\nid=\\\"cardnumber\\\" data-credit-card-type><div ng-messages=\\\"checkoutForm.cardnumber.$error\\\" role=\\\"alert\\\" multipl><div \\nng-message=\\\"required\\\" ng-show=\\\"IsSubmit\\\"><span>Credit Card Number is required</span></div><div ng-message=\\\"minlength\\\">\\n<span>Credit Card Number must be 14-16 digits</span></div><div ng-message=\\\"pattern\\\"><span>\\nCredit Card must consist of only numbers</span></div></div><div layout=\\\"column\\\" layout-align=\\\"start end\\\"><div \\nflex=\\\"100\\\"><img ng-show=\\\"true\\\" ng-repeat=\\\"card in cardlogos\\\" align=\\\"right\\\" ng-src=\\\"assets/images/logos/{{card.src}}\\\" \\nstyle=\\\"opacity:{{ccinfo.type==card.id ? 1 : 0.4}}; margin-right:4px;width:38px; margin-top:4px\\\"></div></div>\\n</md-input-container><div layout=\\\"column\\\" layout-gt-xs=\\\"row\\\" style=\\\"margin-top: -20px\\\"><md-input-container flex=\\\"100\\\" \\nflex-gt-xs=\\\"33\\\"><label>Exp Month</label><md-select ng-model=\\\"vm.form.months\\\" ng-required=\\\"true\\\"><md-option \\nng-repeat=\\\"months in vm.months\\\" value=\\\"{{months}}\\\">{{months}}</md-option></md-select><div \\nng-messages=\\\"checkoutForm.months.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\" ng-show=\\\"IsSubmit\\\"><span>\\nCredit Card exp month is required.</span></div></div></md-input-container><md-input-container flex=\\\"100\\\" \\nflex-gt-xs=\\\"33\\\"><label>Exp Year</label><md-select ng-model=\\\"vm.form.years\\\" ng-required=\\\"true\\\"><md-option \\nng-repeat=\\\"years in vm.years\\\" value=\\\"{{years}}\\\">{{years}}</md-option></md-select><div \\nng-messages=\\\"checkoutForm.years.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\" ng-show=\\\"IsSubmit\\\"><span>\\nCredit Card exp year is required.</span></div></div></md-input-container><md-input-container flex-gt-xs=\\\"33\\\"><input \\ntype=\\\"text\\\" name=\\\"cc2\\\" ng-model=\\\"vm.form.cc2\\\" placeholder=\\\"CVC2/CVV2/CID\\\" md-maxlength=\\\"4\\\" maxlength=\\\"4\\\" \\nng-pattern=\\\"/^[0-9]+$/\\\" required><div ng-messages=\\\"checkoutForm.cc2.$error\\\" role=\\\"alert\\\" multipl><div \\nng-message=\\\"required\\\" ng-show=\\\"IsSubmit\\\"><span>Security code is required.</span></div><div ng-message=\\\"md-maxlength\\\">\\n<span>Security code can\\'t be longer than 4 characters.</span></div></div></md-input-container></div><div \\nlayout=\\\"column\\\" layout-gt-xs=\\\"row\\\" style=\\\"margin-top: -30px\\\"><md-input-container flex=\\\"100\\\" flex-gt-xs=\\\"75\\\"><input \\ntype=\\\"text\\\" name=\\\"streetaddress\\\" ng-model=\\\"vm.form.streetaddress\\\" class=\\\"md-padding\\\" placeholder=\\\"Street Address\\\">\\n</md-input-container><md-input-container flex=\\\"100\\\" flex-gt-xs=\\\"25\\\"><input type=\\\"text\\\" name=\\\"zipcode\\\" \\nng-model=\\\"vm.form.zipcode\\\" class=\\\"md-padding\\\" placeholder=\\\"ZIP Code\\\"></md-input-container></div><div class=\\\"terms\\\" \\nlayout=\\\"row\\\" layout-align=\\\"center center\\\" style=\\\"margin-top: -30px\\\"><md-checkbox name=\\\"terms\\\" ng-model=\\\"vm.form.terms\\\" \\naria-label=\\\"I read and accept\\\" required></md-checkbox><div layout=\\\"row\\\" layout-sm=\\\"column\\\" layout-align=\\\"start center\\\">\\n<span style=\\\"font-size:14px\\\">&nbsp;I agree to pay above total amount according to the card issuer agreement</span>\\n</div></div><hr ng-if=\\\"vm.invoice.TxnTaxDetail != null\\\" style=\\\"display:none\\\"><div layout=\\\"row\\\" \\nng-if=\\\"vm.invoice.TxnTaxDetail != null\\\" style=\\\"display:none\\\"><div flex=\\\"5\\\">&nbsp;</div><div flex=\\\"25\\\">Tax</div><div \\nflex=\\\"50\\\">&nbsp;</div><div flex=\\\"10\\\" hide-sm hide-xs><span style=\\\"font-size:20px; font-weight:bold\\\">$10.00</span></div>\\n<div flex=\\\"10\\\">&nbsp;</div></div><input type=\\\"hidden\\\" name=\\\"amount\\\" ng-model=\\\"vm.invoice.Balance\\\"> <input \\ntype=\\\"hidden\\\" name=\\\"cardtype\\\" id=\\\"cardtype\\\"><md-button type=\\\"submit\\\" ng-if=\\\"vm.invoice.Balance != 0\\\" \\nstyle=\\\"padding: 3px 10px;border-radius: 2.6px; text-decoration:none;font-size: 16px;top:0;right:5px;background-color:#08C65B; border:1px solid #08C65B; padding-bottom:0px; padding-top:9px; width:99%\\\" \\nclass=\\\"md-raised md-accent submit-button\\\" aria-label=\\\"Check Out\\\" \\nng-disabled=\\\"vm.transamount <= 0.00 || checkoutForm.$invalid || checkoutForm.$pristine || ButtonDisable\\\" \\nng-click=\\\"msWizard.resetForm();\\\"><p style=\\\"font-size:16px; vertical-align:middle\\\">Process</p></md-button></form><form \\nname=\\\"ACHForm\\\" ng-submit=\\\"submitACH()\\\" novalidate ng-show=\\\"showACHDiv\\\"><md-input-container style=\\\"width:100%\\\"><input \\ntype=\\\"text\\\" name=\\\"bankaba\\\" ng-model=\\\"vm.form.bankaba\\\" data-ng-pattern=\\\"/^[0-9]+$/\\\" placeholder=\\\"Rounting Number\\\" \\nrequired><div ng-messages=\\\"ACHForm.bankaba.$error\\\" role=\\\"alert\\\" multiple=\\\"multiple\\\"><div ng-message=\\\"required\\\" \\nng-show=\\\"IsSubmit\\\"><span>Rounting Number is required</span></div></div></md-input-container><md-input-container \\nstyle=\\\"margin-top: -10px;width:100%\\\"><input type=\\\"text\\\" name=\\\"account\\\" ng-model=\\\"vm.form.account\\\" \\ndata-ng-pattern=\\\"/^[0-9]+$/\\\" placeholder=\\\"Account Number\\\" required><div ng-messages=\\\"ACHForm.account.$error\\\" \\nrole=\\\"alert\\\" multipl><div ng-message=\\\"required\\\" ng-show=\\\"IsSubmit\\\"><span>Account Number is required</span></div></div>\\n</md-input-container><md-input-container style=\\\"margin-top: -10px;width:100%\\\"><input type=\\\"text\\\" name=\\\"name\\\" \\nng-model=\\\"vm.form.name\\\" placeholder=\\\"Name on Account\\\" required><div ng-messages=\\\"ACHForm.name.$error\\\" role=\\\"alert\\\" \\nmultipl><div ng-message=\\\"required\\\" ng-show=\\\"IsSubmit\\\"><span>Name on Account is required</span></div></div>\\n</md-input-container><md-button type=\\\"submit\\\" ng-if=\\\"vm.invoice.Balance != 0\\\" \\nstyle=\\\"padding: 3px 10px;border-radius: 2.6px; text-decoration:none;font-size: 16px;top:0;right:5px;background-color:#08C65B; border:1px solid #08C65B; padding-bottom:0px; padding-top:9px; width:99%\\\" \\nclass=\\\"md-raised md-accent submit-button\\\" aria-label=\\\"Check Out\\\" \\nng-disabled=\\\"ACHForm.$invalid || ACHForm.$pristine || ButtonDisable\\\" ng-click=\\\"msWizard.resetForm();\\\"><p \\nstyle=\\\"font-size:16px; vertical-align:middle\\\">Process</p></md-button></form></div></div></div><div \\nstyle=\\\"visibility: hidden\\\"><div class=\\\"md-dialog-container\\\" id=\\\"myDialog\\\"><md-dialog aria-label=\\\"FeedBack\\\"><div \\nng-show=\\\"showstep1\\\" layout-padding><div><div layout=\\\"row\\\" layout-align=\\\"center center\\\" ng-show=\\\"cardconnectSuccess\\\">\\n<img class=\\\"emoticon\\\" src=\\\"assets/images/backgrounds/approved.jpg\\\" width=\\\"100px\\\"></div><center><span \\nng-show=\\\"cardconnectSuccess\\\"><p style=\\\"color:#1d6001; font-weight:bold;font-size:17px;text-wrap:normal;width:500px\\\">\\n{{cardconnectMsg}}</p></span><span ng-show=\\\"cardconnectError\\\"><p \\nstyle=\\\"color:#FF0000; font-size:12px;text-wrap:normal;border-style: dotted;width:350px\\\">{{cardconnectMsg}}</p></span>\\n<h3 style=\\\"font-weight:bold; font-size:16px\\\">Please give your valuable feedback for {{vm.company.name}}.</h3></center>\\n</div><form name=\\\"feedbackform\\\" ng-submit=\\\"submitfeedback()\\\" novalidate><div layout=\\\"row\\\" layout-align=\\\"center center\\\">\\n<img class=\\\"emoticon\\\" src=\\\"assets/images/backgrounds/smile/{{feedback}}.png\\\" width=\\\"100px\\\"></div><br><div layout=\\\"row\\\" \\nlayout-align=\\\"center center\\\"><div><md-radio-group ng-model=\\\"feedback\\\" layout=\\\"row\\\" layout-align=\\\"space-around center\\\">\\n<md-radio-button ng-repeat=\\\"rate in rating\\\" value=\\\"{{rate}}\\\" class=\\\"md-primary\\\" ng-click=\\\"showcommentbox(rate)\\\">\\n{{rate}}</md-radio-button></md-radio-group></div></div><br><md-input-container class=\\\"md-block\\\" ng-show=\\\"showbox\\\" \\nstyle=\\\"padding:0px !important;margin-top:0px !important\\\"><label>Comments</label><textarea ng-model=\\\"feedbackcomment\\\" \\nplaceholder=\\\"Write your comments here\\\"></textarea></md-input-container><div layout=\\\"row\\\" layout-align=\\\"center center\\\">\\n<md-button class=\\\"md-primary md-hue-1\\\" style=\\\"color:#003399\\\" ng-click=\\\"cancel()\\\">No Thanks!</md-button><md-button \\ntype=\\\"submit\\\" class=\\\"md-raised feedbacksubmit\\\">Submit</md-button></div></form></div><div ng-show=\\\"showstep2\\\" \\nlayout-padding><div layout=\\\"row\\\" layout-align=\\\"center center\\\" ng-show=\\\"cardconnectSuccess\\\"><img class=\\\"emoticon\\\" \\nsrc=\\\"assets/images/backgrounds/approved.jpg\\\" width=\\\"100px\\\"></div><center><h2>\\nGreat to hear! Please, leave us a review on the site below</h2><h3 style=\\\"font-weight:bold; font-size:16px\\\">\\nYou can copy your feedback and paste it when leaving a review</h3><div id=\\\"toshare\\\" \\nclass=\\\"testimonial-txt review-each\\\"><p>{{feedbackcomment}}</p><input type=\\\"hidden\\\" id=\\\"copyTarget\\\" \\nvalue=\\\"{{feedbackcomment}}\\\"> <a href=\\\"#\\\" id=\\\"copy\\\" class=\\\"md-raised md-primary\\\" aria-label=\\\"Copy\\\" \\nng-click=\\\"copyToClipboard(\\'#toshare p\\')\\\"><i class=\\\"fa fa-copy\\\"></i> Copy</a></div><a href=\\\"{{feedbackURL}}\\\" \\ntarget=\\\"_blank\\\" class=\\\"review-site row\\\" data-id=\\\"256\\\" data-id_contact_feedback=\\\"25022\\\"><div flex=\\\"40\\\" \\nclass=\\\"site-logo v-align\\\"><img src=\\\"assets/images/feedback_logos/{{feedbackType}}.png\\\"></div><div \\nclass=\\\"site-description v-align\\\">Submit your review on {{feedbackType}}</div></a></center></div></md-dialog></div>\\n</div>\");\n$templateCache.put(\"app/main/cardconnect/dialog_contect.html\",\"hello<script>window.close();</script>\");\n$templateCache.put(\"app/main/cardconnect/thankyou.html\",\"wewwe\");\n$templateCache.put(\"app/core/directives/ms-info-bar/ms-info-bar.html\",\"<div id=\\\"ms-info-bar\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\" flex><div id=\\\"ms-info-bar-message\\\" ng-transclude flex>\\n</div><md-button id=\\\"ms-info-bar-close\\\" class=\\\"md-icon-button\\\" aria-label=\\\"Close\\\" ng-click=\\\"removeInfoBar()\\\"><md-icon \\nmd-font-icon=\\\"icon-close s24\\\"></md-icon></md-button></div>\");\n$templateCache.put(\"app/core/directives/ms-material-color-picker/ms-material-color-picker.html\",\"<md-menu md-position-mode=\\\"target-right target\\\"><div ng-click=\\\"$mdOpenMenu($event)\\\"><ms-color-picker-button><md-button \\naria-label=\\\"Row Color\\\" md-menu-origin ng-click=\\\"$mdOpenMenu($event)\\\" ng-class=\\\"vm.selectedColor.class\\\"><span \\nng-show=\\\"vm.selectedColor.palette\\\">{{vm.selectedColor.palette}} {{vm.selectedColor.hue}} </span><span \\nng-show=\\\"!vm.selectedColor.palette\\\">Select Color</span></md-button></ms-color-picker-button></div><md-menu-content \\nclass=\\\"ms-material-color-picker-menu-content\\\" layout-column><header \\nng-class=\\\"vm.selectedColor.class || \\'md-accent-bg\\'\\\" class=\\\"md-whiteframe-4dp\\\" layout=\\\"row\\\" \\nlayout-align=\\\"space-between center\\\"><md-button md-prevent-menu-close ng-click=\\\"vm.activateHueSelection(false,false)\\\" \\nclass=\\\"md-icon-button\\\" ng-class=\\\"{\\'hidden\\':!vm.selectedPalette}\\\" aria-label=\\\"Palette\\\"><md-icon \\nmd-font-icon=\\\"icon-arrow-left\\\" class=\\\"s20\\\"></md-icon></md-button><span ng-if=\\\"vm.selectedColor.palette\\\">\\n{{vm.selectedColor.palette}} {{vm.selectedColor.hue}} </span><span ng-if=\\\"!vm.selectedColor.palette\\\">Select Color\\n</span><md-button class=\\\"remove-color-button md-icon-button\\\" ng-click=\\\"vm.removeColor()\\\" aria-label=\\\"Remove Color\\\">\\n<md-icon md-font-icon=\\\"icon-delete\\\" class=\\\"s20\\\"></md-icon></md-button></header><div class=\\\"colors\\\" ms-scroll><div \\nng-show=\\\"!vm.selectedPalette\\\" layout=\\\"row\\\" layout-wrap><div class=\\\"color\\\" ng-class=\\\"\\'md-\\'+palette+\\'-500-bg\\'\\\" \\nng-repeat=\\\"(palette, hues) in vm.palettes\\\" ng-click=\\\"vm.activateHueSelection(palette,hues)\\\" layout=\\\"row\\\" \\nlayout-align=\\\"start end\\\" md-prevent-menu-close md-ink-ripple><span class=\\\"label\\\">{{palette}}</span></div></div><div \\nng-show=\\\"vm.selectedPalette\\\" layout=\\\"row\\\" layout-wrap><div class=\\\"color\\\" \\nng-class=\\\"\\'md-\\'+vm.selectedPalette+\\'-\\'+hue+\\'-bg\\'\\\" ng-repeat=\\\"(hue, values) in vm.selectedHues\\\" \\nng-click=\\\"vm.selectColor(vm.selectedPalette,hue)\\\" layout=\\\"row\\\" layout-align=\\\"start end\\\" md-ink-ripple><span \\nclass=\\\"label\\\">{{hue}} </span><i ng-if=\\\"vm.selectedPalette == vm.selectedColor.palette && hue == vm.selectedColor.hue\\\" \\nclass=\\\"s16 icon-check\\\"></i></div></div></div></md-menu-content></md-menu>\");\n$templateCache.put(\"app/core/directives/ms-search-bar/ms-search-bar.html\",\"<div flex layout=\\\"row\\\" layout-align=\\\"start center\\\"><label for=\\\"ms-search-bar-input\\\"><md-button \\nclass=\\\"ms-search-bar-expander md-icon-button\\\" aria-label=\\\"Expand Search Bar\\\" ng-click=\\\"MsSearchBar.expand()\\\" \\nng-if=\\\"!MsSearchBar.resultsLoading || MsSearchBar.collapsed\\\"><md-icon md-font-icon=\\\"icon-magnify\\\" class=\\\"icon s24\\\">\\n</md-icon></md-button><div class=\\\"ms-search-bar-loader\\\" layout=\\\"row\\\" layout-align=\\\"center center\\\" \\nng-if=\\\"MsSearchBar.resultsLoading && !MsSearchBar.collapsed\\\"><md-progress-circular class=\\\"md-accent\\\" md-diameter=\\\"32\\\" \\nmd-mode=\\\"indeterminate\\\"></md-progress-circular></div></label><input id=\\\"ms-search-bar-input\\\" type=\\\"text\\\" \\nplaceholder=\\\"Search\\\" flex ng-model=\\\"MsSearchBar.query\\\" ng-model-options=\\\"MsSearchBar.queryOptions\\\" \\nng-blur=\\\"MsSearchBar.collapse()\\\" ng-keydown=\\\"MsSearchBar.handleKeydown($event)\\\"><md-button \\nclass=\\\"ms-search-bar-collapser md-icon-button\\\" ng-click=\\\"MsSearchBar.collapse()\\\" aria-label=\\\"Collapse Search Bar\\\">\\n<md-icon md-font-icon=\\\"icon-close\\\" class=\\\"icon s24\\\"></md-icon></md-button><div class=\\\"ms-search-bar-results\\\" \\nng-if=\\\"MsSearchBar.results\\\" ms-scroll><div class=\\\"no-results\\\" ng-if=\\\"MsSearchBar.results.length === 0\\\">No Results!\\n</div><div class=\\\"result\\\" ng-repeat=\\\"result in MsSearchBar.results\\\" ng-click=\\\"MsSearchBar.handleResultClick(result)\\\" \\nng-mouseenter=\\\"MsSearchBar.handleMouseenter($index)\\\" ng-mousedown=\\\"MsSearchBar.absorbEvent($event)\\\" \\nng-class=\\\"{\\'selected\\': $index == MsSearchBar.selectedResultIndex}\\\" md-ink-ripple><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><div class=\\\"icon-container\\\" layout=\\\"row\\\" layout-align=\\\"center center\\\"><i \\nng-if=\\\"result.icon\\\" class=\\\"icon {{result.icon}}\\\"></i><div ng-if=\\\"!result.icon\\\" class=\\\"square md-accent-bg\\\"></div></div>\\n<div><div class=\\\"title\\\">{{result.title}}</div><div class=\\\"description\\\" ng-if=\\\"result.description\\\">\\n{{result.description}}</div></div></div></div></div></div>\");\n$templateCache.put(\"app/core/directives/ms-shortcuts/ms-shortcuts.html\",\"<div class=\\\"shortcuts-container\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\" flex \\nng-class=\\\"{\\'mobile-bar-active\\': MsShortcuts.mobileBarActive}\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex><div \\nclass=\\\"shortcuts hide show-gt-xs\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\" ms-scroll \\nng-if=\\\"MsShortcuts.shortcuts.length > 0\\\" ng-sortable=\\\"MsShortcuts.sortableOptions\\\"><div \\nng-repeat=\\\"shortcut in MsShortcuts.shortcuts\\\" layout=\\\"row\\\" layout-align=\\\"center center\\\"><md-button \\nclass=\\\"md-icon-button shortcut\\\" aria-label=\\\"{{shortcut.title}}\\\" ui-sref=\\\"{{shortcut.uisref}}\\\"><md-icon \\nng-if=\\\"shortcut.icon\\\" md-font-icon=\\\"{{shortcut.icon}}\\\" class=\\\"icon s24\\\"></md-icon><div ng-if=\\\"!shortcut.icon\\\" \\nclass=\\\"first-letter\\\">{{shortcut.title.charAt(0)}}</div><md-tooltip md-direction=\\\"bottom\\\">{{shortcut.title}}\\n</md-tooltip></md-button></div></div><md-menu md-offset=\\\"8 56\\\" class=\\\"shortcut-menu hide show-gt-xs\\\"><md-button \\nclass=\\\"md-icon-button add-shortcut-button\\\" aria-label=\\\"Add shortcut\\\" ng-click=\\\"$mdOpenMenu($event)\\\"><md-icon \\nmd-menu-origin md-font-icon=\\\"icon-star\\\" class=\\\"icon amber-600-fg s24\\\"></md-icon><md-tooltip md-direction=\\\"bottom\\\">\\nClick to add/remove shortcut</md-tooltip></md-button><md-menu-content><div id=\\\"ms-shortcut-add-menu\\\"><div \\nclass=\\\"shortcut-search\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"><div class=\\\"search-icon\\\" layout=\\\"row\\\" \\nlayout-align=\\\"center center\\\" ng-if=\\\"!MsShortcuts.resultsLoading\\\"><md-icon md-menu-align-target \\nmd-font-icon=\\\"icon-magnify\\\" class=\\\"icon s24\\\"></md-icon></div><div class=\\\"shortcut-loader\\\" layout=\\\"row\\\" \\nlayout-align=\\\"center center\\\" ng-if=\\\"MsShortcuts.resultsLoading\\\"><md-progress-circular class=\\\"md-accent\\\" \\nmd-diameter=\\\"20\\\" md-mode=\\\"indeterminate\\\"></md-progress-circular></div><input type=\\\"text\\\" placeholder=\\\"Search\\\" flex \\nng-model=\\\"MsShortcuts.query\\\" ng-model-options=\\\"MsShortcuts.queryOptions\\\" \\nng-keydown=\\\"MsShortcuts.handleKeydown($event)\\\"></div><div class=\\\"results\\\" ng-if=\\\"MsShortcuts.results\\\" ms-scroll><div \\nclass=\\\"no-results\\\" ng-if=\\\"MsShortcuts.results.length === 0\\\">No Results!</div><div class=\\\"result\\\" \\nng-repeat=\\\"result in MsShortcuts.results\\\" ng-click=\\\"MsShortcuts.handleResultClick(result)\\\" \\nng-mouseenter=\\\"MsShortcuts.handleMouseenter($index)\\\" ng-mousedown=\\\"MsShortcuts.absorbEvent($event)\\\" \\nng-class=\\\"{\\'selected\\': $index == MsShortcuts.selectedResultIndex}\\\" md-prevent-menu-close=\\\"md-prevent-menu-close\\\" \\nmd-ink-ripple><div layout=\\\"row\\\" layout-align=\\\"start space-between\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex>\\n<div class=\\\"icon icon-container\\\" layout=\\\"row\\\" layout-align=\\\"center center\\\"><i ng-if=\\\"result.icon\\\" \\nclass=\\\"{{result.icon}}\\\"></i><div ng-if=\\\"!result.icon\\\" class=\\\"square md-accent-bg\\\"></div></div><div><div class=\\\"title\\\">\\n{{result.title}}</div></div></div><md-icon md-font-icon=\\\"icon-pin\\\" class=\\\"icon s18\\\" \\nng-class=\\\"{\\'fade-text\\': !result.hasShortcut}\\\"></md-icon></div></div></div></div></md-menu-content></md-menu></div>\\n<md-button class=\\\"md-icon-button toggle-mobile-menu hide-gt-xs\\\" aria-label=\\\"Add shortcut\\\" \\nng-click=\\\"MsShortcuts.toggleMobileBar()\\\"><md-icon md-menu-origin md-font-icon=\\\"icon-star\\\" \\nclass=\\\"icon amber-600-fg s24\\\" ng-hide=\\\"MsShortcuts.mobileBarActive\\\"></md-icon><md-icon md-menu-origin \\nmd-font-icon=\\\"icon-close\\\" class=\\\"icon s24\\\" ng-hide=\\\"!MsShortcuts.mobileBarActive\\\"></md-icon></md-button></div>\");\n$templateCache.put(\"app/navigation/layouts/horizontal-navigation/navigation.html\",\"<div layout=\\\"row\\\" layout-align=\\\"start center\\\"><ms-navigation-horizontal></ms-navigation-horizontal></div>\");\n$templateCache.put(\"app/navigation/layouts/vertical-navigation/navigation.html\",\"<md-toolbar class=\\\"navigation-header md-whiteframe-1dp\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div \\nclass=\\\"logo\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"><span><a href=\\\"#\\\"><img md-menu-align-target class=\\\"avatar\\\" \\nsrc=\\\"{{appLogo}}\\\"></a></span><span class=\\\"logo-text\\\"><a href=\\\"#\\\" style=\\\"color:#FFFFFF; text-decoration:none\\\">\\n{{appName}}</a></span></div><md-icon class=\\\"fold-toggle s18\\\" md-font-icon=\\\"icon-backburger\\\" hide show-gt-sm \\nng-click=\\\"vm.toggleMsNavigationFolded()\\\"></md-icon></md-toolbar><ms-navigation class=\\\"scrollable\\\" folded=\\\"vm.folded\\\" \\nms-scroll=\\\"vm.msScrollOptions\\\"></ms-navigation>\");\n$templateCache.put(\"app/navigation/layouts/vertical-navigation-fullwidth-toolbar-2/navigation.html\",\"<ms-navigation class=\\\"scrollable\\\" folded=\\\"vm.folded\\\" ms-scroll=\\\"vm.msScrollOptions\\\"></ms-navigation>\");\n$templateCache.put(\"app/quick-panel/tabs/activity/activity-tab.html\",\"<md-list class=\\\"friends\\\"><md-subheader class=\\\"md-no-sticky\\\"><span translate=\\\"QUICKPANEL.FRIENDS\\\">Friends</span>\\n</md-subheader><md-list-item class=\\\"friend md-3-line\\\" ng-repeat=\\\"friend in vm.activities.friends\\\"><img \\nng-src=\\\"{{friend.avatar}}\\\" class=\\\"md-avatar\\\" alt=\\\"{{friend.name}}\\\"><div class=\\\"status {{friend.status}}\\\"></div><div \\nng-if=\\\"contact.unread\\\" class=\\\"md-accent-bg unread-message-count\\\">{{contact.unread}}</div><div \\nclass=\\\"md-list-item-text\\\"><h3 class=\\\"message\\\">{{friend.message}}</h3><p class=\\\"time\\\">{{friend.time}}</p></div>\\n</md-list-item></md-list><md-divider></md-divider><md-list class=\\\"servers\\\"><md-subheader class=\\\"md-no-sticky\\\"><span \\ntranslate=\\\"QUICKPANEL.APP_SERVERS\\\">Application Servers</span></md-subheader><md-list-item class=\\\"server md-3-line\\\" \\nng-repeat=\\\"server in vm.activities.servers\\\"><md-icon md-font-icon=\\\"icon-checkbox-blank-circle\\\" class=\\\"s16 status\\\" \\nng-class=\\\"server.status\\\"></md-icon><div class=\\\"md-list-item-text\\\"><h3>{{server.location}}</h3><p>{{server.detail}}</p>\\n</div></md-list-item></md-list><md-divider></md-divider><md-list class=\\\"stats\\\"><md-subheader class=\\\"md-no-sticky\\\"><span\\n translate=\\\"QUICKPANEL.USER_STATS\\\">User Stats</span></md-subheader><md-list-item class=\\\"stat md-2-line\\\" \\nng-repeat=\\\"stat in vm.activities.stats\\\"><div class=\\\"md-list-item-text\\\"><span>\\n{{stat.title}} ({{stat.current}} / {{stat.total}})</span><md-progress-linear ng-class=\\\"stat.status\\\" \\nmd-mode=\\\"determinate\\\" value=\\\"{{stat.percent}}\\\"></md-progress-linear></div></md-list-item></md-list>\");\n$templateCache.put(\"app/quick-panel/tabs/chat/chat-tab.html\",\"<div class=\\\"main animate-slide-left\\\" ng-hide=\\\"vm.chatActive\\\"><md-list class=\\\"recent\\\"><md-subheader \\nclass=\\\"md-no-sticky\\\"><span translate=\\\"QUICKPANEL.RECENT\\\">Recent</span></md-subheader><md-list-item \\nclass=\\\"contact md-3-line\\\" ng-repeat=\\\"contact in vm.contacts.recent\\\" ng-click=\\\"vm.toggleChat(contact)\\\"><img \\nng-src=\\\"{{contact.avatar}}\\\" class=\\\"md-avatar\\\" alt=\\\"{{contact.name}}\\\"><div class=\\\"status {{contact.status}}\\\"></div><div \\nng-if=\\\"contact.unread\\\" class=\\\"md-accent-bg unread-message-count\\\">{{contact.unread}}</div><div \\nclass=\\\"md-list-item-text\\\"><h3>{{contact.name}}</h3><p class=\\\"last-message\\\">{{contact.lastMessage}}</p></div>\\n</md-list-item></md-list><md-divider></md-divider><md-list class=\\\"all\\\"><md-subheader class=\\\"md-no-sticky\\\"><span \\ntranslate=\\\"QUICKPANEL.START_NEW_CHAT\\\">Start New Chat</span></md-subheader><md-list-item class=\\\"contact\\\" \\nng-repeat=\\\"contact in vm.contacts.all\\\" ng-click=\\\"vm.toggleChat(contact)\\\"><img ng-src=\\\"{{contact.avatar}}\\\" \\nclass=\\\"md-avatar\\\" alt=\\\"{{contact.name}}\\\"><div class=\\\"status {{contact.status}}\\\"></div><div class=\\\"md-list-item-text\\\">\\n<h3>{{contact.name}}</h3></div></md-list-item></md-list><md-divider></md-divider></div><div \\nclass=\\\"chat animate-slide-right\\\" ng-show=\\\"vm.chatActive\\\" layout=\\\"column\\\"><md-toolbar class=\\\"md-accent\\\"><div \\nclass=\\\"md-toolbar-tools\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-button class=\\\"md-icon-button\\\" ng-click=\\\"vm.toggleChat()\\\" aria-label=\\\"Back\\\" translate \\ntranslate-attr-aria-label=\\\"QUICKPANEL.BACK\\\"><md-icon md-font-icon=\\\"icon-keyboard-backspace\\\"></md-icon></md-button><h4>\\n<span>{{vm.chat.contact.name}}</span></h4></div><div layout=\\\"row\\\" layout-align=\\\"end center\\\"><md-button \\nclass=\\\"md-icon-button\\\" aria-label=\\\"Call\\\" translate translate-attr-aria-label=\\\"QUICKPANEL.CALL\\\"><md-icon \\nmd-font-icon=\\\"icon-phone\\\"></md-icon></md-button><md-button class=\\\"md-icon-button\\\" aria-label=\\\"More\\\" translate \\ntranslate-attr-aria-label=\\\"QUICKPANEL.MORE\\\"><md-icon md-font-icon=\\\"icon-dots-vertical\\\"></md-icon></md-button></div>\\n</div></md-toolbar><md-content flex layout-paddings ms-scroll id=\\\"chat-dialog\\\"><div layout=\\\"row\\\" \\nng-repeat=\\\"dialog in vm.chat.contact.dialog\\\" class=\\\"md-padding message-row\\\" ng-class=\\\"dialog.who\\\"><img \\nng-if=\\\"dialog.who ===\\'contact\\'\\\" ng-src=\\\"{{vm.chat.contact.avatar}}\\\" class=\\\"avatar\\\" alt=\\\"{{vm.chat.contact.name}}\\\"> <img\\n ng-if=\\\"dialog.who ===\\'user\\'\\\" class=\\\"avatar\\\" src=\\\"assets/images/avatars/profile.jpg\\\"><div class=\\\"bubble\\\" flex><div \\nclass=\\\"message\\\">{{dialog.message}}</div><div class=\\\"time secondary-text\\\">{{dialog.time}}</div></div></div></md-content>\\n<form ng-submit=\\\"vm.reply()\\\" layout=\\\"row\\\" class=\\\"reply\\\" layout-align=\\\"start center\\\"><textarea \\nng-keyup=\\\"$event.keyCode == 13 ? vm.reply() : null\\\" flex ng-model=\\\"vm.replyMessage\\\" \\nplaceholder=\\\"Type and hit enter to send message\\\" translate translate-attr-placeholder=\\\"QUICKPANEL.REPLY_PLACEHOLDER\\\">\\n</textarea><md-button class=\\\"md-fab md-mini\\\" type=\\\"submit\\\" aria-label=\\\"Send message\\\" translate \\ntranslate-attr-aria-label=\\\"QUICKPANEL.SEND_MESSAGE\\\"><md-icon md-font-icon=\\\"icon-send\\\"></md-icon></md-button></form>\\n</div>\");\n$templateCache.put(\"app/quick-panel/tabs/today/today-tab.html\",\"<md-list class=\\\"date\\\"><md-subheader class=\\\"md-no-sticky\\\"><span translate=\\\"QUICKPANEL.TODAY\\\">Today</span></md-subheader>\\n<md-list-item class=\\\"md-display-1 md-2-line\\\" layout=\\\"column\\\" layout-align=\\\"start start\\\"><div class=\\\"secondary-text\\\">\\n<div>{{vm.date | date:\\'EEEE\\'}}</div><div layout=\\\"row\\\" layout-align=\\\"start start\\\"><span>{{vm.date | date:\\'d\\'}}</span> \\n<span class=\\\"md-subhead\\\">th</span> <span>{{vm.date | date:\\'MMMM\\'}}</span></div></div></md-list-item></md-list>\\n<md-divider></md-divider><md-list><md-subheader class=\\\"md-no-sticky\\\"><span translate=\\\"QUICKPANEL.EVENTS\\\">Events</span>\\n</md-subheader><md-list-item class=\\\"md-2-line\\\" ng-repeat=\\\"event in vm.events\\\" ng-click=\\\"dummyFunction()\\\"><div \\nclass=\\\"md-list-item-text\\\"><h3>{{event.title}}</h3><p>{{event.detail}}</p></div></md-list-item></md-list><md-divider>\\n</md-divider><md-list><md-subheader class=\\\"md-no-sticky\\\"><span translate=\\\"QUICKPANEL.NOTES\\\">Notes</span></md-subheader>\\n<md-list-item class=\\\"md-2-line\\\" ng-repeat=\\\"note in vm.notes\\\" ng-click=\\\"dummyFunction()\\\"><div class=\\\"md-list-item-text\\\">\\n<h3>{{note.title}}</h3><p>{{note.detail}}</p></div></md-list-item></md-list><md-divider></md-divider><md-list>\\n<md-subheader class=\\\"md-no-sticky\\\"><span translate=\\\"QUICKPANEL.QUICK_SETTINGS\\\">Quick Settings</span></md-subheader>\\n<md-list-item><h3 translate=\\\"QUICKPANEL.NOTIFICATIONS\\\">Notifications</h3><md-switch class=\\\"md-secondary\\\" \\nng-model=\\\"vm.settings.notify\\\" aria-label=\\\"Notifications\\\" translate \\ntranslate-attr-aria-label=\\\"QUICKPANEL.NOTIFICATIONS\\\"></md-switch></md-list-item><md-list-item><h3 \\ntranslate=\\\"QUICKPANEL.CLOUD_SYNC\\\">Cloud Sync</h3><md-switch class=\\\"md-secondary\\\" ng-model=\\\"vm.settings.cloud\\\" \\naria-label=\\\"Cloud Sync\\\" translate translate-attr-aria-label=\\\"QUICKPANEL.CLOUD_SYNC\\\"></md-switch></md-list-item>\\n<md-list-item><h3 translate=\\\"QUICKPANEL.RETRO_THRUSTERS\\\">Retro Thrusters</h3><md-switch class=\\\"md-secondary md-warn\\\" \\nng-model=\\\"vm.settings.retro\\\" aria-label=\\\"Retro Thrusters\\\" translate \\ntranslate-attr-aria-label=\\\"QUICKPANEL.RETRO_THRUSTERS\\\"></md-switch></md-list-item></md-list>\");\n$templateCache.put(\"app/toolbar/layouts/content-with-toolbar/--toolbar.html\",\"<div layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\"><div class=\\\"logo\\\" \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"><span class=\\\"logo-image\\\">F</span> <span class=\\\"logo-text\\\">FUSE</span></div>\\n<div class=\\\"toolbar-separator\\\"></div><ms-shortcuts></ms-shortcuts><div class=\\\"toolbar-separator\\\"></div></div><div \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"><md-progress-circular id=\\\"toolbar-progress\\\" ng-if=\\\"$root.loadingProgress\\\" \\nclass=\\\"md-accent\\\" md-mode=\\\"indeterminate\\\" md-diameter=\\\"32\\\"></md-progress-circular><div class=\\\"toolbar-separator\\\"></div>\\n<md-menu-bar id=\\\"user-menu\\\"><md-menu md-position-mode=\\\"left bottom\\\"><md-button class=\\\"user-button\\\" \\nng-click=\\\"$mdOpenMenu()\\\" aria-label=\\\"User settings\\\" translate translate-attr-aria-label=\\\"TOOLBAR.USER_SETTINGS\\\"><div \\nlayout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div class=\\\"avatar-wrapper\\\"><img md-menu-align-target class=\\\"avatar\\\" \\nsrc=\\\"assets/images/avatars/profile.jpg\\\"><md-icon md-font-icon ng-class=\\\"vm.userStatus.icon\\\" \\nng-style=\\\"{\\'color\\': vm.userStatus.color }\\\" class=\\\"icon status s16\\\"></md-icon></div><span class=\\\"username\\\" hide-sm>\\nJohn Doe</span><md-icon md-font-icon=\\\"icon-chevron-down\\\" class=\\\"icon s16\\\" hide-sm></md-icon></div></md-button>\\n<md-menu-content width=\\\"3\\\"><md-menu-item class=\\\"md-indent\\\" ui-sref=\\\"app.pages_profile\\\"><md-icon \\nmd-font-icon=\\\"icon-account\\\" class=\\\"icon\\\"></md-icon><md-button>My Profile</md-button></md-menu-item><md-menu-item \\nclass=\\\"md-indent\\\" ui-sref=\\\"app.mail\\\"><md-icon md-font-icon=\\\"icon-email\\\" class=\\\"icon\\\"></md-icon><md-button>Inbox\\n</md-button></md-menu-item><md-menu-item class=\\\"md-indent\\\"><md-icon md-font-icon ng-class=\\\"vm.userStatus.icon\\\" \\nng-style=\\\"{\\'color\\': vm.userStatus.color }\\\" class=\\\"icon\\\"></md-icon><md-menu id=\\\"user-status-menu\\\"><md-button \\nng-click=\\\"$mdOpenMenu()\\\" class=\\\"status\\\" ng-class=\\\"vm.userStatus.class\\\">{{vm.userStatus.title}}</md-button>\\n<md-menu-content width=\\\"2\\\"><md-menu-item class=\\\"status md-indent\\\" ng-class=\\\"{\\'selected\\': status === vm.userStatus}\\\" \\nng-repeat=\\\"status in vm.userStatusOptions\\\"><md-icon md-font-icon=\\\"{{status.icon}}\\\" ng-style=\\\"{\\'color\\': status.color }\\\" \\nclass=\\\"icon\\\"></md-icon><md-button ng-click=\\\"vm.setUserStatus(status)\\\">{{status.title}}</md-button></md-menu-item>\\n</md-menu-content></md-menu></md-menu-item><md-menu-divider></md-menu-divider><md-menu-item class=\\\"md-indent\\\"><md-icon \\nmd-font-icon=\\\"icon-logout\\\" class=\\\"icon\\\"></md-icon><md-button ng-click=\\\"vm.logout()\\\">Logout</md-button></md-menu-item>\\n</md-menu-content></md-menu></md-menu-bar><div class=\\\"toolbar-separator\\\"></div><ms-search-bar \\non-search=\\\"vm.search(query)\\\" on-result-click=\\\"vm.searchResultClick(item)\\\" debounce=\\\"300\\\"></ms-search-bar><div \\nclass=\\\"toolbar-separator\\\"></div><md-menu id=\\\"language-menu\\\" md-offset=\\\"0 72\\\" md-position-mode=\\\"target-right target\\\">\\n<md-button class=\\\"language-button\\\" ng-click=\\\"$mdOpenMenu()\\\" aria-label=\\\"Language\\\" md-menu-origin md-menu-align-target>\\n<div layout=\\\"row\\\" layout-align=\\\"center center\\\"><img class=\\\"flag\\\" \\nng-src=\\\"assets/images/flags/{{vm.selectedLanguage.flag}}.png\\\"> <span class=\\\"iso\\\">{{vm.selectedLanguage.code}}</span>\\n</div></md-button><md-menu-content width=\\\"3\\\" id=\\\"language-menu-content\\\"><md-menu-item \\nng-repeat=\\\"(iso, lang) in vm.languages\\\"><md-button ng-click=\\\"vm.changeLanguage(lang)\\\" aria-label=\\\"{{lang.title}}\\\" \\ntranslate translate-attr-aria-label=\\\"{{lang.title}}\\\"><span layout=\\\"row\\\" layout-align=\\\"start center\\\"><img class=\\\"flag\\\" \\nng-src=\\\"assets/images/flags/{{lang.flag}}.png\\\"> <span translate=\\\"{{lang.translation}}\\\">{{lang.title}}</span></span>\\n</md-button></md-menu-item></md-menu-content></md-menu><div class=\\\"toolbar-separator\\\"></div><md-button \\nid=\\\"quick-panel-toggle\\\" class=\\\"md-icon-button\\\" ng-click=\\\"vm.toggleSidenav(\\'quick-panel\\')\\\" \\naria-label=\\\"Toggle quick panel\\\" translate translate-attr-aria-label=\\\"TOOLBAR.TOGGLE_QUICK_PANEL\\\"><md-icon \\nmd-font-icon=\\\"icon-format-list-bulleted\\\" class=\\\"icon\\\"></md-icon></md-button></div></div>\");\n$templateCache.put(\"app/toolbar/layouts/content-with-toolbar/toolbar.html\",\"<div layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\"><div class=\\\"logo\\\" \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"><a \\nstyle=\\\"color: rgba(0,0,0,.87) !important;margin-left: 16px !important;font-size: 16px !important;    text-decoration: none\\\" \\nhref=\\\"/apps/invoices\\\" alt=\\\"logo\\\"><img md-menu-align-target=\\\"\\\" class=\\\"avatar\\\" src=\\\"{{appLogo}}\\\"></a><span \\nclass=\\\"logo-text\\\">{{appName}}</span></div><div class=\\\"toolbar-separator\\\"></div><div class=\\\"toolbar-separator\\\"></div>\\n</div><div layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-progress-circular id=\\\"toolbar-progress\\\" \\nng-if=\\\"$root.loadingProgress\\\" class=\\\"md-accent\\\" md-mode=\\\"indeterminate\\\" md-diameter=\\\"32\\\"></md-progress-circular><div \\nclass=\\\"toolbar-separator\\\"></div></div></div>\");\n$templateCache.put(\"app/toolbar/layouts/horizontal-navigation/toolbar.html\",\"<div layout=\\\"column\\\" layout-align=\\\"space-between stretch\\\" class=\\\"h-128\\\"><div class=\\\"top-row\\\" layout=\\\"row\\\" \\nlayout-align=\\\"space-between center\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\"><div class=\\\"navigation-toggle\\\" \\nhide-gt-sm><md-button class=\\\"md-icon-button\\\" ng-click=\\\"vm.toggleHorizontalMobileMenu()\\\" \\naria-label=\\\"Toggle Mobile Navigation\\\"><md-icon md-font-icon=\\\"icon-menu\\\"></md-icon></md-button></div><div class=\\\"logo\\\" \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"><span class=\\\"logo-image\\\">F</span> <span class=\\\"logo-text\\\">FUSE</span></div>\\n</div><div layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-progress-circular id=\\\"toolbar-progress\\\" \\nng-if=\\\"$root.loadingProgress\\\" class=\\\"md-accent\\\" md-mode=\\\"indeterminate\\\" md-diameter=\\\"32\\\"></md-progress-circular>\\n<ms-shortcuts></ms-shortcuts><md-menu-bar id=\\\"user-menu\\\"><md-menu md-position-mode=\\\"left bottom\\\"><md-button \\nclass=\\\"user-button\\\" ng-click=\\\"$mdOpenMenu()\\\" aria-label=\\\"User settings\\\" translate \\ntranslate-attr-aria-label=\\\"TOOLBAR.USER_SETTINGS\\\"><div layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div \\nclass=\\\"avatar-wrapper\\\"><img md-menu-align-target class=\\\"avatar\\\" src=\\\"assets/images/avatars/profile.jpg\\\"><md-icon \\nmd-font-icon ng-class=\\\"vm.userStatus.icon\\\" ng-style=\\\"{\\'color\\': vm.userStatus.color }\\\" class=\\\"icon status s16\\\">\\n</md-icon></div><span class=\\\"username\\\" hide-sm>John Doe</span><md-icon md-font-icon=\\\"icon-chevron-down\\\" \\nclass=\\\"icon s16\\\" hide-sm></md-icon></div></md-button><md-menu-content width=\\\"3\\\"><md-menu-item class=\\\"md-indent\\\" \\nui-sref=\\\"app.pages_profile\\\"><md-icon md-font-icon=\\\"icon-account\\\" class=\\\"icon\\\"></md-icon><md-button>My Profile\\n</md-button></md-menu-item><md-menu-item class=\\\"md-indent\\\" ui-sref=\\\"app.mail\\\"><md-icon md-font-icon=\\\"icon-email\\\" \\nclass=\\\"icon\\\"></md-icon><md-button>Inbox</md-button></md-menu-item><md-menu-item class=\\\"md-indent\\\"><md-icon \\nmd-font-icon ng-class=\\\"vm.userStatus.icon\\\" ng-style=\\\"{\\'color\\': vm.userStatus.color }\\\" class=\\\"icon\\\"></md-icon><md-menu \\nid=\\\"user-status-menu\\\"><md-button ng-click=\\\"$mdOpenMenu()\\\" class=\\\"status\\\" ng-class=\\\"vm.userStatus.class\\\">\\n{{vm.userStatus.title}}</md-button><md-menu-content width=\\\"2\\\"><md-menu-item class=\\\"status md-indent\\\" \\nng-class=\\\"{\\'selected\\': status === vm.userStatus}\\\" ng-repeat=\\\"status in vm.userStatusOptions\\\"><md-icon \\nmd-font-icon=\\\"{{status.icon}}\\\" ng-style=\\\"{\\'color\\': status.color }\\\" class=\\\"icon\\\"></md-icon><md-button \\nng-click=\\\"vm.setUserStatus(status)\\\">{{status.title}}</md-button></md-menu-item></md-menu-content></md-menu>\\n</md-menu-item><md-menu-divider></md-menu-divider><md-menu-item class=\\\"md-indent\\\"><md-icon md-font-icon=\\\"icon-logout\\\" \\nclass=\\\"icon\\\"></md-icon><md-button ng-click=\\\"vm.logout()\\\">Logout</md-button></md-menu-item></md-menu-content></md-menu>\\n</md-menu-bar><ms-search-bar on-search=\\\"vm.search(query)\\\" on-result-click=\\\"vm.searchResultClick(item)\\\" debounce=\\\"300\\\">\\n</ms-search-bar><md-menu id=\\\"language-menu\\\" md-offset=\\\"0 72\\\" md-position-mode=\\\"target-right target\\\"><md-button \\nclass=\\\"language-button\\\" ng-click=\\\"$mdOpenMenu()\\\" aria-label=\\\"Language\\\" md-menu-origin md-menu-align-target><div \\nlayout=\\\"row\\\" layout-align=\\\"center center\\\"><img class=\\\"flag\\\" \\nng-src=\\\"assets/images/flags/{{vm.selectedLanguage.flag}}.png\\\"> <span class=\\\"iso\\\">{{vm.selectedLanguage.code}}</span>\\n</div></md-button><md-menu-content width=\\\"3\\\" id=\\\"language-menu-content\\\"><md-menu-item \\nng-repeat=\\\"(iso, lang) in vm.languages\\\"><md-button ng-click=\\\"vm.changeLanguage(lang)\\\" aria-label=\\\"{{lang.title}}\\\" \\ntranslate translate-attr-aria-label=\\\"{{lang.title}}\\\"><span layout=\\\"row\\\" layout-align=\\\"start center\\\"><img class=\\\"flag\\\" \\nng-src=\\\"assets/images/flags/{{lang.flag}}.png\\\"> <span translate=\\\"{{lang.translation}}\\\">{{lang.title}}</span></span>\\n</md-button></md-menu-item></md-menu-content></md-menu><md-button id=\\\"quick-panel-toggle\\\" class=\\\"md-icon-button\\\" \\nng-click=\\\"vm.toggleSidenav(\\'quick-panel\\')\\\" aria-label=\\\"Toggle quick panel\\\" translate \\ntranslate-attr-aria-label=\\\"TOOLBAR.TOGGLE_QUICK_PANEL\\\"><md-icon md-font-icon=\\\"icon-format-list-bulleted\\\" class=\\\"icon\\\">\\n</md-icon></md-button></div></div><div class=\\\"bottom-row\\\"><div id=\\\"horizontal-navigation\\\" ui-view=\\\"navigation\\\"></div>\\n</div></div>\");\n$templateCache.put(\"app/toolbar/layouts/vertical-navigation/toolbar.html\",\"<div layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\"><div hide-xs \\nshow-gt-xs class=\\\"selected-project\\\" style=\\\"font-size:16px; margin-left:10px\\\">&nbsp;{{companyName}}&nbsp;</div><div \\nstyle=\\\"padding: 20%\\\" hide-gt-xs show-xs><md-icon md-font-icon=\\\"zmdi zmdi-menu\\\" \\nng-click=\\\"vm.toggleSidenav(\\'navigation\\')\\\"></md-icon></div></div><div layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n<md-progress-circular id=\\\"toolbar-progress\\\" ng-if=\\\"$root.loadingProgress\\\" class=\\\"md-accent\\\" md-mode=\\\"indeterminate\\\" \\nmd-diameter=\\\"32\\\"></md-progress-circular><div class=\\\"toolbar-separator\\\"></div><md-menu-bar id=\\\"user-menu\\\"><md-menu \\nmd-position-mode=\\\"left bottom\\\"><md-button class=\\\"user-button\\\" ng-click=\\\"$mdOpenMenu()\\\" aria-label=\\\"User settings\\\" \\ntranslate translate-attr-aria-label=\\\"TOOLBAR.USER_SETTINGS\\\"><div layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div \\nclass=\\\"avatar-wrapper\\\"><img md-menu-align-target class=\\\"avatar\\\" src=\\\"assets/images/avatars/profile.jpg\\\"><md-icon \\nmd-font-icon ng-class=\\\"vm.userStatus.icon\\\" ng-style=\\\"{\\'color\\': vm.userStatus.color }\\\" class=\\\"icon status s16\\\">\\n</md-icon></div><span class=\\\"username\\\" hide-sm>{{vm.user_name}}</span><md-icon md-font-icon=\\\"icon-chevron-down\\\" \\nclass=\\\"icon s16\\\" hide-sm></md-icon></div></md-button><md-menu-content width=\\\"3\\\"><md-menu-item class=\\\"md-indent\\\" \\nng-repeat=\\\"menu in vm.customMenu\\\"><md-icon md-font-icon=\\\"{{menu.icon}}\\\" class=\\\"icon\\\"></md-icon><md-button \\nng-click=\\\"vm.TopMenu(menu)\\\">{{menu.name}}</md-button></md-menu-item></md-menu-content></md-menu></md-menu-bar></div>\\n</div>\");\n$templateCache.put(\"app/toolbar/layouts/vertical-navigation-fullwidth-toolbar/toolbar.html\",\"<div layout=\\\"row\\\" layout-align=\\\"start center\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex><md-button \\nid=\\\"navigation-toggle\\\" class=\\\"md-icon-button\\\" ng-click=\\\"vm.toggleSidenav(\\'navigation\\')\\\" hide-gt-sm \\naria-label=\\\"Toggle navigation\\\" translate translate-attr-aria-label=\\\"TOOLBAR.TOGGLE_NAVIGATION\\\"><md-icon \\nmd-font-icon=\\\"icon-menu\\\" class=\\\"icon\\\"></md-icon></md-button><ms-search-bar on-search=\\\"vm.search(query)\\\" \\non-result-click=\\\"vm.searchResultClick(item)\\\" debounce=\\\"300\\\"></ms-search-bar><div class=\\\"toolbar-separator\\\"></div>\\n<ms-shortcuts></ms-shortcuts><div class=\\\"toolbar-separator\\\"></div></div><div layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n<md-progress-circular id=\\\"toolbar-progress\\\" ng-if=\\\"$root.loadingProgress\\\" class=\\\"md-accent\\\" md-mode=\\\"indeterminate\\\" \\nmd-diameter=\\\"32\\\"></md-progress-circular><md-menu-bar id=\\\"user-menu\\\"><md-menu md-position-mode=\\\"left bottom\\\"><md-button \\nclass=\\\"user-button\\\" ng-click=\\\"$mdOpenMenu()\\\" aria-label=\\\"User settings\\\" translate \\ntranslate-attr-aria-label=\\\"TOOLBAR.USER_SETTINGS\\\"><div layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div \\nclass=\\\"avatar-wrapper\\\"><img md-menu-align-target class=\\\"avatar\\\" src=\\\"assets/images/avatars/profile.jpg\\\"><md-icon \\nmd-font-icon ng-class=\\\"vm.userStatus.icon\\\" ng-style=\\\"{\\'color\\': vm.userStatus.color }\\\" class=\\\"icon status s16\\\">\\n</md-icon></div><span class=\\\"username\\\" hide-sm>John Doe</span><md-icon md-font-icon=\\\"icon-chevron-down\\\" \\nclass=\\\"icon s16\\\" hide-sm></md-icon></div></md-button><md-menu-content width=\\\"3\\\"><md-menu-item class=\\\"md-indent\\\" \\nui-sref=\\\"app.pages_profile\\\"><md-icon md-font-icon=\\\"icon-account\\\" class=\\\"icon\\\"></md-icon><md-button>My Profile\\n</md-button></md-menu-item><md-menu-item class=\\\"md-indent\\\" ui-sref=\\\"app.mail\\\"><md-icon md-font-icon=\\\"icon-email\\\" \\nclass=\\\"icon\\\"></md-icon><md-button>Inbox</md-button></md-menu-item><md-menu-item class=\\\"md-indent\\\"><md-icon \\nmd-font-icon ng-class=\\\"vm.userStatus.icon\\\" ng-style=\\\"{\\'color\\': vm.userStatus.color }\\\" class=\\\"icon\\\"></md-icon><md-menu \\nid=\\\"user-status-menu\\\"><md-button ng-click=\\\"$mdOpenMenu()\\\" class=\\\"status\\\" ng-class=\\\"vm.userStatus.class\\\">\\n{{vm.userStatus.title}}</md-button><md-menu-content width=\\\"2\\\"><md-menu-item class=\\\"status md-indent\\\" \\nng-class=\\\"{\\'selected\\': status === vm.userStatus}\\\" ng-repeat=\\\"status in vm.userStatusOptions\\\"><md-icon \\nmd-font-icon=\\\"{{status.icon}}\\\" ng-style=\\\"{\\'color\\': status.color }\\\" class=\\\"icon\\\"></md-icon><md-button \\nng-click=\\\"vm.setUserStatus(status)\\\">{{status.title}}</md-button></md-menu-item></md-menu-content></md-menu>\\n</md-menu-item><md-menu-divider></md-menu-divider><md-menu-item class=\\\"md-indent\\\"><md-icon md-font-icon=\\\"icon-logout\\\" \\nclass=\\\"icon\\\"></md-icon><md-button ng-click=\\\"vm.logout()\\\">Logout</md-button></md-menu-item></md-menu-content></md-menu>\\n</md-menu-bar><div class=\\\"toolbar-separator\\\"></div><md-menu id=\\\"language-menu\\\" md-offset=\\\"0 72\\\" \\nmd-position-mode=\\\"target-right target\\\"><md-button class=\\\"language-button\\\" ng-click=\\\"$mdOpenMenu()\\\" \\naria-label=\\\"Language\\\" md-menu-origin md-menu-align-target><div layout=\\\"row\\\" layout-align=\\\"center center\\\"><img \\nclass=\\\"flag\\\" ng-src=\\\"assets/images/flags/{{vm.selectedLanguage.flag}}.png\\\"> <span class=\\\"iso\\\">\\n{{vm.selectedLanguage.code}}</span></div></md-button><md-menu-content width=\\\"3\\\" id=\\\"language-menu-content\\\">\\n<md-menu-item ng-repeat=\\\"(iso, lang) in vm.languages\\\"><md-button ng-click=\\\"vm.changeLanguage(lang)\\\" \\naria-label=\\\"{{lang.title}}\\\" translate translate-attr-aria-label=\\\"{{lang.title}}\\\"><span layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><img class=\\\"flag\\\" ng-src=\\\"assets/images/flags/{{lang.flag}}.png\\\"> <span \\ntranslate=\\\"{{lang.translation}}\\\">{{lang.title}}</span></span></md-button></md-menu-item></md-menu-content></md-menu>\\n<div class=\\\"toolbar-separator\\\"></div><md-button id=\\\"quick-panel-toggle\\\" class=\\\"md-icon-button\\\" \\nng-click=\\\"vm.toggleSidenav(\\'quick-panel\\')\\\" aria-label=\\\"Toggle quick panel\\\" translate \\ntranslate-attr-aria-label=\\\"TOOLBAR.TOGGLE_QUICK_PANEL\\\"><md-icon md-font-icon=\\\"icon-format-list-bulleted\\\" class=\\\"icon\\\">\\n</md-icon></md-button></div></div>\");\n$templateCache.put(\"app/toolbar/layouts/vertical-navigation-fullwidth-toolbar-2/toolbar.html\",\"<div layout=\\\"row\\\" layout-align=\\\"start center\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\" flex><div class=\\\"logo\\\" \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"><span class=\\\"logo-image\\\">F</span> <span class=\\\"logo-text\\\">FUSE</span></div>\\n<div class=\\\"toolbar-separator\\\"></div><md-button id=\\\"navigation-toggle\\\" class=\\\"md-icon-button\\\" \\nng-click=\\\"vm.toggleSidenav(\\'navigation\\')\\\" hide-gt-sm aria-label=\\\"Toggle navigation\\\" translate \\ntranslate-attr-aria-label=\\\"TOOLBAR.TOGGLE_NAVIGATION\\\"><md-icon md-font-icon=\\\"icon-menu\\\" class=\\\"icon\\\"></md-icon>\\n</md-button><md-button class=\\\"md-icon-button navigation-fold-toggle\\\" hide show-gt-sm \\naria-label=\\\"Toggle navigation fold\\\" translate translate-attr-aria-label=\\\"TOOLBAR.TOGGLE_NAVIGATION_FOLD\\\" \\nng-click=\\\"vm.toggleMsNavigationFolded()\\\"><md-icon class=\\\"s18\\\" md-font-icon=\\\"icon-backburger\\\"></md-icon></md-button>\\n<ms-shortcuts></ms-shortcuts><div class=\\\"toolbar-separator\\\"></div></div><div layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n<md-progress-circular id=\\\"toolbar-progress\\\" ng-if=\\\"$root.loadingProgress\\\" class=\\\"md-accent\\\" md-mode=\\\"indeterminate\\\" \\nmd-diameter=\\\"32\\\"></md-progress-circular><md-menu-bar id=\\\"user-menu\\\"><md-menu md-position-mode=\\\"left bottom\\\"><md-button \\nclass=\\\"user-button\\\" ng-click=\\\"$mdOpenMenu()\\\" aria-label=\\\"User settings\\\" translate \\ntranslate-attr-aria-label=\\\"TOOLBAR.USER_SETTINGS\\\"><div layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div \\nclass=\\\"avatar-wrapper\\\"><img md-menu-align-target class=\\\"avatar\\\" src=\\\"assets/images/avatars/profile.jpg\\\"><md-icon \\nmd-font-icon ng-class=\\\"vm.userStatus.icon\\\" ng-style=\\\"{\\'color\\': vm.userStatus.color }\\\" class=\\\"icon status s16\\\">\\n</md-icon></div><span class=\\\"username\\\" hide-sm>John Doe</span><md-icon md-font-icon=\\\"icon-chevron-down\\\" \\nclass=\\\"icon s16\\\" hide-sm></md-icon></div></md-button><md-menu-content width=\\\"3\\\"><md-menu-item class=\\\"md-indent\\\" \\nui-sref=\\\"app.pages_profile\\\"><md-icon md-font-icon=\\\"icon-account\\\" class=\\\"icon\\\"></md-icon><md-button>My Profile\\n</md-button></md-menu-item><md-menu-item class=\\\"md-indent\\\" ui-sref=\\\"app.mail\\\"><md-icon md-font-icon=\\\"icon-email\\\" \\nclass=\\\"icon\\\"></md-icon><md-button>Inbox</md-button></md-menu-item><md-menu-item class=\\\"md-indent\\\"><md-icon \\nmd-font-icon ng-class=\\\"vm.userStatus.icon\\\" ng-style=\\\"{\\'color\\': vm.userStatus.color }\\\" class=\\\"icon\\\"></md-icon><md-menu \\nid=\\\"user-status-menu\\\"><md-button ng-click=\\\"$mdOpenMenu()\\\" class=\\\"status\\\" ng-class=\\\"vm.userStatus.class\\\">\\n{{vm.userStatus.title}}</md-button><md-menu-content width=\\\"2\\\"><md-menu-item class=\\\"status md-indent\\\" \\nng-class=\\\"{\\'selected\\': status === vm.userStatus}\\\" ng-repeat=\\\"status in vm.userStatusOptions\\\"><md-icon \\nmd-font-icon=\\\"{{status.icon}}\\\" ng-style=\\\"{\\'color\\': status.color }\\\" class=\\\"icon\\\"></md-icon><md-button \\nng-click=\\\"vm.setUserStatus(status)\\\">{{status.title}}</md-button></md-menu-item></md-menu-content></md-menu>\\n</md-menu-item><md-menu-divider></md-menu-divider><md-menu-item class=\\\"md-indent\\\"><md-icon md-font-icon=\\\"icon-logout\\\" \\nclass=\\\"icon\\\"></md-icon><md-button ng-click=\\\"vm.logout()\\\">Logout</md-button></md-menu-item></md-menu-content></md-menu>\\n</md-menu-bar><div class=\\\"toolbar-separator\\\"></div><ms-search-bar on-search=\\\"vm.search(query)\\\" \\non-result-click=\\\"vm.searchResultClick(item)\\\" debounce=\\\"300\\\"></ms-search-bar><div class=\\\"toolbar-separator\\\"></div>\\n<md-menu id=\\\"language-menu\\\" md-offset=\\\"0 72\\\" md-position-mode=\\\"target-right target\\\"><md-button class=\\\"language-button\\\" \\nng-click=\\\"$mdOpenMenu()\\\" aria-label=\\\"Language\\\" md-menu-origin md-menu-align-target><div layout=\\\"row\\\" \\nlayout-align=\\\"center center\\\"><img class=\\\"flag\\\" ng-src=\\\"assets/images/flags/{{vm.selectedLanguage.flag}}.png\\\"> <span \\nclass=\\\"iso\\\">{{vm.selectedLanguage.code}}</span></div></md-button><md-menu-content width=\\\"3\\\" id=\\\"language-menu-content\\\">\\n<md-menu-item ng-repeat=\\\"(iso, lang) in vm.languages\\\"><md-button ng-click=\\\"vm.changeLanguage(lang)\\\" \\naria-label=\\\"{{lang.title}}\\\" translate translate-attr-aria-label=\\\"{{lang.title}}\\\"><span layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><img class=\\\"flag\\\" ng-src=\\\"assets/images/flags/{{lang.flag}}.png\\\"> <span \\ntranslate=\\\"{{lang.translation}}\\\">{{lang.title}}</span></span></md-button></md-menu-item></md-menu-content></md-menu>\\n<div class=\\\"toolbar-separator\\\"></div><md-button id=\\\"quick-panel-toggle\\\" class=\\\"md-icon-button\\\" \\nng-click=\\\"vm.toggleSidenav(\\'quick-panel\\')\\\" aria-label=\\\"Toggle quick panel\\\" translate \\ntranslate-attr-aria-label=\\\"TOOLBAR.TOGGLE_QUICK_PANEL\\\"><md-icon md-font-icon=\\\"icon-format-list-bulleted\\\" class=\\\"icon\\\">\\n</md-icon></md-button></div></div>\");\n$templateCache.put(\"app/core/directives/ms-navigation/templates/horizontal.html\",\"<div class=\\\"navigation-toggle\\\" hide-gt-sm><md-button class=\\\"md-icon-button\\\" ng-click=\\\"vm.toggleHorizontalMobileMenu()\\\" \\naria-label=\\\"Toggle Mobile Navigation\\\"><md-icon md-font-icon=\\\"icon-menu\\\"></md-icon></md-button></div><ul \\nclass=\\\"horizontal\\\"><li ng-repeat=\\\"node in vm.navigation\\\" ms-navigation-horizontal-node=\\\"node\\\" \\nng-class=\\\"{\\'has-children\\': vm.hasChildren}\\\" ng-include=\\\"\\'navigation-horizontal-nested.html\\'\\\"></li></ul><script \\ntype=\\\"text/ng-template\\\" id=\\\"navigation-horizontal-nested.html\\\">\\n<div ms-navigation-horizontal-item layout=\\\"row\\\" ng-if=\\\"!vm.isHidden()\\\">\\r\\n\\r\\n        <div class=\\\"ms-navigation-horizontal-button\\\" ng-if=\\\"!node.uisref && node.title\\\"\\r\\n             ng-class=\\\"{\\'active md-accent-bg md-accent-fg\\': vm.isActive}\\\">\\r\\n            <i class=\\\"icon s18 {{node.icon}}\\\" ng-if=\\\"node.icon\\\"></i>\\r\\n            <span class=\\\"title\\\" translate=\\\"{{node.translate}}\\\" flex>{{node.title}}</span>\\r\\n            <span class=\\\"badge white-fg\\\" style=\\\"background: {{node.badge.color}}\\\" ng-if=\\\"node.badge\\\">{{node.badge.content}}</span>\\r\\n            <i class=\\\"icon-chevron-right s18 arrow\\\" ng-if=\\\"vm.hasChildren\\\"></i>\\r\\n        </div>\\r\\n\\r\\n        <a class=\\\"ms-navigation-horizontal-button\\\" ui-sref=\\\"{{node.uisref}}\\\" ui-sref-active=\\\"active md-accent-bg\\\"\\r\\n           ng-class=\\\"{\\'active md-accent-bg md-accent-fg\\': vm.isActive}\\\"\\r\\n           ng-if=\\\"node.uisref && node.title\\\">\\r\\n            <i class=\\\"icon s18 {{node.icon}}\\\" ng-if=\\\"node.icon\\\"></i>\\r\\n            <span class=\\\"title\\\" translate=\\\"{{node.translate}}\\\" flex>{{node.title}}</span>\\r\\n            <span class=\\\"badge white-fg\\\" style=\\\"background: {{node.badge.color}}\\\" ng-if=\\\"node.badge\\\">{{node.badge.content}}</span>\\r\\n            <i class=\\\"icon-chevron-right s18 arrow\\\" ng-if=\\\"vm.hasChildren\\\"></i>\\r\\n        </a>\\r\\n\\r\\n    </div>\\r\\n\\r\\n    <ul ng-if=\\\"vm.hasChildren && !vm.isHidden()\\\">\\r\\n        <li ng-repeat=\\\"node in node.children\\\" ms-navigation-horizontal-node=\\\"node\\\"\\r\\n            ng-class=\\\"{\\'has-children\\': vm.hasChildren}\\\"\\r\\n            ng-include=\\\"\\'navigation-horizontal-nested.html\\'\\\"></li>\\r\\n    </ul>\\n</script>\");\n$templateCache.put(\"app/core/directives/ms-navigation/templates/vertical.html\",\"<ul><li ng-repeat=\\\"node in vm.navigation\\\" ms-navigation-node=\\\"node\\\" \\nng-class=\\\"{\\'collapsed\\': vm.collapsed, \\'has-children\\': vm.hasChildren}\\\" ng-include=\\\"\\'navigation-nested.html\\'\\\"></li></ul>\\n<script type=\\\"text/ng-template\\\" id=\\\"navigation-nested.html\\\">\\n<div ms-navigation-item layout=\\\"row\\\" ng-if=\\\"!vm.isHidden()\\\">\\r\\n\\r\\n        <div class=\\\"ms-navigation-button\\\" ng-if=\\\"!node.uisref && node.title\\\">\\r\\n            <i class=\\\"icon s16 {{node.icon}}\\\" ng-if=\\\"node.icon\\\"></i>\\r\\n            <span class=\\\"title\\\" translate=\\\"{{node.translate}}\\\" flex>{{node.title}}</span>\\r\\n            <span class=\\\"badge white-fg\\\" ng-style=\\\"{\\'background\\': node.badge.color}\\\" ng-if=\\\"node.badge\\\">{{node.badge.content}}</span>\\r\\n            <i class=\\\"icon-chevron-right s16 arrow\\\" ng-if=\\\"vm.collapsable && vm.hasChildren\\\"></i>\\r\\n        </div>\\r\\n\\r\\n        <a class=\\\"ms-navigation-button\\\" ui-sref=\\\"{{node.uisref}}\\\" ui-sref-active=\\\"active md-accent-bg\\\"\\r\\n           ng-if=\\\"node.uisref && node.title\\\">\\r\\n            <i class=\\\"icon s16 {{node.icon}}\\\" ng-if=\\\"node.icon\\\"></i>\\r\\n            <span class=\\\"title\\\" translate=\\\"{{node.translate}}\\\" flex>{{node.title}}</span>\\r\\n            <span class=\\\"badge white-fg\\\" ng-style=\\\"{\\'background\\': node.badge.color}\\\" ng-if=\\\"node.badge\\\">{{node.badge.content}}</span>\\r\\n            <i class=\\\"icon-chevron-right s16 arrow\\\" ng-if=\\\"vm.collapsable && vm.hasChildren\\\"></i>\\r\\n        </a>\\r\\n\\r\\n    </div>\\r\\n\\r\\n    <ul ng-if=\\\"vm.hasChildren && !vm.isHidden()\\\">\\r\\n        <li ng-repeat=\\\"node in node.children\\\" ms-navigation-node=\\\"node\\\"\\r\\n            ng-class=\\\"{\\'collapsed\\': vm.collapsed, \\'has-children\\': vm.hasChildren}\\\"\\r\\n            ng-include=\\\"\\'navigation-nested.html\\'\\\"></li>\\r\\n    </ul>\\n</script>\");\n$templateCache.put(\"app/core/directives/ms-card/templates/template-1/template-1.html\",\"<div class=\\\"template-1\\\"><div class=\\\"media\\\"><img class=\\\"image\\\" ng-src=\\\"{{card.media.image.src}}\\\" \\nalt=\\\"{{card.media.image.alt}}\\\" ng-show=\\\"card.media.image\\\"></div><div class=\\\"content pv-24 ph-16\\\"><div class=\\\"title h1\\\" \\nng-if=\\\"card.title\\\">{{card.title}}</div><div class=\\\"subtitle secondary-text\\\" ng-if=\\\"card.subtitle\\\">{{card.subtitle}}\\n</div><div class=\\\"text pt-16\\\" ng-if=\\\"card.text\\\">{{card.text}}</div></div></div>\");\n$templateCache.put(\"app/core/directives/ms-card/templates/template-10/template-10.html\",\"<div class=\\\"template-10 p-16\\\"><div class=\\\"pb-16\\\" layout=\\\"row\\\" layout-align=\\\"space-between center\\\"><div class=\\\"info\\\">\\n<div class=\\\"title secondary-text\\\" ng-if=\\\"card.title\\\">{{card.title}}</div><div class=\\\"subtitle h2\\\" \\nng-if=\\\"card.subtitle\\\">{{card.subtitle}}</div></div><div class=\\\"media ml-16\\\"><img class=\\\"image\\\" \\nng-src=\\\"{{card.media.image.src}}\\\" alt=\\\"{{card.media.image.alt}}\\\" ng-show=\\\"card.media.image\\\"></div></div><div \\nclass=\\\"text\\\">{{card.text}}</div></div>\");\n$templateCache.put(\"app/core/directives/ms-card/templates/template-2/template-2.html\",\"<div class=\\\"template-2\\\"><div class=\\\"header p-16\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"><div ng-if=\\\"card.avatar\\\"><img\\n class=\\\"avatar mr-16\\\" ng-src=\\\"{{card.avatar.src}}\\\" alt=\\\"{{card.avatar.alt}}\\\"></div><div class=\\\"info\\\"><div \\nclass=\\\"title\\\" ng-if=\\\"card.title\\\">{{card.title}}</div><div class=\\\"subtitle secondary-text\\\" ng-if=\\\"card.subtitle\\\">\\n{{card.subtitle}}</div></div></div><div class=\\\"media\\\"><img class=\\\"image\\\" ng-src=\\\"{{card.media.image.src}}\\\" \\nalt=\\\"{{card.media.image.alt}}\\\" ng-show=\\\"card.media.image\\\"></div><div class=\\\"text p-16\\\" ng-if=\\\"card.text\\\">{{card.text}}\\n</div></div>\");\n$templateCache.put(\"app/core/directives/ms-card/templates/template-3/template-3.html\",\"<div class=\\\"template-3 p-16 teal-bg white-fg\\\" layout=\\\"row\\\" layout-align=\\\"space-between\\\"><div layout=\\\"column\\\" \\nlayout-align=\\\"space-between\\\"><div class=\\\"info\\\"><div class=\\\"title h1\\\" ng-if=\\\"card.title\\\">{{card.title}}</div><div \\nclass=\\\"subtitle h3 secondary-text\\\" ng-if=\\\"card.subtitle\\\">{{card.subtitle}}</div></div><div class=\\\"cta\\\"><md-button \\nclass=\\\"m-0\\\">{{card.cta}}</md-button></div></div><div class=\\\"media pl-16\\\"><img class=\\\"image\\\" \\nng-src=\\\"{{card.media.image.src}}\\\" alt=\\\"{{card.media.image.alt}}\\\" ng-show=\\\"card.media.image\\\"></div></div>\");\n$templateCache.put(\"app/core/directives/ms-card/templates/template-4/template-4.html\",\"<div class=\\\"template-4\\\"><div class=\\\"info white-fg ph-16 pv-24\\\"><div class=\\\"title h1\\\" ng-if=\\\"card.title\\\">{{card.title}}\\n</div><div class=\\\"text\\\" ng-if=\\\"card.text\\\">{{card.text}}</div></div><div class=\\\"media\\\"><img class=\\\"image\\\" \\nng-src=\\\"{{card.media.image.src}}\\\" alt=\\\"{{card.media.image.alt}}\\\" ng-show=\\\"card.media.image\\\"></div></div>\");\n$templateCache.put(\"app/core/directives/ms-card/templates/template-5/template-5.html\",\"<div class=\\\"template-5 p-16\\\" layout=\\\"row\\\" layout-align=\\\"space-between start\\\"><div class=\\\"info\\\"><div \\nclass=\\\"title secondary-text\\\" ng-if=\\\"card.title\\\">{{card.title}}</div><div class=\\\"event h2\\\" ng-if=\\\"card.event\\\">\\n{{card.event}}</div></div><div class=\\\"media ml-16\\\"><img class=\\\"image\\\" ng-src=\\\"{{card.media.image.src}}\\\" \\nalt=\\\"{{card.media.image.alt}}\\\" ng-show=\\\"card.media.image\\\"></div></div>\");\n$templateCache.put(\"app/core/directives/ms-card/templates/template-6/template-6.html\",\"<div class=\\\"template-6\\\"><div class=\\\"content pv-24 ph-16\\\"><div class=\\\"subtitle secondary-text\\\" ng-if=\\\"card.subtitle\\\">\\n{{card.subtitle}}</div><div class=\\\"title h2\\\" ng-if=\\\"card.title\\\">{{card.title}}</div><div class=\\\"text pt-8\\\" \\nng-if=\\\"card.text\\\">{{card.text}}</div></div></div>\");\n$templateCache.put(\"app/core/directives/ms-card/templates/template-7/template-7.html\",\"<div class=\\\"template-7\\\" layout=\\\"row\\\" layout-align=\\\"space-between\\\"><div class=\\\"info\\\" layout=\\\"column\\\" \\nlayout-align=\\\"space-between\\\" layout-fill flex><div class=\\\"p-16\\\"><div class=\\\"title h1\\\" ng-if=\\\"card.title\\\">{{card.title}}\\n</div><div class=\\\"subtitle h4 secondary-text\\\" ng-if=\\\"card.subtitle\\\">{{card.subtitle}}</div><div class=\\\"text h4 pt-8\\\" \\nng-if=\\\"card.text\\\">{{card.text}}</div></div><div><md-divider></md-divider><div class=\\\"p-8\\\" layout=\\\"row\\\"><md-icon \\nmd-font-icon=\\\"icon-star-outline\\\" class=\\\"mh-5\\\"></md-icon><md-icon md-font-icon=\\\"icon-star-outline\\\" class=\\\"mh-5\\\">\\n</md-icon><md-icon md-font-icon=\\\"icon-star-outline\\\" class=\\\"mh-5\\\"></md-icon><md-icon md-font-icon=\\\"icon-star-outline\\\" \\nclass=\\\"mh-5\\\"></md-icon><md-icon md-font-icon=\\\"icon-star-outline\\\" class=\\\"mh-5\\\"></md-icon></div></div></div><div \\nclass=\\\"media\\\"><img class=\\\"image\\\" ng-src=\\\"{{card.media.image.src}}\\\" alt=\\\"{{card.media.image.alt}}\\\" \\nng-show=\\\"card.media.image\\\"></div></div>\");\n$templateCache.put(\"app/core/directives/ms-card/templates/template-8/template-8.html\",\"<div class=\\\"template-8\\\"><div class=\\\"media\\\"><img class=\\\"image\\\" ng-src=\\\"{{card.media.image.src}}\\\" \\nalt=\\\"{{card.media.image.alt}}\\\" ng-show=\\\"card.media.image\\\"></div><div class=\\\"content pv-24 ph-16\\\"><div class=\\\"title h1\\\" \\nng-if=\\\"card.title\\\">{{card.title}}</div><div class=\\\"subtitle secondary-text\\\" ng-if=\\\"card.subtitle\\\">{{card.subtitle}}\\n</div><div class=\\\"buttons pt-16\\\"><md-button class=\\\"m-0\\\">{{card.button1}}</md-button><md-button class=\\\"m-0 md-accent\\\">\\n{{card.button2}}</md-button></div><div class=\\\"text pt-16\\\" ng-if=\\\"card.text\\\">{{card.text}}</div></div></div>\");\n$templateCache.put(\"app/core/directives/ms-card/templates/template-9/template-9.html\",\"<div class=\\\"template-9\\\"><div class=\\\"header p-16\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"><div ng-if=\\\"card.avatar\\\"><img\\n class=\\\"avatar mr-16\\\" ng-src=\\\"{{card.avatar.src}}\\\" alt=\\\"{{card.avatar.alt}}\\\"></div><div class=\\\"info\\\"><div \\nclass=\\\"title\\\" ng-if=\\\"card.title\\\">{{card.title}}</div><div class=\\\"subtitle secondary-text\\\" ng-if=\\\"card.subtitle\\\">\\n{{card.subtitle}}</div></div></div><div class=\\\"text ph-16 pb-16\\\" ng-if=\\\"card.text\\\">{{card.text}}</div><div \\nclass=\\\"media\\\"><img class=\\\"image\\\" ng-src=\\\"{{card.media.image.src}}\\\" alt=\\\"{{card.media.image.alt}}\\\" \\nng-show=\\\"card.media.image\\\"></div><div class=\\\"buttons m-8\\\"><md-button class=\\\"md-icon-button mr-16\\\" \\naria-label=\\\"Favorite\\\"><md-icon md-font-icon=\\\"icon-heart-outline\\\" class=\\\"s24\\\"></md-icon></md-button><md-button \\nclass=\\\"md-icon-button\\\" aria-label=\\\"Share\\\"><md-icon md-font-icon=\\\"icon-share\\\" class=\\\"s24\\\"></md-icon></md-button></div>\\n</div>\");\n$templateCache.put(\"app/core/directives/ms-stepper/templates/vertical/vertical.html\",\"<div class=\\\"ms-stepper-vertical\\\"><div class=\\\"ms-stepper-vertical-line\\\"></div><div class=\\\"ms-stepper-steps\\\" \\nng-transclude></div></div>\");\n$templateCache.put(\"app/core/directives/ms-stepper/templates/horizontal/horizontal.html\",\"<div class=\\\"ms-stepper-horizontal\\\"><div class=\\\"ms-stepper-navigation-wrapper\\\"><div class=\\\"ms-stepper-navigation\\\" \\nlayout=\\\"row\\\" layout-align=\\\"center center\\\"><md-button class=\\\"ms-stepper-navigation-item\\\" \\nng-class=\\\"{\\'current\\': MsStepper.isStepCurrent(step.stepNumber), \\'valid\\': MsStepper.isStepValid(step.stepNumber), \\'disabled\\': MsStepper.isStepDisabled(step.stepNumber), \\'optional\\': MsStepper.isStepOptional(step.stepNumber)}\\\" \\nng-click=\\\"MsStepper.gotoStep(step.stepNumber)\\\" ng-disabled=\\\"MsStepper.isStepDisabled(step.stepNumber)\\\" \\nng-repeat=\\\"step in MsStepper.steps | filter:MsStepper.filterHiddenStep\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"><div \\nclass=\\\"step md-accent-bg\\\" layout=\\\"row\\\" layout-align=\\\"center center\\\"><span \\nng-if=\\\"!MsStepper.isStepValid(step.stepNumber) || MsStepper.isStepOptional(step.stepNumber)\\\">{{$index + 1}} </span>\\n<span ng-if=\\\"MsStepper.isStepValid(step.stepNumber) && !MsStepper.isStepOptional(step.stepNumber)\\\"><i \\nclass=\\\"icon icon-check s18\\\"></i></span></div><div layout=\\\"column\\\" layout-align=\\\"start start\\\"><div class=\\\"title\\\">\\n{{step.stepTitle}}</div><div class=\\\"subtitle\\\" ng-if=\\\"MsStepper.isStepOptional(step.stepNumber)\\\">Optional</div></div>\\n</md-button></div></div><div class=\\\"ms-stepper-steps\\\" ng-transclude></div><div class=\\\"ms-stepper-controls\\\" \\nlayout=\\\"row\\\" layout-align=\\\"center center\\\"><md-button class=\\\"md-accent md-raised\\\" ng-disabled=\\\"MsStepper.isFirstStep()\\\" \\nng-click=\\\"MsStepper.gotoPreviousStep()\\\">Back</md-button><div class=\\\"ms-stepper-dots\\\"><span \\nng-repeat=\\\"step in MsStepper.steps\\\" ng-hide=\\\"MsStepper.isStepHidden(step.stepNumber)\\\" \\nng-class=\\\"{\\'selected md-accent-bg\\':MsStepper.currentStepNumber === $index + 1}\\\"></span></div><md-button \\nclass=\\\"md-accent md-raised\\\" ng-if=\\\"!MsStepper.isLastStep()\\\" \\nng-disabled=\\\"!MsStepper.isStepValid(MsStepper.currentStepNumber)\\\" ng-click=\\\"MsStepper.gotoNextStep()\\\">Next</md-button>\\n<md-button type=\\\"submit\\\" class=\\\"md-accent md-raised\\\" ng-click=\\\"MsStepper.resetForm()\\\" ng-if=\\\"MsStepper.isLastStep()\\\" \\nng-disabled=\\\"!MsStepper.isFormValid()\\\">Submit</md-button></div></div>\");\n$templateCache.put(\"app/core/directives/ms-stepper/templates/vertical/step/vertical-step.html\",\"<md-button class=\\\"ms-stepper-navigation-item\\\" \\nng-class=\\\"{\\'current\\': MsStepper.isStepCurrent(stepInfo.stepNumber), \\'valid\\': MsStepper.isStepValid(stepInfo.stepNumber), \\'disabled\\': MsStepper.isStepDisabled(stepInfo.stepNumber), \\'optional\\': MsStepper.isStepOptional(stepInfo.stepNumber)}\\\" \\nng-click=\\\"MsStepper.gotoStep(stepInfo.stepNumber)\\\" ng-disabled=\\\"MsStepper.isStepDisabled(stepInfo.stepNumber)\\\" \\nng-hide=\\\"MsStepper.isStepHidden(stepInfo.stepNumber)\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"><div class=\\\"step\\\" \\nlayout=\\\"row\\\" layout-align=\\\"center center\\\"><span \\nng-if=\\\"!MsStepper.isStepValid(stepInfo.stepNumber) || MsStepper.isStepOptional(stepInfo.stepNumber)\\\"><i \\nclass=\\\"icon icon-checkbox-blank-circle-outline s18 md-accent-fg\\\"></i> </span><span \\nng-if=\\\"MsStepper.isStepValid(stepInfo.stepNumber) && !MsStepper.isStepOptional(stepInfo.stepNumber)\\\"><i \\nclass=\\\"icon icon-check-circle s18 md-accent-fg\\\"></i></span></div><div layout=\\\"column\\\" layout-align=\\\"start start\\\"><div \\nclass=\\\"title\\\">{{stepInfo.stepTitle}}</div><div class=\\\"subtitle\\\" ng-if=\\\"MsStepper.isStepOptional(stepInfo.stepNumber)\\\">\\nOptional</div></div></md-button><div class=\\\"ms-stepper-step-content\\\" ng-transclude></div><div \\nclass=\\\"ms-stepper-controls\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\" \\nng-show=\\\"MsStepper.isStepCurrent(stepInfo.stepNumber)\\\"><md-button class=\\\"md-accent md-raised\\\" \\nng-disabled=\\\"MsStepper.isFirstStep()\\\" ng-click=\\\"MsStepper.gotoPreviousStep()\\\">Back</md-button><md-button \\nclass=\\\"md-accent md-raised\\\" ng-if=\\\"!MsStepper.isLastStep()\\\" \\nng-disabled=\\\"!MsStepper.isStepValid(MsStepper.currentStepNumber)\\\" ng-click=\\\"MsStepper.gotoNextStep()\\\">Next</md-button>\\n<md-button type=\\\"submit\\\" class=\\\"md-accent md-raised\\\" ng-click=\\\"MsStepper.resetForm()\\\" ng-if=\\\"MsStepper.isLastStep()\\\" \\nng-disabled=\\\"!MsStepper.isFormValid()\\\">Submit</md-button></div>\");}]);"],"sourceRoot":"/source/"}